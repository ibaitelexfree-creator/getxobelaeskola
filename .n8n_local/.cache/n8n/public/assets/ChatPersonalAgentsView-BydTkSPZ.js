(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`6d2a9829-31a6-44f1-b8e2-c0a3868bf578`,e._sentryDebugIdIdentifier=`sentry-dbid-6d2a9829-31a6-44f1-b8e2-c0a3868bf578`)})()}catch{}import{C as e,Cn as t,D as n,E as r,Gt as i,It as a,M as o,P as s,T as c,_ as l,_t as u,bt as d,et as f,it as p,j as m,vn as h,w as g}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{N as _,yt as v}from"./_MapCache-DjbOQyB7.js";import{Hi as y,Vi as b}from"./src-CppJvwzX.js";import{t as x}from"./_plugin-vue_export-helper-B_J4Khre.js";import"./sanitize-html-K63Olwt_.js";import{Tr as S,r as C,t as w,yr as T}from"./users.store-pCkD7Zo0.js";import{Ss as E}from"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import"./_baseOrderBy-El3qbNHQ.js";import"./dateformat-BhE5sUDK.js";import"./useDebounce-D6lADr4O.js";import"./CredentialIcon-B1JZV04S.js";import{h as D,t as O}from"./constants-BeYoedeu.js";import{a as k,t as A,y as j}from"./chat.store-a0NAXg9S.js";import"./ChatAgentAvatar-B0HR6UWG.js";import{n as M,r as N,t as P}from"./SkeletonAgentCard-DPZmsywM.js";import{n as F,t as I}from"./ChatLayout-DiZPMb0c.js";var L=x(s({__name:`ChatPersonalAgentsView`,setup(s){let x=A(),E=C(),L=T(),R=S(),z=w(),B=_(D),V=v(),H=a({search:``,sortBy:`updatedAt`}),{credentialsByProvider:U}=F(z.currentUserId??`anonymous`),W=e(()=>x.agentsReady),G=e(()=>x.agents[`custom-agent`].models),K=e(()=>k(G.value,H.value));function q(){E.openModalWithData({name:O,data:{credentials:U}})}async function J(e){e.provider===`custom-agent`&&E.openModalWithData({name:O,data:{agentId:e.agentId,credentials:U}})}async function Y(e){if(!(await R.confirm(V.baseText(`chatHub.agents.delete.confirm.message`),V.baseText(`chatHub.agents.delete.confirm.title`),{confirmButtonText:V.baseText(`chatHub.agents.delete.confirm.button`),cancelButtonText:V.baseText(`chatHub.agents.delete.cancel.button`)})!==`confirm`||!U.value))try{await x.deleteCustomAgent(e,U.value),L.showMessage({type:`success`,title:V.baseText(`chatHub.agents.delete.success`)})}catch(e){L.showError(e,V.baseText(`chatHub.agents.delete.error`))}}return u(U,e=>{e&&x.fetchAgents(e,{minLoadingTime:250})},{immediate:!0}),(e,a)=>(f(),c(I,null,{default:d(()=>[g(`div`,{class:h([e.$style.container,{[e.$style.isMobileDevice]:i(B)}])},[g(`div`,{class:h(e.$style.header)},[g(`div`,{class:h(e.$style.headerContent)},[o(i(b),{tag:`h1`,size:`xlarge`,bold:``},{default:d(()=>[m(t(i(V).baseText(`chatHub.personalAgents.title`)),1)]),_:1}),o(i(b),{color:`text-light`},{default:d(()=>[m(t(i(V).baseText(`chatHub.personalAgents.description`)),1)]),_:1})],2),o(i(y),{variant:`solid`,icon:`plus`,size:`medium`,onClick:q},{default:d(()=>[m(t(i(V).baseText(`chatHub.agents.button.newAgent`)),1)]),_:1})],2),W.value&&G.value.length>0?(f(),c(M,{key:0,modelValue:H.value,"onUpdate:modelValue":a[0]||=e=>H.value=e},null,8,[`modelValue`])):r(``,!0),W.value?K.value.length===0?(f(),n(`div`,{key:2,class:h(e.$style.empty)},[o(i(b),{color:`text-light`,size:`medium`},{default:d(()=>[m(t(G.value.length===0?i(V).baseText(`chatHub.personalAgents.empty.noAgents`):i(V).baseText(`chatHub.personalAgents.empty.noMatch`)),1)]),_:1})],2)):(f(),n(`div`,{key:3,class:h(e.$style.agentsGrid)},[(f(!0),n(l,null,p(K.value,e=>(f(),n(l,{key:i(j)(e.model)},[e.model.provider===`custom-agent`?(f(),c(N,{key:0,agent:e,onEdit:t=>J(e.model),onDelete:t=>Y(e.model.agentId)},null,8,[`agent`,`onEdit`,`onDelete`])):r(``,!0)],64))),128))],2)):(f(),n(`div`,{key:1,class:h(e.$style.agentsGrid)},[(f(),n(l,null,p(5,e=>o(P,{key:e})),64))],2))],2)]),_:1}))}}),[[`__cssModules`,{$style:{container:`_container_zrzl5_125`,header:`_header_zrzl5_138`,headerContent:`_headerContent_zrzl5_146`,empty:`_empty_zrzl5_152`,agentsGrid:`_agentsGrid_zrzl5_161`}}]]);export{L as default};
//# sourceMappingURL=ChatPersonalAgentsView-BydTkSPZ.js.map