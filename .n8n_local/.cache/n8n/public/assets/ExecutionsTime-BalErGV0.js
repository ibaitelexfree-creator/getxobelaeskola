(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`c9ba7025-091e-4009-9532-0b8e85f359b4`,e._sentryDebugIdIdentifier=`sentry-dbid-c9ba7025-091e-4009-9532-0b8e85f359b4`)})()}catch{}import{o as e}from"./chunk-Din3qlHY.js";import{C as t,Cn as n,D as r,E as i,Gt as a,It as o,J as s,M as c,P as l,Pt as u,T as d,Z as f,_ as p,_t as ee,bt as m,et as h,h as g,it as _,j as v,k as te,q as ne,vn as y,w as b}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{bt as x,gt as S,yt as C}from"./_MapCache-DjbOQyB7.js";import{At as re,Hi as w,Oi as T,Ui as E,V as D,Vi as O,ft as k,gi as A,ji as j,pt as M,st as ie}from"./src-CppJvwzX.js";import{t as N}from"./_plugin-vue_export-helper-B_J4Khre.js";import{t as P}from"./date-picker-CHH0vNVG.js";import{Lt as F,oa as I,r as L,ws as ae}from"./users.store-pCkD7Zo0.js";import{Os as R,Yc as oe}from"./constants-D1jZwsUK.js";import{t as se}from"./useDebounce-D6lADr4O.js";import{t as z}from"./usePageRedirectionHelper-BoF8hzbN.js";import{t as B}from"./WorkflowTagsDropdown-Bab-8Jcr.js";import{t as V}from"./AnnotationTagsDropdown.ee-Cj5VoFhA.js";var H=N(l({__name:`ConcurrentExecutionsHeader`,props:{runningExecutionsCount:{},concurrencyCap:{},isCloudDeployment:{type:Boolean}},emits:[`goToUpgrade`],setup(e,{emit:i}){let o=e,s=i,l=C(),u=t(()=>{let e=l.baseText(`executionsList.activeExecutions.tooltip`,{interpolate:{running:o.runningExecutionsCount,cap:o.concurrencyCap}});return e+=`
`+l.baseText(`executionsList.activeExecutions.evaluationNote`),e}),f=t(()=>o.runningExecutionsCount===0?l.baseText(`executionsList.activeExecutions.none`):l.baseText(`executionsList.activeExecutions.header`,{interpolate:{running:o.runningExecutionsCount,cap:o.concurrencyCap}}));return(e,t)=>(h(),r(`div`,{"data-test-id":`concurrent-executions-header`,class:y(e.$style.concurrentExecutionHeader)},[c(a(O),null,{default:m(()=>[v(n(f.value),1)]),_:1}),c(a(T),null,{content:m(()=>[b(`div`,{class:y(e.$style.tooltip)},[v(n(u.value)+` `,1),o.isCloudDeployment?(h(),d(a(A),{key:0,bold:``,size:`small`,class:y(e.$style.link),onClick:t[0]||=e=>s(`goToUpgrade`)},{default:m(()=>[v(n(a(l).baseText(`generic.upgradeNow`)),1)]),_:1},8,[`class`])):(h(),d(a(A),{key:1,class:y(e.$style.link),href:a(l).baseText(`executions.concurrency.docsLink`),target:`_blank`},{default:m(()=>[v(n(a(l).baseText(`generic.viewDocs`)),1)]),_:1},8,[`class`,`href`]))],2)]),default:m(()=>[c(a(E),{icon:`info`,class:`ml-2xs`})]),_:1})],2))}}),[[`__cssModules`,{$style:{tooltip:`_tooltip_1c31h_125`,link:`_link_1c31h_130`,concurrentExecutionHeader:`_concurrentExecutionHeader_1c31h_134`}}]]),U={"data-test-id":`execution-filter-form`},W={for:`execution-filter-workflows`},G={for:`execution-filter-tags`},ce={for:`execution-filter-status`},le={for:`execution-filter-start-date`},ue={for:`execution-filter-annotation-tags`},de={for:`execution-filter-annotation-vote`},fe={for:`execution-filter-saved-data-key`},pe={for:`execution-filter-saved-data-value`},K=`YYYY-MM-DD HH:mm`,q=N(l({__name:`ExecutionsFilter`,props:{workflows:{default:()=>[]},popoverSide:{default:`bottom`},popoverAlign:{default:`center`},teleported:{type:Boolean,default:!0}},emits:[`filterChanged`],setup(e,{emit:s}){let l=ae(),{debounce:f}=se(),C=F(),O=z(),A=e,N=s,L=f(N,{debounceTime:500}),R=o(!1),H=t(()=>l.isEnterpriseFeatureEnabled[oe.AdvancedExecutionFilters]),q=t(()=>H.value),J=t(()=>!1),Y=()=>({status:`all`,workflowId:`all`,tags:[],annotationTags:[],startDate:``,endDate:``,metadata:[{key:``,value:``,exactMatch:!1}],vote:`all`}),X=u(Y());ee(X,e=>{e.startDate||e.endDate?L(`filterChanged`,e):N(`filterChanged`,e)},{deep:!0,immediate:!1});let me=t(()=>[{id:`all`,name:S.baseText(`executionsList.anyStatus`)},{id:`error`,name:S.baseText(`executionsList.error`)},{id:`canceled`,name:S.baseText(`executionsList.canceled`)},{id:`new`,name:S.baseText(`executionsList.new`)},{id:`running`,name:S.baseText(`executionsList.running`)},{id:`success`,name:S.baseText(`executionsList.success`)},{id:`waiting`,name:S.baseText(`executionsList.waiting`)}]),he=t(()=>[{id:`all`,name:S.baseText(`executionsFilter.annotation.rating.all`)},{id:`up`,name:S.baseText(`executionsFilter.annotation.rating.good`)},{id:`down`,name:S.baseText(`executionsFilter.annotation.rating.bad`)}]),Z=t(()=>[X.status!==`all`,X.workflowId!==`all`&&A.workflows.length,!I(X.tags),!I(X.annotationTags),X.vote!==`all`,!I(X.metadata),!!X.startDate,!!X.endDate].filter(Boolean).length),Q=(e,t,n)=>{X.metadata[e]||(X.metadata[e]={key:``,value:``,exactMatch:!1}),X.metadata[e][t]=n,R.value||=(C.track(`User filtered executions with custom data`),!0),L(`filterChanged`,X)},ge=()=>{N(`filterChanged`,X)},_e=()=>{N(`filterChanged`,X)},ve=()=>{Object.assign(X,Y())},$=()=>{O.goToUpgrade(`custom-data-filter`,`upgrade-custom-data-filter`)},ye=e=>{typeof e==`boolean`&&Q(0,`exactMatch`,e)};return ne(()=>{R.value=!1}),(t,o)=>(h(),d(a(D),{side:A.popoverSide,align:A.popoverAlign,"position-strategy":`absolute`,width:`440px`,"content-class":t.$style[`popover-content`],"show-arrow":``},{trigger:m(()=>[c(a(w),{variant:`subtle`,iconOnly:``,icon:`funnel`,size:`medium`,active:!!Z.value,"data-test-id":`executions-filter-button`,class:y(t.$style.filterButton)},te({_:2},[Z.value?{name:`default`,fn:m(()=>[c(a(re),{theme:`primary`,class:y([`mr-4xs`,t.$style.filterBadge]),"data-test-id":`execution-filter-badge`},{default:m(()=>[v(n(Z.value),1)]),_:1},8,[`class`])]),key:`0`}:void 0]),1032,[`active`,`class`])]),content:m(()=>[b(`div`,U,[e.workflows&&e.workflows.length>0?(h(),r(`div`,{key:0,class:y(t.$style.group)},[b(`label`,W,n(a(S).baseText(`workflows.heading`)),1),c(a(k),{id:`execution-filter-workflows`,modelValue:X.workflowId,"onUpdate:modelValue":o[0]||=e=>X.workflowId=e,placeholder:a(S).baseText(`executionsFilter.selectWorkflow`),filterable:``,"data-test-id":`executions-filter-workflows-select`,teleported:e.teleported},{default:m(()=>[b(`div`,null,[(h(!0),r(p,null,_(A.workflows,(e,t)=>(h(),d(a(M),{key:t,label:e.name,value:e.id},null,8,[`label`,`value`]))),128))])]),_:1},8,[`modelValue`,`placeholder`,`teleported`])],2)):i(``,!0),J.value?(h(),r(`div`,{key:1,class:y(t.$style.group)},[b(`label`,G,n(a(S).baseText(`workflows.filters.tags`)),1),c(B,{id:`execution-filter-tags`,modelValue:X.tags,"onUpdate:modelValue":[o[1]||=e=>X.tags=e,ge],placeholder:a(S).baseText(`workflowOpen.filterWorkflows`),"create-enabled":!1,"data-test-id":`executions-filter-tags-select`},null,8,[`modelValue`,`placeholder`])],2)):i(``,!0),b(`div`,{class:y(t.$style.group)},[b(`label`,ce,n(a(S).baseText(`executionsList.status`)),1),c(a(k),{id:`execution-filter-status`,modelValue:X.status,"onUpdate:modelValue":o[2]||=e=>X.status=e,placeholder:a(S).baseText(`executionsFilter.selectStatus`),filterable:``,"data-test-id":`executions-filter-status-select`,teleported:e.teleported},{default:m(()=>[(h(!0),r(p,null,_(me.value,(e,t)=>(h(),d(a(M),{key:t,label:e.name,value:e.id},null,8,[`label`,`value`]))),128))]),_:1},8,[`modelValue`,`placeholder`,`teleported`])],2),b(`div`,{class:y(t.$style.group)},[b(`label`,le,n(a(S).baseText(`executionsFilter.start`)),1),b(`div`,{class:y(t.$style.dates)},[c(a(P),{id:`execution-filter-start-date`,modelValue:X.startDate,"onUpdate:modelValue":o[3]||=e=>X.startDate=e,type:`datetime`,teleported:e.teleported,format:K,placeholder:a(S).baseText(`executionsFilter.startDate`),"data-test-id":`executions-filter-start-date-picker`},null,8,[`modelValue`,`teleported`,`placeholder`]),b(`span`,{class:y(t.$style.divider)},`to`,2),c(a(P),{id:`execution-filter-end-date`,modelValue:X.endDate,"onUpdate:modelValue":o[4]||=e=>X.endDate=e,type:`datetime`,teleported:e.teleported,format:K,placeholder:a(S).baseText(`executionsFilter.endDate`),"data-test-id":`executions-filter-end-date-picker`},null,8,[`modelValue`,`teleported`,`placeholder`])],2)],2),q.value?(h(),r(`div`,{key:2,class:y(t.$style.group)},[b(`label`,ue,n(a(S).baseText(`executionsFilter.annotation.tags`)),1),c(V,{id:`execution-filter-annotation-tags`,modelValue:X.annotationTags,"onUpdate:modelValue":[o[5]||=e=>X.annotationTags=e,_e],placeholder:a(S).baseText(`workflowOpen.filterWorkflows`),"create-enabled":!1,"data-test-id":`executions-filter-annotation-tags-select`},null,8,[`modelValue`,`placeholder`])],2)):i(``,!0),q.value?(h(),r(`div`,{key:3,class:y(t.$style.group)},[b(`label`,de,n(a(S).baseText(`executionsFilter.annotation.rating`)),1),c(a(k),{id:`execution-filter-annotation-vote`,modelValue:X.vote,"onUpdate:modelValue":o[6]||=e=>X.vote=e,placeholder:a(S).baseText(`executionsFilter.annotation.selectVoteFilter`),filterable:``,"data-test-id":`executions-filter-annotation-vote-select`,teleported:e.teleported},{default:m(()=>[(h(!0),r(p,null,_(he.value,(e,t)=>(h(),d(a(M),{key:t,label:e.name,value:e.id},null,8,[`label`,`value`]))),128))]),_:1},8,[`modelValue`,`placeholder`,`teleported`])],2)):i(``,!0),b(`div`,{class:y(t.$style.group)},[c(a(T),{placement:`right`},{content:m(()=>[c(a(x),{tag:`span`,keypath:`executionsFilter.customData.docsTooltip`,scope:`global`})]),default:m(()=>[b(`span`,{class:y([t.$style.label,t.$style.savedDataLabel])},[b(`span`,null,n(a(S).baseText(`executionsFilter.savedData`)),1),c(a(E),{class:y(t.$style.tooltipIcon),icon:`circle-help`,size:`medium`},null,8,[`class`])],2)]),_:1}),b(`div`,{class:y(t.$style.subGroup)},[b(`label`,fe,n(a(S).baseText(`executionsFilter.savedDataKey`)),1),c(a(T),{disabled:H.value,placement:`top`},{content:m(()=>[c(a(x),{tag:`span`,keypath:`executionsFilter.customData.inputTooltip`,scope:`global`},{link:m(()=>[b(`a`,{href:`#`,"data-test-id":`executions-filter-view-plans-link`,onClick:g($,[`prevent`])},n(a(S).baseText(`executionsFilter.customData.inputTooltip.link`)),1)]),_:1})]),default:m(()=>[c(a(j),{id:`execution-filter-saved-data-key`,name:`execution-filter-saved-data-key`,type:`text`,disabled:!H.value,placeholder:a(S).baseText(`executionsFilter.savedDataKeyPlaceholder`),"model-value":X.metadata[0]?.key,"data-test-id":`execution-filter-saved-data-key-input`,"onUpdate:modelValue":o[7]||=e=>Q(0,`key`,e)},null,8,[`disabled`,`placeholder`,`model-value`])]),_:1},8,[`disabled`]),b(`div`,{class:y(t.$style.checkboxWrapper)},[c(a(T),{disabled:H.value,placement:`top`},{content:m(()=>[c(a(x),{tag:`span`,keypath:`executionsFilter.customData.inputTooltip`,scope:`global`},{link:m(()=>[b(`a`,{href:`#`,onClick:g($,[`prevent`])},n(a(S).baseText(`executionsFilter.customData.inputTooltip.link`)),1)]),_:1})]),default:m(()=>[c(a(ie),{label:a(S).baseText(`executionsFilter.savedDataExactMatch`),"model-value":X.metadata[0]?.exactMatch,disabled:!H.value,"data-test-id":`execution-filter-saved-data-exact-match-checkbox`,"onUpdate:modelValue":ye},null,8,[`label`,`model-value`,`disabled`])]),_:1},8,[`disabled`])],2),b(`label`,pe,n(a(S).baseText(`executionsFilter.savedDataValue`)),1),c(a(T),{disabled:H.value,placement:`top`},{content:m(()=>[c(a(x),{tag:`span`,keypath:`executionsFilter.customData.inputTooltip`,scope:`global`},{link:m(()=>[b(`a`,{href:`#`,onClick:g($,[`prevent`])},n(a(S).baseText(`executionsFilter.customData.inputTooltip.link`)),1)]),_:1})]),default:m(()=>[c(a(j),{id:`execution-filter-saved-data-value`,name:`execution-filter-saved-data-value`,type:`text`,disabled:!H.value,placeholder:a(S).baseText(`executionsFilter.savedDataValuePlaceholder`),"model-value":X.metadata[0]?.value,"data-test-id":`execution-filter-saved-data-value-input`,"onUpdate:modelValue":o[8]||=e=>Q(0,`value`,e)},null,8,[`disabled`,`placeholder`,`model-value`])]),_:1},8,[`disabled`])],2)],2),Z.value?(h(),d(a(w),{key:4,variant:`ghost`,class:y(t.$style.resetBtn),size:`large`,"data-test-id":`executions-filter-reset-button`,onClick:ve},{default:m(()=>[v(n(a(S).baseText(`executionsFilter.reset`)),1)]),_:1},8,[`class`])):i(``,!0)])]),_:1},8,[`side`,`align`,`content-class`]))}}),[[`__cssModules`,{$style:{group:`_group_1yvvq_125`,label:`_label_1yvvq_126`,savedDataLabel:`_savedDataLabel_1yvvq_133`,subGroup:`_subGroup_1yvvq_141`,checkboxWrapper:`_checkboxWrapper_1yvvq_149`,dates:`_dates_1yvvq_157`,divider:`_divider_1yvvq_165`,resetBtn:`_resetBtn_1yvvq_170`,tooltipIcon:`_tooltipIcon_1yvvq_175`,filterButton:`_filterButton_1yvvq_179`,filterBadge:`_filterBadge_1yvvq_182`,"popover-content":`_popover-content_1yvvq_189`}}],[`__scopeId`,`data-v-7a398ecc`]]),J=N(l({__name:`ExecutionStopAllText`,props:{executions:{}},setup(e){let r=e,o=L(),s=C(),c=t(()=>r.executions.find(e=>[`new`,`running`,`waiting`].includes(e.status))),l=F();function u(){l.track(`User initiated stop many executions`),o.openModal(R)}return(e,t)=>c.value?(h(),d(a(O),{key:0,class:y(e.$style.stopAll),size:`small`,color:`text-base`,onClick:u},{default:m(()=>[v(n(a(s).baseText(`generic.stopAll`)),1)]),_:1},8,[`class`])):i(``,!0)}}),[[`__cssModules`,{$style:{stopAll:`_stopAll_jkvxp_125`}}]]),Y=l({__name:`ExecutionsTime`,props:{startTime:{}},setup(e){let i=e,a=C(),c=o(-1),l=o(null),u=t(()=>{if(!i.startTime)return`...`;let e=c.value-new Date(i.startTime).getTime();return a.displayTimer(e)});f(()=>{d(),l.value=setInterval(()=>{d()},1e3)}),s(()=>{l.value!==null&&clearInterval(l.value)});function d(){c.value=new Date().getTime()}return(e,t)=>(h(),r(`span`,null,n(u.value),1))}});export{H as i,J as n,q as r,Y as t};
//# sourceMappingURL=ExecutionsTime-BalErGV0.js.map