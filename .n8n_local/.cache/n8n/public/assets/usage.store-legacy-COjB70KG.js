!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./users.store-legacy-B-bVJKl3.js","./_baseOrderBy-legacy-BnyL5wLN.js"],(function(e,a){var t,n,i,s,o,l,r,u,d,g,c,v;return{setters:[function(e){t=e.C,n=e.Pt},function(e){i=e.As,s=e.Ms,o=e.Ns,l=e.js,r=e.ks,u=e.ws},function(e){d=e.j,g=e.r}],execute:function(){try{a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(f=(new a.Error).stack)&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[f]="d14695de-a7d1-4bfa-8c58-6d140e530403",a._sentryDebugIdIdentifier="sentry-dbid-d14695de-a7d1-4bfa-8c58-6d140e530403")}catch(a){}var a,f;v={loading:!0,data:{usage:{activeWorkflowTriggers:{limit:-1,value:0,warningThreshold:.8},workflowsHavingEvaluations:{value:0,limit:0}},license:{planId:"",planName:c="Community"}}},e("t",d("usage",(()=>{const e=g(),a=u(),d=n({...v}),f=t((()=>d.data.license.planName||c)),w=t((()=>d.data.license.planId)),y=t((()=>d.data.usage.activeWorkflowTriggers.limit)),m=t((()=>d.data.usage.activeWorkflowTriggers.value)),p=t((()=>d.data.usage.workflowsHavingEvaluations.limit)),b=t((()=>d.data.usage.workflowsHavingEvaluations.value)),T=t((()=>m.value/y.value*100)),k=t((()=>a.settings.instanceId)),h=t((()=>d.data.managementToken)),C=t((()=>a.settings.versionCli)),E=t((()=>`instanceid=${k.value}&version=${C.value}`)),I=t((()=>"production"===a.settings.license.environment?"https://subscription.n8n.io":"https://staging-subscription.n8n.io")),L=e=>{d.data=e},_=async()=>{L(await i(e.restApiContext))};return{setLoading:e=>{d.loading=e},getLicenseInfo:_,setData:L,activateLicense:async(t,n)=>{L(await r(e.restApiContext,{activationKey:t,eulaUri:n})),await a.getSettings(),await a.getModuleSettings()},refreshLicenseManagementToken:async()=>{try{L(await s(e.restApiContext))}catch(a){await _()}},requestEnterpriseLicenseTrial:async()=>{await o(e.restApiContext)},registerCommunityEdition:async a=>await l(e.restApiContext,{email:a}),planName:f,planId:w,activeWorkflowTriggersLimit:y,activeWorkflowTriggersCount:m,workflowsWithEvaluationsLimit:p,workflowsWithEvaluationsCount:b,executionPercentage:T,instanceId:k,managementToken:h,appVersion:C,isCloseToLimit:t((()=>!(d.data.usage.activeWorkflowTriggers.limit<0)&&m.value/y.value>=d.data.usage.activeWorkflowTriggers.warningThreshold)),viewPlansUrl:t((()=>`${I.value}?${E.value}`)),managePlanUrl:t((()=>`${I.value}/manage?token=${h.value}&${E.value}`)),isLoading:t((()=>d.loading)),telemetryPayload:t((()=>({instance_id:k.value,action:"view_plans",plan_name_current:f.value,usage:m.value,quota:y.value})))}})))}}}));
//# sourceMappingURL=usage.store-legacy-COjB70KG.js.map