(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`b81b1f40-e6b7-4794-b2aa-5d18a5c83004`,e._sentryDebugIdIdentifier=`sentry-dbid-b81b1f40-e6b7-4794-b2aa-5d18a5c83004`)})()}catch{}import{o as e,t}from"./chunk-Din3qlHY.js";import{$ as n,$t as r,Bt as i,C as a,Cn as o,D as s,E as c,F as l,G as u,Gt as d,Ht as f,It as p,J as m,L as h,M as g,P as _,Q as v,T as y,Z as b,_ as x,_t as S,at as C,bn as w,bt as T,cn as E,ct as D,et as O,g as k,h as A,it as j,j as M,jt as N,mn as P,nn as F,nt as ee,ot as I,p as te,pt as ne,q as re,st as ie,tn as L,u as R,vn as z,vt as B,w as V,xt as H,z as U}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{$t as ae,Ar as oe,Br as W,En as se,Er as ce,Fn as le,Gr as ue,Hr as de,In as fe,Jr as pe,Kr as me,Kt as he,Lr as ge,Mn as _e,Nn as ve,Or as ye,Pr as be,Qn as xe,Qr as Se,Qt as Ce,Rr as we,Ur as Te,Wr as Ee,Wt as De,Xr as Oe,Xt as ke,Yr as Ae,Zr as je,_r as Me,bn as Ne,ci as G,cn as Pe,cr as Fe,dr as Ie,en as Le,fn as K,fr as Re,gr as ze,hr as Be,ii as Ve,ir as He,jn as Ue,jr as We,kr as Ge,lr as Ke,nn as qe,nr as Je,on as Ye,or as Xe,pn as Ze,pr as Qe,qn as $e,qr as et,ri as tt,rn as nt,rr as rt,sn as it,tn as at,tr as ot,un as st,vr as ct,wn as lt,yr as ut}from"./src-CppJvwzX.js";import{a as dt,c as ft,i as pt,n as mt,o as ht,s as gt,t as _t}from"./_initCloneObject-CdQbDHKp.js";import{n as vt,t as yt}from"./flatten-D8LKlTI-.js";function bt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var xt=bt,St=800,Ct=16,wt=Date.now;function Tt(e){var t=0,n=0;return function(){var r=wt(),i=Ct-(r-n);if(n=r,i>0){if(++t>=St)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Et=Tt;function Dt(e){return function(){return e}}var Ot=Dt,kt=Et(ue?function(e,t){return ue(e,`toString`,{configurable:!0,enumerable:!1,value:Ot(t),writable:!0})}:et),At=Math.max;function jt(e,t,n){return t=At(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=At(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),xt(e,this,s)}}var Mt=jt;function Nt(e,t){return kt(Mt(e,t,et),e+``)}var Pt=Nt;function Ft(e,t,n){if(!pe(n))return!1;var r=typeof t;return(r==`number`?W(n)&&Ee(t,n.length):r==`string`&&t in n)?de(n[t],e):!1}var It=Ft;function Lt(e){return Pt(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a==`function`?(i--,a):void 0,o&&It(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var Rt=Lt;function zt(e){return kt(Mt(e,void 0,yt),e+``)}var Bt=zt,Vt=`[object Object]`,Ht=Function.prototype,Ut=Object.prototype,Wt=Ht.toString,Gt=Ut.hasOwnProperty,Kt=Wt.call(Object);function qt(e){if(!je(e)||Se(e)!=Vt)return!1;var t=dt(e);if(t===null)return!0;var n=Gt.call(t,`constructor`)&&t.constructor;return typeof n==`function`&&n instanceof n&&Wt.call(n)==Kt}var Jt=qt;function Yt(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(n(a[c],c,a)===!1)break}return t}}var Xt=Yt();function Zt(e,t){return e&&Xt(e,t,We)}var Qt=Zt;function $t(e,t){return function(n,r){if(n==null)return n;if(!W(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var en=$t(Qt);function tn(e,t,n){(n!==void 0&&!de(e[t],n)||n===void 0&&!(t in e))&&Te(e,t,n)}var nn=tn;function rn(e){return je(e)&&W(e)}var an=rn;function on(e,t){if(!(t===`constructor`&&typeof e[t]==`function`)&&t!=`__proto__`)return e[t]}var sn=on;function cn(e){return gt(e,ht(e))}var ln=cn;function un(e,t,n,r,i,a,o){var s=sn(e,n),c=sn(t,n),l=o.get(c);if(l){nn(e,n,l);return}var u=a?a(s,c,n+``,e,t,o):void 0,d=u===void 0;if(d){var f=Ae(c),p=!f&&ge(c),m=!f&&!p&&be(c);u=c,f||p||m?Ae(s)?u=s:an(s)?u=ft(s):p?(d=!1,u=pt(c,!0)):m?(d=!1,u=mt(c,!0)):u=[]:Jt(c)||we(c)?(u=s,we(s)?u=ln(s):(!pe(s)||me(s))&&(u=_t(c))):d=!1}d&&(o.set(c,u),i(u,c,r,a,o),o.delete(c)),nn(e,n,u)}var dn=un;function fn(e,t,n,r,i){e!==t&&Xt(t,function(a,o){if(i||=new ce,pe(a))dn(e,t,o,n,fn,r,i);else{var s=r?r(sn(e,o),a,o+``,e,t,i):void 0;s===void 0&&(s=a),nn(e,o,s)}},ht)}var pn=fn;function mn(e,t){var n=-1,r=W(e)?Array(e.length):[];return en(e,function(e,i,a){r[++n]=t(e,i,a)}),r}var hn=mn;function gn(e,t){return(Ae(e)?Oe:hn)(e,ct(t,3))}var _n=gn;function vn(e,t){return vt(_n(e,t),1)}var yn=vn,bn=Rt(function(e,t,n){pn(e,t,n)});function xn(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Ge(e,o);n(s,o)&&Qe(a,oe(o,e),s)}return a}var Sn=xn;function Cn(e,t){return Sn(e,t,function(t,n){return ut(e,n)})}var wn=Cn,Tn=Bt(function(e,t){return e==null?{}:wn(e,t)}),En=e=>G?window.requestAnimationFrame(e):setTimeout(e,16),Dn=!1,q,On,kn,An,jn,Mn,Nn,Pn,Fn,In,Ln,Rn,zn,Bn,Vn;function J(){if(!Dn){Dn=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Rn=/\b(iPhone|iP[ao]d)/.exec(e),zn=/\b(iP[ao]d)/.exec(e),In=/Android/i.exec(e),Bn=/FBAN\/\w+;/i.exec(e),Vn=/Mobile/i.exec(e),Ln=!!/Win64/.exec(e),t){q=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,q&&document&&document.documentMode&&(q=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);Mn=r?parseFloat(r[1])+4:q,On=t[2]?parseFloat(t[2]):NaN,kn=t[3]?parseFloat(t[3]):NaN,An=t[4]?parseFloat(t[4]):NaN,An?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),jn=t&&t[1]?parseFloat(t[1]):NaN):jn=NaN}else q=On=kn=jn=An=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Nn=i?parseFloat(i[1].replace(`_`,`.`)):!0}else Nn=!1;Pn=!!n[2],Fn=!!n[3]}else Nn=Pn=Fn=!1}}var Hn={ie:function(){return J()||q},ieCompatibilityMode:function(){return J()||Mn>q},ie64:function(){return Hn.ie()&&Ln},firefox:function(){return J()||On},opera:function(){return J()||kn},webkit:function(){return J()||An},safari:function(){return Hn.webkit()},chrome:function(){return J()||jn},windows:function(){return J()||Pn},osx:function(){return J()||Nn},linux:function(){return J()||Fn},iphone:function(){return J()||Rn},mobile:function(){return J()||Rn||zn||In||Vn},nativeApp:function(){return J()||Bn},android:function(){return J()||In},ipad:function(){return J()||zn}},Un=Hn,Wn=!!(typeof window<`u`&&window.document&&window.document.createElement),Gn={canUseDOM:Wn,canUseWorkers:typeof Worker<`u`,canUseEventListeners:Wn&&!!(window.addEventListener||window.attachEvent),canUseViewport:Wn&&!!window.screen,isInWorker:!Wn},Kn;Gn.canUseDOM&&(Kn=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature(``,``)!==!0);function qn(e,t){if(!Gn.canUseDOM||t&&!(`addEventListener`in document))return!1;var n=`on`+e,r=n in document;if(!r){var i=document.createElement(`div`);i.setAttribute(n,`return;`),r=typeof i[n]==`function`}return!r&&Kn&&e===`wheel`&&(r=document.implementation.hasFeature(`Events.wheel`,`3.0`)),r}var Jn=qn,Yn=10,Xn=40,Zn=800;function Qn(e){var t=0,n=0,r=0,i=0;return`detail`in e&&(n=e.detail),`wheelDelta`in e&&(n=-e.wheelDelta/120),`wheelDeltaY`in e&&(n=-e.wheelDeltaY/120),`wheelDeltaX`in e&&(t=-e.wheelDeltaX/120),`axis`in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*Yn,i=n*Yn,`deltaY`in e&&(i=e.deltaY),`deltaX`in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=Xn,i*=Xn):(r*=Zn,i*=Zn)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}Qn.getEventType=function(){return Un.firefox()?`DOMMouseScroll`:Jn(`wheel`)?`wheel`:`mousewheel`};var $n=Qn,er=function(e,t){e&&e.addEventListener&&e.addEventListener(`wheel`,function(e){let n=$n(e);t&&Reflect.apply(t,this,[e,n])},{passive:!0})},tr={beforeMount(e,t){er(e,t.value)}};L();var nr={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Ye,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},rr={[Ne]:e=>P(e)||Ie(e)||Fe(e),change:e=>P(e)||Ie(e)||Fe(e)},Y=Symbol(`checkboxGroupContextKey`),ir=({model:e,isChecked:t})=>{let n=U(Y,void 0),r=a(()=>{let r=n?.max?.value,i=n?.min?.value;return!Re(r)&&e.value.length>=r&&!t.value||!Re(i)&&e.value.length<=i&&t.value});return{isDisabled:Le(a(()=>n?.disabled.value||r.value)),isLimitDisabled:r}},ar=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:o})=>{let s=U(Y,void 0),{formItem:c}=Ce(),{emit:d}=l();function f(t){return t===e.trueLabel||t===!0?e.trueLabel??!0:e.falseLabel??!1}function p(e,t){d(`change`,f(e),t)}function m(e){if(n.value)return;let t=e.target;d(`change`,f(t.checked),e)}async function h(a){n.value||!r.value&&!i.value&&o.value&&(a.composedPath().some(e=>e.tagName===`LABEL`)||(t.value=f([!1,e.falseLabel].includes(t.value)),await u(),p(t.value,a)))}let g=a(()=>s?.validateEvent||e.validateEvent);return S(()=>e.modelValue,()=>{g.value&&c?.validate(`change`).catch(e=>rt(e))}),{handleChange:m,onClickRoot:h}};L();var or=e=>{let t=p(!1),{emit:n}=l(),r=U(Y,void 0),i=a(()=>Re(r)===!1),o=p(!1);return{model:a({get(){return i.value?r?.modelValue?.value:e.modelValue??t.value},set(e){var a;i.value&&F(e)?(o.value=r?.max?.value!==void 0&&e.length>r?.max.value,o.value===!1&&((a=r?.changeEvent)==null||a.call(r,e))):(n(Ne,e),t.value=e)}}),isGroup:i,isLimitExceeded:o}};L();var sr=(e,t,{model:n})=>{let r=U(Y,void 0),o=p(!1),s=a(()=>{let t=n.value;return Fe(t)?t:F(t)?E(e.label)?t.map(i).some(t=>ze(t,e.label)):t.map(i).includes(e.label):t==null?!!t:t===e.trueLabel});return{checkboxButtonSize:at(a(()=>r?.size?.value),{prop:!0}),isChecked:s,isFocused:o,checkboxSize:at(a(()=>r?.size?.value)),hasOwnLabel:a(()=>!!t.default||!Be(e.label))}};L();var cr=(e,{model:t})=>{function n(){F(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&n()},lr=(e,t)=>{let{formItem:n}=Ce(),{model:r,isGroup:i,isLimitExceeded:a}=or(e),{isFocused:o,isChecked:s,checkboxButtonSize:c,checkboxSize:l,hasOwnLabel:u}=sr(e,t,{model:r}),{isDisabled:d}=ir({model:r,isChecked:s}),{inputId:f,isLabeledByFormItem:p}=ae(e,{formItemContext:n,disableIdGeneration:u,disableIdManagement:i}),{handleChange:m,onClickRoot:h}=ar(e,{model:r,isLimitExceeded:a,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:p});return cr(e,{model:r}),{inputId:f,isLabeledByFormItem:p,isChecked:s,isDisabled:d,isFocused:o,checkboxButtonSize:c,checkboxSize:l,hasOwnLabel:u,model:r,handleChange:m,onClickRoot:h}},ur=[`id`,`indeterminate`,`name`,`tabindex`,`disabled`,`true-value`,`false-value`],dr=[`id`,`indeterminate`,`disabled`,`value`,`name`,`tabindex`],fr=nt(_({..._({name:`ElCheckbox`}),props:nr,emits:rr,setup(e){let t=e,{inputId:n,isLabeledByFormItem:r,isChecked:i,isDisabled:l,isFocused:u,checkboxSize:f,hasOwnLabel:p,model:m,handleChange:h,onClickRoot:g}=lr(t,ne()),_=K(`checkbox`),v=a(()=>[_.b(),_.m(f.value),_.is(`disabled`,l.value),_.is(`bordered`,t.border),_.is(`checked`,i.value)]),b=a(()=>[_.e(`input`),_.is(`disabled`,l.value),_.is(`checked`,i.value),_.is(`indeterminate`,t.indeterminate),_.is(`focus`,u.value)]);return(e,t)=>(O(),y(D(!d(p)&&d(r)?`span`:`label`),{class:z(d(v)),"aria-controls":e.indeterminate?e.controls:null,onClick:d(g)},{default:T(()=>[V(`span`,{class:z(d(b))},[e.trueLabel||e.falseLabel?H((O(),s(`input`,{key:0,id:d(n),"onUpdate:modelValue":t[0]||=e=>N(m)?m.value=e:null,class:z(d(_).e(`original`)),type:`checkbox`,indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:d(l),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||=(...e)=>d(h)&&d(h)(...e),onFocus:t[2]||=e=>u.value=!0,onBlur:t[3]||=e=>u.value=!1,onClick:t[4]||=A(()=>{},[`stop`])},null,42,ur)),[[R,d(m)]]):H((O(),s(`input`,{key:1,id:d(n),"onUpdate:modelValue":t[5]||=e=>N(m)?m.value=e:null,class:z(d(_).e(`original`)),type:`checkbox`,indeterminate:e.indeterminate,disabled:d(l),value:e.label,name:e.name,tabindex:e.tabindex,onChange:t[6]||=(...e)=>d(h)&&d(h)(...e),onFocus:t[7]||=e=>u.value=!0,onBlur:t[8]||=e=>u.value=!1,onClick:t[9]||=A(()=>{},[`stop`])},null,42,dr)),[[R,d(m)]]),V(`span`,{class:z(d(_).e(`inner`))},null,2)],2),d(p)?(O(),s(`span`,{key:0,class:z(d(_).e(`label`))},[C(e.$slots,`default`),e.$slots.default?c(`v-if`,!0):(O(),s(x,{key:0},[M(o(e.label),1)],64))],2)):c(`v-if`,!0)]),_:3},8,[`class`,`aria-controls`,`onClick`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue`]]),pr=[`name`,`tabindex`,`disabled`,`true-value`,`false-value`],mr=[`name`,`tabindex`,`disabled`,`value`],hr=nt(_({..._({name:`ElCheckboxButton`}),props:nr,emits:rr,setup(e){let{isFocused:t,isChecked:n,isDisabled:r,checkboxButtonSize:i,model:l,handleChange:u}=lr(e,ne()),f=U(Y,void 0),p=K(`checkbox`),m=a(()=>{let e=f?.fill?.value??``;return{backgroundColor:e,borderColor:e,color:f?.textColor?.value??``,boxShadow:e?`-1px 0 0 0 ${e}`:void 0}}),h=a(()=>[p.b(`button`),p.bm(`button`,i.value),p.is(`disabled`,r.value),p.is(`checked`,n.value),p.is(`focus`,t.value)]);return(e,i)=>(O(),s(`label`,{class:z(d(h))},[e.trueLabel||e.falseLabel?H((O(),s(`input`,{key:0,"onUpdate:modelValue":i[0]||=e=>N(l)?l.value=e:null,class:z(d(p).be(`button`,`original`)),type:`checkbox`,name:e.name,tabindex:e.tabindex,disabled:d(r),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:i[1]||=(...e)=>d(u)&&d(u)(...e),onFocus:i[2]||=e=>t.value=!0,onBlur:i[3]||=e=>t.value=!1,onClick:i[4]||=A(()=>{},[`stop`])},null,42,pr)),[[R,d(l)]]):H((O(),s(`input`,{key:1,"onUpdate:modelValue":i[5]||=e=>N(l)?l.value=e:null,class:z(d(p).be(`button`,`original`)),type:`checkbox`,name:e.name,tabindex:e.tabindex,disabled:d(r),value:e.label,onChange:i[6]||=(...e)=>d(u)&&d(u)(...e),onFocus:i[7]||=e=>t.value=!0,onBlur:i[8]||=e=>t.value=!1,onClick:i[9]||=A(()=>{},[`stop`])},null,42,mr)),[[R,d(l)]]),e.$slots.default||e.label?(O(),s(`span`,{key:2,class:z(d(p).be(`button`,`inner`)),style:w(d(n)?d(m):void 0)},[C(e.$slots,`default`,{},()=>[M(o(e.label),1)])],6)):c(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue`]]);L();var gr=Ue({modelValue:{type:_e(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Ye,label:String,fill:String,textColor:String,tag:{type:String,default:`div`},validateEvent:{type:Boolean,default:!0}}),_r={[Ne]:e=>F(e),change:e=>F(e)},vr=nt(_({..._({name:`ElCheckboxGroup`}),props:gr,emits:_r,setup(e,{emit:t}){let n=e,r=K(`checkbox`),{formItem:i}=Ce(),{inputId:o,isLabeledByFormItem:s}=ae(n,{formItemContext:i}),c=async e=>{t(Ne,e),await u(),t(`change`,e)},l=a({get(){return n.modelValue},set(e){c(e)}});return ee(Y,{...Tn(f(n),[`size`,`min`,`max`,`disabled`,`validateEvent`,`fill`,`textColor`]),modelValue:l,changeEvent:c}),S(()=>n.modelValue,()=>{n.validateEvent&&i?.validate(`change`).catch(e=>rt(e))}),(e,t)=>(O(),y(D(e.tag),{id:d(o),class:z(d(r).b(`group`)),role:`group`,"aria-label":d(s)?void 0:e.label||`checkbox-group`,"aria-labelledby":d(s)?d(i)?.labelId:void 0},{default:T(()=>[C(e.$slots,`default`)]),_:3},8,[`id`,`class`,`aria-label`,`aria-labelledby`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue`]]),yr=lt(fr,{CheckboxButton:hr,CheckboxGroup:vr});se(hr),se(vr);var br=e(t(((e,t)=>{var n=/["'&<>]/;t.exports=r;function r(e){var t=``+e,r=n.exec(t);if(!r)return t;var i,a=``,o=0,s=0;for(o=r.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:i=`&quot;`;break;case 38:i=`&amp;`;break;case 39:i=`&#39;`;break;case 60:i=`&lt;`;break;case 62:i=`&gt;`;break;default:continue}s!==o&&(a+=t.substring(s,o)),s=o+1,a+=i}return s===o?a:a+t.substring(s,o)}}))(),1);L();var xr=function(e){return e.target?.closest(`td`)},Sr=function(e,t,n,r,i){if(!t&&!r&&(!i||Array.isArray(i)&&!i.length))return e;n=typeof n==`string`?n===`descending`?-1:1:n&&n<0?-1:1;let a=r?null:function(n,r){return i?(Array.isArray(i)||(i=[i]),i.map(t=>typeof t==`string`?ye(n,t):t(n,r,e))):(t!==`$key`&&E(n)&&`$value`in n&&(n=n.$value),[E(n)?ye(n,t):n])},o=function(e,t){if(r)return r(e.value,t.value);for(let n=0,r=e.key.length;n<r;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0};return e.map((e,t)=>({value:e,index:t,key:a?a(e,t):null})).sort((e,t)=>{let r=o(e,t);return r||=e.index-t.index,r*+n}).map(e=>e.value)},Cr=function(e,t){let n=null;return e.columns.forEach(e=>{e.id===t&&(n=e)}),n},wr=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){let i=e.columns[r];if(i.columnKey===t){n=i;break}}return n||He(`ElTable`,`No column matching with column-key: ${t}`),n},Tr=function(e,t,n){let r=(t.className||``).match(RegExp(`${n}-table_[^\\s]+`,`gm`));return r?Cr(e,r[0]):null},X=(e,t)=>{if(!e)throw Error(`Row is required when get row identity`);if(typeof t==`string`){if(!t.includes(`.`))return`${e[t]}`;let n=t.split(`.`),r=e;for(let e of n)r=r[e];return`${r}`}else if(typeof t==`function`)return t.call(null,e)},Z=function(e,t){let n={};return(e||[]).forEach((e,r)=>{n[X(e,t)]={row:e,index:r}}),n};function Er(e,t){let n={},i;for(i in e)n[i]=e[i];for(i in t)if(r(t,i)){let e=t[i];e!==void 0&&(n[i]=e)}return n}function Dr(e){return e===``||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e=``)),e}function Or(e){return e===``||e!==void 0&&(e=Dr(e),Number.isNaN(e)&&(e=80)),e}function kr(e){return typeof e==`number`?e:typeof e==`string`?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function Ar(...e){return e.length===0?e=>e:e.length===1?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function jr(e,t,n){let r=!1,i=e.indexOf(t),a=i!==-1,o=o=>{o===`add`?e.push(t):e.splice(i,1),r=!0,F(t.children)&&t.children.forEach(t=>{jr(e,t,n??!a)})};return Fe(n)?n&&!a?o(`add`):!n&&a&&o(`remove`):o(a?`remove`:`add`),r}function Mr(e,t,n=`children`,r=`hasChildren`){let i=e=>!(Array.isArray(e)&&e.length);function a(e,o,s){t(e,o,s),o.forEach(e=>{if(e[r]){t(e,null,s+1);return}let o=e[n];i(o)||a(e,o,s+1)})}e.forEach(e=>{if(e[r]){t(e,null,0);return}let o=e[n];i(o)||a(e,o,0)})}var Q;function Nr(e,t,n,r,i){i=bn({enterable:!0,showArrow:!0},i);let a=e?.dataset.prefix,o=e?.querySelector(`.${a}-scrollbar__wrap`);function s(){let t=i.effect===`light`,o=document.createElement(`div`);return o.className=[`${a}-popper`,t?`is-light`:`is-dark`,i.popperClass||``].join(` `),n=(0,br.default)(n),o.innerHTML=n,o.style.zIndex=String(r()),e?.appendChild(o),o}function c(){let e=document.createElement(`div`);return e.className=`${a}-popper__arrow`,e}function l(){u&&u.update()}Q?.(),Q=()=>{try{u&&u.destroy(),p&&e?.removeChild(p),t.removeEventListener(`mouseenter`,d),t.removeEventListener(`mouseleave`,f),o?.removeEventListener(`scroll`,Q),Q=void 0}catch{}};let u=null,d=l,f=Q;i.enterable&&({onOpen:d,onClose:f}=Pe({showAfter:i.showAfter,hideAfter:i.hideAfter,open:l,close:Q}));let p=s();p.onmouseenter=d,p.onmouseleave=f;let m=[];if(i.offset&&m.push({name:`offset`,options:{offset:[0,i.offset]}}),i.showArrow){let e=p.appendChild(c());m.push({name:`arrow`,options:{element:e,padding:10}})}let h=i.popperOptions||{};return u=st(t,p,{placement:i.placement||`top`,strategy:`fixed`,...h,modifiers:h.modifiers?m.concat(h.modifiers):m}),t.addEventListener(`mouseenter`,d),t.addEventListener(`mouseleave`,f),o?.addEventListener(`scroll`,Q),u}function Pr(e){return e.children?yn(e.children,Pr):[e]}function Fr(e,t){return e+t.colSpan}var Ir=(e,t,n,r)=>{let i=0,a=e,o=n.states.columns.value;if(r){let t=Pr(r[e]);i=o.slice(0,o.indexOf(t[0])).reduce(Fr,0),a=i+t.reduce(Fr,0)-1}else i=e;let s;switch(t){case`left`:a<n.states.fixedLeafColumnsLength.value&&(s=`left`);break;case`right`:i>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s=`right`);break;default:a<n.states.fixedLeafColumnsLength.value?s=`left`:i>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s=`right`)}return s?{direction:s,start:i,after:a}:{}},Lr=(e,t,n,r,i,a=0)=>{let o=[],{direction:s,start:c,after:l}=Ir(t,n,r,i);if(s){let t=s===`left`;o.push(`${e}-fixed-column--${s}`),t&&l+a===r.states.fixedLeafColumnsLength.value-1?o.push(`is-last-column`):!t&&c-a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&o.push(`is-first-column`)}return o};function Rr(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}var zr=(e,t,n,r)=>{let{direction:i,start:a=0,after:o=0}=Ir(e,t,n,r);if(!i)return;let s={},c=i===`left`,l=n.states.columns.value;return c?s.left=l.slice(0,a).reduce(Rr,0):s.right=l.slice(o+1).reverse().reduce(Rr,0),s},Br=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function Vr(e){let t=l(),n=p(!1),r=p([]);return{updateExpandRows:()=>{let t=e.data.value||[],i=e.rowKey.value;if(n.value)r.value=t.slice();else if(i){let e=Z(r.value,i);r.value=t.reduce((t,n)=>(e[X(n,i)]&&t.push(n),t),[])}else r.value=[]},toggleRowExpansion:(e,n)=>{jr(r.value,e,n)&&t.emit(`expand-change`,e,r.value.slice())},setExpandRowKeys:n=>{t.store.assertRowKey();let i=e.data.value||[],a=e.rowKey.value,o=Z(i,a);r.value=n.reduce((e,t)=>{let n=o[t];return n&&e.push(n.row),e},[])},isRowExpanded:t=>{let n=e.rowKey.value;return n?!!Z(r.value,n)[X(t,n)]:r.value.includes(t)},states:{expandRows:r,defaultExpandAll:n}}}function Hr(e){let t=l(),n=p(null),r=p(null),i=e=>{t.store.assertRowKey(),n.value=e,o(e)},a=()=>{n.value=null},o=n=>{let{data:i,rowKey:a}=e,o=null;a.value&&(o=(d(i)||[]).find(e=>X(e,a.value)===n)),r.value=o,t.emit(`current-change`,r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:a,setCurrentRowByKey:o,updateCurrentRow:e=>{let n=r.value;if(e&&e!==n){r.value=e,t.emit(`current-change`,r.value,n);return}!e&&n&&(r.value=null,t.emit(`current-change`,null,n))},updateCurrentRowData:()=>{let i=e.rowKey.value,s=e.data.value||[],c=r.value;!s.includes(c)&&c?(i?o(X(c,i)):r.value=null,r.value===null&&t.emit(`current-change`,null,c)):n.value&&(o(n.value),a())},states:{_currentRowKey:n,currentRow:r}}}function Ur(e){let t=p([]),n=p({}),r=p(16),i=p(!1),o=p({}),s=p(`hasChildren`),c=p(`children`),u=l(),f=a(()=>e.rowKey.value?h(e.data.value||[]):{}),m=a(()=>{let t=e.rowKey.value,n=Object.keys(o.value),r={};return n.length&&n.forEach(e=>{if(o.value[e].length){let n={children:[]};o.value[e].forEach(e=>{let i=X(e,t);n.children.push(i),e[s.value]&&!r[i]&&(r[i]={children:[]})}),r[e]=n}}),r}),h=t=>{let n=e.rowKey.value,r={};return Mr(t,(e,t,a)=>{let o=X(e,n);Array.isArray(t)?r[o]={children:t.map(e=>X(e,n)),level:a}:i.value&&(r[o]={children:[],lazy:!0,level:a})},c.value,s.value),r},g=(e=!1,r=(e=>(e=u.store)?.states.defaultExpandAll.value)())=>{var a;let o=f.value,s=m.value,c=Object.keys(o),l={};if(c.length){let a=d(n),u=[],f=(n,i)=>{if(e)return t.value?r||t.value.includes(i):!!(r||n?.expanded);{let e=r||t.value&&t.value.includes(i);return!!(n?.expanded||e)}};c.forEach(e=>{let t=a[e],n={...o[e]};if(n.expanded=f(t,e),n.lazy){let{loaded:r=!1,loading:i=!1}=t||{};n.loaded=!!r,n.loading=!!i,u.push(e)}l[e]=n});let p=Object.keys(s);i.value&&p.length&&u.length&&p.forEach(e=>{let t=a[e],n=s[e].children;if(u.includes(e)){if(l[e].children.length!==0)throw Error(`[ElTable]children must be an empty array.`);l[e].children=n}else{let{loaded:r=!1,loading:i=!1}=t||{};l[e]={lazy:!0,loaded:!!r,loading:!!i,expanded:f(t,e),children:n,level:``}}})}n.value=l,(a=u.store)==null||a.updateTableScrollY()};S(()=>t.value,()=>{g(!0)}),S(()=>f.value,()=>{g()}),S(()=>m.value,()=>{g()});let _=e=>{t.value=e,g()},v=(t,r)=>{u.store.assertRowKey();let i=e.rowKey.value,a=X(t,i),o=a&&n.value[a];if(a&&o&&`expanded`in o){let e=o.expanded;r=r===void 0?!o.expanded:r,n.value[a].expanded=r,e!==r&&u.emit(`expand-change`,t,r),u.store.updateTableScrollY()}},y=t=>{u.store.assertRowKey();let r=e.rowKey.value,a=X(t,r),o=n.value[a];i.value&&o&&`loaded`in o&&!o.loaded?b(t,a,o):v(t,void 0)},b=(e,t,r)=>{let{load:i}=u.props;i&&!n.value[t].loaded&&(n.value[t].loading=!0,i(e,r,r=>{if(!Array.isArray(r))throw TypeError(`[ElTable] data must be an array`);n.value[t].loading=!1,n.value[t].loaded=!0,n.value[t].expanded=!0,r.length&&(o.value[t]=r),u.emit(`expand-change`,e,!0)}))};return{loadData:b,loadOrToggle:y,toggleTreeExpansion:v,updateTreeExpandKeys:_,updateTreeData:g,normalize:h,states:{expandRowKeys:t,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:o,lazyColumnIdentifier:s,childrenColumnName:c}}}L();var Wr=(e,t)=>{let n=t.sortingColumn;return!n||typeof n.sortable==`string`?e:Sr(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},Gr=e=>{let t=[];return e.forEach(e=>{e.children&&e.children.length>0?t.push.apply(t,Gr(e.children)):t.push(e)}),t};function Kr(){let e=l(),{size:t}=f(e.proxy?.$props),n=p(null),i=p([]),a=p([]),o=p(!1),s=p([]),c=p([]),u=p([]),m=p([]),h=p([]),g=p([]),_=p([]),v=p([]),y=[],b=p(0),x=p(0),C=p(0),w=p(!1),T=p([]),E=p(!1),D=p(!1),O=p(null),k=p({}),A=p(null),j=p(null),M=p(null),N=p(null),P=p(null);S(i,()=>e.state&&te(!1),{deep:!0});let F=()=>{if(!n.value)throw Error(`[ElTable] prop row-key is required`)},ee=e=>{var t;(t=e.children)==null||t.forEach(t=>{t.fixed=e.fixed,ee(t)})},I=()=>{s.value.forEach(e=>{ee(e)}),m.value=s.value.filter(e=>e.fixed===!0||e.fixed===`left`),h.value=s.value.filter(e=>e.fixed===`right`),m.value.length>0&&s.value[0]&&s.value[0].type===`selection`&&!s.value[0].fixed&&(s.value[0].fixed=!0,m.value.unshift(s.value[0]));let e=s.value.filter(e=>!e.fixed);c.value=[].concat(m.value,e,h.value);let t=Gr(e),n=Gr(m.value),r=Gr(h.value);b.value=t.length,x.value=n.length,C.value=r.length,u.value=[].concat(n,t,r),o.value=m.value.length>0||h.value.length>0},te=(t,n=!1)=>{t&&I(),n?e.state.doLayout():e.state.debouncedUpdateLayout()},ne=e=>T.value.includes(e),re=()=>{w.value=!1,T.value.length&&(T.value=[],e.emit(`selection-change`,[]))},ie=()=>{let t;if(n.value){t=[];let e=Z(T.value,n.value),a=Z(i.value,n.value);for(let n in e)r(e,n)&&!a[n]&&t.push(e[n].row)}else t=T.value.filter(e=>!i.value.includes(e));if(t.length){let n=T.value.filter(e=>!t.includes(e));T.value=n,e.emit(`selection-change`,n.slice())}},L=()=>(T.value||[]).slice(),R=(t,n=void 0,r=!0)=>{if(jr(T.value,t,n)){let n=(T.value||[]).slice();r&&e.emit(`select`,n,t),e.emit(`selection-change`,n)}},z=()=>{let t=D.value?!w.value:!(w.value||T.value.length);w.value=t;let n=!1,r=0,a=(e?.store?.states)?.rowKey.value;i.value.forEach((e,i)=>{let o=i+r;O.value?O.value.call(null,e,o)&&jr(T.value,e,t)&&(n=!0):jr(T.value,e,t)&&(n=!0),r+=H(X(e,a))}),n&&e.emit(`selection-change`,T.value?T.value.slice():[]),e.emit(`select-all`,T.value)},B=()=>{let e=Z(T.value,n.value);i.value.forEach(t=>{let r=e[X(t,n.value)];r&&(T.value[r.index]=t)})},V=()=>{if(i.value?.length===0){w.value=!1;return}let t;n.value&&(t=Z(T.value,n.value));let r=function(e){return t?!!t[X(e,n.value)]:T.value.includes(e)},a=!0,o=0,s=0;for(let t=0,n=(i.value||[]).length;t<n;t++){let n=(e?.store?.states)?.rowKey.value,c=t+s,l=i.value[t],u=O.value&&O.value.call(null,l,c);if(r(l))o++;else if(!O.value||u){a=!1;break}s+=H(X(l,n))}o===0&&(a=!1),w.value=a},H=t=>{if(!e||!e.store)return 0;let{treeData:n}=e.store.states,r=0,i=n.value[t]?.children;return i&&(r+=i.length,i.forEach(e=>{r+=H(e)})),r},U=(e,t)=>{Array.isArray(e)||(e=[e]);let n={};return e.forEach(e=>{k.value[e.id]=t,n[e.columnKey||e.id]=t}),n},ae=(e,t,n)=>{j.value&&j.value!==e&&(j.value.order=null),j.value=e,M.value=t,N.value=n},oe=()=>{let e=d(a);Object.keys(k.value).forEach(t=>{let n=k.value[t];if(!n||n.length===0)return;let r=Cr({columns:u.value},t);r&&r.filterMethod&&(e=e.filter(e=>n.some(t=>r.filterMethod.call(null,t,e,r))))}),A.value=e},W=()=>{i.value=Wr(A.value,{sortingColumn:j.value,sortProp:M.value,sortOrder:N.value})},se=(e=void 0)=>{e&&e.filter||oe(),W()},ce=t=>{let{tableHeaderRef:n}=e.refs;if(!n)return;let r=Object.assign({},n.filterPanels),i=Object.keys(r);if(i.length)if(typeof t==`string`&&(t=[t]),Array.isArray(t)){let n=t.map(e=>wr({columns:u.value},e));i.forEach(e=>{let t=n.find(t=>t.id===e);t&&(t.filteredValue=[])}),e.store.commit(`filterChange`,{column:n,values:[],silent:!0,multi:!0})}else i.forEach(e=>{let t=u.value.find(t=>t.id===e);t&&(t.filteredValue=[])}),k.value={},e.store.commit(`filterChange`,{column:{},values:[],silent:!0})},le=()=>{j.value&&(ae(null,null,null),e.store.commit(`changeSortCondition`,{silent:!0}))},{setExpandRowKeys:ue,toggleRowExpansion:de,updateExpandRows:fe,states:pe,isRowExpanded:me}=Vr({data:i,rowKey:n}),{updateTreeExpandKeys:he,toggleTreeExpansion:ge,updateTreeData:_e,loadOrToggle:ve,states:ye}=Ur({data:i,rowKey:n}),{updateCurrentRowData:be,updateCurrentRow:xe,setCurrentRowKey:Se,states:Ce}=Hr({data:i,rowKey:n});return{assertRowKey:F,updateColumns:I,scheduleLayout:te,isSelected:ne,clearSelection:re,cleanSelection:ie,getSelectionRows:L,toggleRowSelection:R,_toggleAllSelection:z,toggleAllSelection:null,updateSelectionByRowKey:B,updateAllSelected:V,updateFilters:U,updateCurrentRow:xe,updateSort:ae,execFilter:oe,execSort:W,execQuery:se,clearFilter:ce,clearSort:le,toggleRowExpansion:de,setExpandRowKeysAdapter:e=>{ue(e),he(e)},setCurrentRowKey:Se,toggleRowExpansionAdapter:(e,t)=>{u.value.some(({type:e})=>e===`expand`)?de(e,t):ge(e,t)},isRowExpanded:me,updateExpandRows:fe,updateCurrentRowData:be,loadOrToggle:ve,updateTreeData:_e,states:{tableSize:t,rowKey:n,data:i,_data:a,isComplex:o,_columns:s,originColumns:c,columns:u,fixedColumns:m,rightFixedColumns:h,leafColumns:g,fixedLeafColumns:_,rightFixedLeafColumns:v,updateOrderFns:y,leafColumnsLength:b,fixedLeafColumnsLength:x,rightFixedLeafColumnsLength:C,isAllSelected:w,selection:T,reserveSelection:E,selectOnIndeterminate:D,selectable:O,filters:k,filteredData:A,sortingColumn:j,sortProp:M,sortOrder:N,hoverRow:P,...pe,...ye,...Ce}}}function qr(e,t){return e.map(e=>e.id===t.id?t:(e.children?.length&&(e.children=qr(e.children,t)),e))}function Jr(e){e.forEach(e=>{e.no=e.getColumnIndex?.call(e),e.children?.length&&Jr(e.children)}),e.sort((e,t)=>e.no-t.no)}function Yr(){let e=l(),t=Kr(),n=K(`table`),r={setData(t,n){let r=d(t._data)!==n;t.data.value=n,t._data.value=n,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),d(t.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):r?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,n,r,i){let a=d(t._columns),o=[];r?(r&&!r.children&&(r.children=[]),r.children.push(n),o=qr(a,r)):(a.push(n),o=a),Jr(o),t._columns.value=o,t.updateOrderFns.push(i),n.type===`selection`&&(t.selectable.value=n.selectable,t.reserveSelection.value=n.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(t,n){n.getColumnIndex?.call(n)!==n.no&&(Jr(t._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(t,n,r,i){let a=d(t._columns)||[];if(r)r.children.splice(r.children.findIndex(e=>e.id===n.id),1),u(()=>{r.children?.length===0&&delete r.children}),t._columns.value=qr(a,r);else{let e=a.indexOf(n);e>-1&&(a.splice(e,1),t._columns.value=a)}let o=t.updateOrderFns.indexOf(i);o>-1&&t.updateOrderFns.splice(o,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,n){let{prop:r,order:i,init:a}=n;if(r){let n=d(t.columns).find(e=>e.property===r);n&&(n.order=i,e.store.updateSort(n,r,i),e.store.commit(`changeSortCondition`,{init:a}))}},changeSortCondition(t,n){let{sortingColumn:r,sortProp:i,sortOrder:a}=t,o=d(r),s=d(i),c=d(a);c===null&&(t.sortingColumn.value=null,t.sortProp.value=null),e.store.execQuery({filter:!0}),(!n||!(n.silent||n.init))&&e.emit(`sort-change`,{column:o,prop:s,order:c}),e.store.updateTableScrollY()},filterChange(t,n){let{column:r,values:i,silent:a}=n,o=e.store.updateFilters(r,i);e.store.execQuery(),a||e.emit(`filter-change`,o),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(t,n){e.store.toggleRowSelection(n),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,n){e.store.updateCurrentRow(n)}},i=function(t,...n){let r=e.store.mutations;if(r[t])r[t].apply(e,[e.store.states].concat(n));else throw Error(`Action not found: ${t}`)},a=function(){u(()=>e.layout.updateScrollY.apply(e.layout))};return{ns:n,...t,mutations:r,commit:i,updateTableScrollY:a}}var Xr={rowKey:`rowKey`,defaultExpandAll:`defaultExpandAll`,selectOnIndeterminate:`selectOnIndeterminate`,indent:`indent`,lazy:`lazy`,data:`data`,"treeProps.hasChildren":{key:`lazyColumnIdentifier`,default:`hasChildren`},"treeProps.children":{key:`childrenColumnName`,default:`children`}};function Zr(e,t){if(!e)throw Error(`Table is required.`);let n=Yr();return n.toggleAllSelection=Me(n._toggleAllSelection,10),Object.keys(Xr).forEach(e=>{$r(ei(t,e),e,n)}),Qr(n,t),n}function Qr(e,t){Object.keys(Xr).forEach(n=>{S(()=>ei(t,n),t=>{$r(t,n,e)})})}function $r(e,t,n){let r=e,i=Xr[t];typeof Xr[t]==`object`&&(i=i.key,r||=Xr[t].default),n.states[i].value=r}function ei(e,t){if(t.includes(`.`)){let n=t.split(`.`),r=e;return n.forEach(e=>{r=r[e]}),r}else return e[t]}L();var ti=class{constructor(e){for(let t in this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=p(null),this.scrollX=p(!1),this.scrollY=p(!1),this.bodyWidth=p(null),this.fixedWidth=p(null),this.rightFixedWidth=p(null),this.gutterWidth=0,e)r(e,t)&&(N(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw Error(`Table is required for Table Layout`);if(!this.store)throw Error(`Store is required for Table Layout`)}updateScrollY(){if(this.height.value===null)return!1;let e=this.table.refs.scrollBarRef;if(this.table.vnode.el&&e?.wrapRef){let t=!0,n=this.scrollY.value;return t=e.wrapRef.scrollHeight>e.wrapRef.clientHeight,this.scrollY.value=t,n!==t}return!1}setHeight(e,t=`height`){if(!G)return;let n=this.table.vnode.el;if(e=kr(e),this.height.value=Number(e),!n&&(e||e===0))return u(()=>this.setHeight(e,t));typeof e==`number`?(n.style[t]=`${e}px`,this.updateElsHeight()):typeof e==`string`&&(n.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,`max-height`)}getFlattenColumns(){let e=[];return this.table.store.states.columns.value.forEach(t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers(`scrollable`)}headerDisplayNone(e){if(!e)return!0;let t=e;for(;t.tagName!==`DIV`;){if(getComputedStyle(t).display===`none`)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!G)return;let e=this.fit,t=this.table.vnode.el.clientWidth,n=0,r=this.getFlattenColumns(),i=r.filter(e=>typeof e.width!=`number`);if(r.forEach(e=>{typeof e.width==`number`&&e.realWidth&&(e.realWidth=null)}),i.length>0&&e){if(r.forEach(e=>{n+=Number(e.width||e.minWidth||80)}),n<=t){this.scrollX.value=!1;let e=t-n;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+e;else{let t=e/i.reduce((e,t)=>e+Number(t.minWidth||80),0),n=0;i.forEach((e,r)=>{if(r===0)return;let i=Math.floor(Number(e.minWidth||80)*t);n+=i,e.realWidth=Number(e.minWidth||80)+i}),i[0].realWidth=Number(i[0].minWidth||80)+e-n}}else this.scrollX.value=!0,i.forEach(e=>{e.realWidth=Number(e.minWidth)});this.bodyWidth.value=Math.max(n,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(e=>{!e.width&&!e.minWidth?e.realWidth=80:e.realWidth=Number(e.width||e.minWidth),n+=e.realWidth}),this.scrollX.value=n>t,this.bodyWidth.value=n;let a=this.store.states.fixedColumns.value;if(a.length>0){let e=0;a.forEach(t=>{e+=Number(t.realWidth||t.width)}),this.fixedWidth.value=e}let o=this.store.states.rightFixedColumns.value;if(o.length>0){let e=0;o.forEach(t=>{e+=Number(t.realWidth||t.width)}),this.rightFixedWidth.value=e}this.notifyObservers(`columns`)}addObserver(e){this.observers.push(e)}removeObserver(e){let t=this.observers.indexOf(e);t!==-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(t=>{var n,r;switch(e){case`columns`:(n=t.state)==null||n.onColumnsChange(this);break;case`scrollable`:(r=t.state)==null||r.onScrollableChange(this);break;default:throw Error(`Table Layout don't have event ${e}.`)}})}},{CheckboxGroup:ni}=yr,ri=_({name:`ElTableFilterPanel`,components:{ElCheckbox:yr,ElCheckboxGroup:ni,ElScrollbar:ke,ElTooltip:he,ElIcon:qe,ArrowDown:ve,ArrowUp:fe},directives:{ClickOutside:De},props:{placement:{type:String,default:`bottom-start`},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){let t=l(),{t:n}=Ze(),r=K(`table-filter`),i=t?.parent;i.filterPanels.value[e.column.id]||(i.filterPanels.value[e.column.id]=t);let o=p(!1),s=p(null),c=a(()=>e.column&&e.column.filters),u=a({get:()=>(e.column?.filteredValue||[])[0],set:e=>{d.value&&(e==null?d.value.splice(0,1):d.value.splice(0,1,e))}}),d=a({get(){return e.column&&e.column.filteredValue||[]},set(t){e.column&&e.upDataColumn(`filteredValue`,t)}}),f=a(()=>e.column?e.column.filterMultiple:!0),m=e=>e.value===u.value,h=()=>{o.value=!1},g=e=>{e.stopPropagation(),o.value=!o.value},_=()=>{o.value=!1},v=()=>{x(d.value),h()},y=()=>{d.value=[],x(d.value),h()},b=e=>{u.value=e,x(e==null?[]:d.value),h()},x=t=>{e.store.commit(`filterChange`,{column:e.column,values:t}),e.store.updateAllSelected()};return S(o,t=>{e.column&&e.upDataColumn(`filterOpened`,t)},{immediate:!0}),{tooltipVisible:o,multiple:f,filteredValue:d,filterValue:u,filters:c,handleConfirm:v,handleReset:y,handleSelect:b,isActive:m,t:n,ns:r,showFilterPanel:g,hideFilterPanel:_,popperPaneRef:a(()=>s.value?.popperRef?.contentRef),tooltip:s}}}),ii={key:0},ai=[`disabled`],oi=[`label`,`onClick`];function si(e,t,n,r,i,a){let c=I(`el-checkbox`),l=I(`el-checkbox-group`),u=I(`el-scrollbar`),d=I(`arrow-up`),f=I(`arrow-down`),p=I(`el-icon`),m=I(`el-tooltip`),h=ie(`click-outside`);return O(),y(m,{ref:`tooltip`,visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:``,effect:`light`,pure:``,"popper-class":e.ns.b(),persistent:``},{content:T(()=>[e.multiple?(O(),s(`div`,ii,[V(`div`,{class:z(e.ns.e(`content`))},[g(u,{"wrap-class":e.ns.e(`wrap`)},{default:T(()=>[g(l,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||=t=>e.filteredValue=t,class:z(e.ns.e(`checkbox-group`))},{default:T(()=>[(O(!0),s(x,null,j(e.filters,e=>(O(),y(c,{key:e.value,label:e.value},{default:T(()=>[M(o(e.text),1)]),_:2},1032,[`label`]))),128))]),_:1},8,[`modelValue`,`class`])]),_:1},8,[`wrap-class`])],2),V(`div`,{class:z(e.ns.e(`bottom`))},[V(`button`,{class:z({[e.ns.is(`disabled`)]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:`button`,onClick:t[1]||=(...t)=>e.handleConfirm&&e.handleConfirm(...t)},o(e.t(`el.table.confirmFilter`)),11,ai),V(`button`,{type:`button`,onClick:t[2]||=(...t)=>e.handleReset&&e.handleReset(...t)},o(e.t(`el.table.resetFilter`)),1)],2)])):(O(),s(`ul`,{key:1,class:z(e.ns.e(`list`))},[V(`li`,{class:z([e.ns.e(`list-item`),{[e.ns.is(`active`)]:e.filterValue===void 0||e.filterValue===null}]),onClick:t[3]||=t=>e.handleSelect(null)},o(e.t(`el.table.clearFilter`)),3),(O(!0),s(x,null,j(e.filters,t=>(O(),s(`li`,{key:t.value,class:z([e.ns.e(`list-item`),e.ns.is(`active`,e.isActive(t))]),label:t.value,onClick:n=>e.handleSelect(t.value)},o(t.text),11,oi))),128))],2))]),default:T(()=>[H((O(),s(`span`,{class:z([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||=(...t)=>e.showFilterPanel&&e.showFilterPanel(...t)},[g(p,null,{default:T(()=>[e.column.filterOpened?(O(),y(d,{key:0})):(O(),y(f,{key:1}))]),_:1})],2)),[[h,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,[`visible`,`placement`,`popper-class`])}var ci=nt(ri,[[`render`,si],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue`]]);function li(e){let t=l();re(()=>{r.value.addObserver(t)}),b(()=>{i(r.value),o(r.value)}),n(()=>{i(r.value),o(r.value)}),v(()=>{r.value.removeObserver(t)});let r=a(()=>{let t=e.layout;if(!t)throw Error(`Can not find table layout.`);return t}),i=t=>{let n=e.vnode.el?.querySelectorAll(`colgroup > col`)||[];if(!n.length)return;let r=t.getFlattenColumns(),i={};r.forEach(e=>{i[e.id]=e});for(let e=0,t=n.length;e<t;e++){let t=n[e],r=i[t.getAttribute(`name`)];r&&t.setAttribute(`width`,r.realWidth||r.width)}},o=t=>{let n=e.vnode.el?.querySelectorAll(`colgroup > col[name=gutter]`)||[];for(let e=0,r=n.length;e<r;e++)n[e].setAttribute(`width`,t.scrollY.value?t.gutterWidth:`0`);let r=e.vnode.el?.querySelectorAll(`th.gutter`)||[];for(let e=0,n=r.length;e<n;e++){let n=r[e];n.style.width=t.scrollY.value?`${t.gutterWidth}px`:`0`,n.style.display=t.scrollY.value?``:`none`}};return{tableLayout:r.value,onColumnsChange:i,onScrollableChange:o}}var $=Symbol(`ElTable`);function ui(e,t){let n=l(),r=U($),i=e=>{e.stopPropagation()},a=(e,t)=>{!t.filters&&t.sortable?g(e,t,!1):t.filterable&&!t.sortable&&i(e),r?.emit(`header-click`,t,e)},o=(e,t)=>{r?.emit(`header-contextmenu`,t,e)},s=p(null),c=p(!1),u=p({}),d=(i,a)=>{if(G&&!(a.children&&a.children.length>0)&&s.value&&e.border){c.value=!0;let o=r;t(`set-drag-visible`,!0);let l=(o?.vnode.el).getBoundingClientRect().left,d=n.vnode.el.querySelector(`th.${a.id}`),f=d.getBoundingClientRect(),p=f.left-l+30;xe(d,`noclick`),u.value={startMouseLeft:i.clientX,startLeft:f.right-l,startColumnLeft:f.left-l,tableLeft:l};let m=o?.refs.resizeProxy;m.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};let h=e=>{let t=e.clientX-u.value.startMouseLeft,n=u.value.startLeft+t;m.style.left=`${Math.max(p,n)}px`},g=()=>{if(c.value){let{startColumnLeft:n,startLeft:r}=u.value;a.width=a.realWidth=Number.parseInt(m.style.left,10)-n,o?.emit(`header-dragend`,a.width,r-n,a,i),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor=``,c.value=!1,s.value=null,u.value={},t(`set-drag-visible`,!1)}document.removeEventListener(`mousemove`,h),document.removeEventListener(`mouseup`,g),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Je(d,`noclick`)},0)};document.addEventListener(`mousemove`,h),document.addEventListener(`mouseup`,g)}},f=(t,n)=>{if(n.children&&n.children.length>0)return;let r=t.target;if(!Ke(r))return;let i=r?.closest(`th`);if(!(!n||!n.resizable)&&!c.value&&e.border){let e=i.getBoundingClientRect(),r=document.body.style;e.width>12&&e.right-t.pageX<8?(r.cursor=`col-resize`,ot(i,`is-sortable`)&&(i.style.cursor=`col-resize`),s.value=n):c.value||(r.cursor=``,ot(i,`is-sortable`)&&(i.style.cursor=`pointer`),s.value=null)}},m=()=>{G&&(document.body.style.cursor=``)},h=({order:e,sortOrders:t})=>{if(e===``)return t[0];let n=t.indexOf(e||null);return t[n>t.length-2?0:n+1]},g=(t,n,i)=>{t.stopPropagation();let a=n.order===i?null:i||h(n),o=t.target?.closest(`th`);if(o&&ot(o,`noclick`)){Je(o,`noclick`);return}if(!n.sortable)return;let s=e.store.states,c=s.sortProp.value,l,u=s.sortingColumn.value;(u!==n||u===n&&u.order===null)&&(u&&(u.order=null),s.sortingColumn.value=n,c=n.property),l=a?n.order=a:n.order=null,s.sortProp.value=c,s.sortOrder.value=l,r?.store.commit(`changeSortCondition`)};return{handleHeaderClick:a,handleHeaderContextMenu:o,handleMouseDown:d,handleMouseMove:f,handleMouseOut:m,handleSortClick:g,handleFilterClick:i}}function di(e){let t=U($),n=K(`table`);return{getHeaderRowStyle:e=>{let n=t?.props.headerRowStyle;return typeof n==`function`?n.call(null,{rowIndex:e}):n},getHeaderRowClass:e=>{let n=[],r=t?.props.headerRowClassName;return typeof r==`string`?n.push(r):typeof r==`function`&&n.push(r.call(null,{rowIndex:e})),n.join(` `)},getHeaderCellStyle:(n,r,i,a)=>{let o=t?.props.headerCellStyle??{};typeof o==`function`&&(o=o.call(null,{rowIndex:n,columnIndex:r,row:i,column:a}));let s=zr(r,a.fixed,e.store,i);return Br(s,`left`),Br(s,`right`),Object.assign({},o,s)},getHeaderCellClass:(r,i,a,o)=>{let s=Lr(n.b(),i,o.fixed,e.store,a),c=[o.id,o.order,o.headerAlign,o.className,o.labelClassName,...s];o.children||c.push(`is-leaf`),o.sortable&&c.push(`is-sortable`);let l=t?.props.headerCellClassName;return typeof l==`string`?c.push(l):typeof l==`function`&&c.push(l.call(null,{rowIndex:r,columnIndex:i,row:a,column:o})),c.push(n.e(`cell`)),c.filter(e=>!!e).join(` `)}}}var fi=e=>{let t=[];return e.forEach(e=>{e.children?(t.push(e),t.push.apply(t,fi(e.children))):t.push(e)}),t},pi=e=>{let t=1,n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach(r=>{n(r,e),t+=r.colSpan}),e.colSpan=t}else e.colSpan=1};e.forEach(e=>{e.level=1,n(e,void 0)});let r=[];for(let e=0;e<t;e++)r.push([]);return fi(e).forEach(e=>{e.children?(e.rowSpan=1,e.children.forEach(e=>e.isSubColumn=!0)):e.rowSpan=t-e.level+1,r[e.level-1].push(e)}),r};function mi(e){let t=U($),n=a(()=>pi(e.store.states.originColumns.value));return{isGroup:a(()=>{let e=n.value.length>1;return e&&t&&(t.state.isGroup.value=!0),e}),toggleAllSelection:e=>{e.stopPropagation(),t?.store.commit(`toggleAllSelection`)},columnRows:n}}var hi=_({name:`ElTableHeader`,components:{ElCheckbox:yr},props:{fixed:{type:String,default:``},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:``,order:``})}},setup(e,{emit:t}){let n=l(),r=U($),i=K(`table`),a=p({}),{onColumnsChange:o,onScrollableChange:s}=li(r);b(async()=>{await u(),await u();let{prop:t,order:n}=e.defaultSort;r?.store.commit(`sort`,{prop:t,order:n,init:!0})});let{handleHeaderClick:c,handleHeaderContextMenu:d,handleMouseDown:f,handleMouseMove:m,handleMouseOut:h,handleSortClick:g,handleFilterClick:_}=ui(e,t),{getHeaderRowStyle:v,getHeaderRowClass:y,getHeaderCellStyle:x,getHeaderCellClass:S}=di(e),{isGroup:C,toggleAllSelection:w,columnRows:T}=mi(e);return n.state={onColumnsChange:o,onScrollableChange:s},n.filterPanels=a,{ns:i,filterPanels:a,onColumnsChange:o,onScrollableChange:s,columnRows:T,getHeaderRowClass:y,getHeaderRowStyle:v,getHeaderCellClass:S,getHeaderCellStyle:x,handleHeaderClick:c,handleHeaderContextMenu:d,handleMouseDown:f,handleMouseMove:m,handleMouseOut:h,handleSortClick:g,handleFilterClick:_,isGroup:C,toggleAllSelection:w}},render(){let{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:a,getHeaderRowStyle:o,handleHeaderClick:s,handleHeaderContextMenu:c,handleMouseDown:l,handleMouseMove:u,handleSortClick:d,handleMouseOut:f,store:p,$parent:m}=this,g=1;return h(`thead`,{class:{[e.is(`group`)]:t}},n.map((e,t)=>h(`tr`,{class:a(t),key:t,style:o(t)},e.map((n,a)=>(n.rowSpan>g&&(g=n.rowSpan),h(`th`,{class:i(t,a,e,n),colspan:n.colSpan,key:`${n.id}-thead`,rowspan:n.rowSpan,style:r(t,a,e,n),onClick:e=>s(e,n),onContextmenu:e=>c(e,n),onMousedown:e=>l(e,n),onMousemove:e=>u(e,n),onMouseout:f},[h(`div`,{class:[`cell`,n.filteredValue&&n.filteredValue.length>0?`highlight`:``]},[n.renderHeader?n.renderHeader({column:n,$index:a,store:p,_self:m}):n.label,n.sortable&&h(`span`,{onClick:e=>d(e,n),class:`caret-wrapper`},[h(`i`,{onClick:e=>d(e,n,`ascending`),class:`sort-caret ascending`}),h(`i`,{onClick:e=>d(e,n,`descending`),class:`sort-caret descending`})]),n.filterable&&h(ci,{store:p,placement:n.filterPlacement||`bottom-start`,column:n,upDataColumn:(e,t)=>{n[e]=t}})])]))))))}});function gi(e){let t=U($),n=p(``),r=p(h(`div`)),{nextZIndex:i}=it(),a=(n,r,i)=>{let a=t,o=xr(n),s,c=(a?.vnode.el)?.dataset.prefix;o&&(s=Tr({columns:e.store.states.columns.value},o,c),s&&a?.emit(`cell-${i}`,r,s,o,n)),a?.emit(`row-${i}`,r,s,n)},o=(e,t)=>{a(e,t,`dblclick`)},s=(t,n)=>{e.store.commit(`setCurrentRow`,n),a(t,n,`click`)},c=(e,t)=>{a(e,t,`contextmenu`)},l=Me(t=>{e.store.commit(`setHoverRow`,t)},30),u=Me(()=>{e.store.commit(`setHoverRow`,null)},30),d=e=>{let t=window.getComputedStyle(e,null);return{left:Number.parseInt(t.paddingLeft,10)||0,right:Number.parseInt(t.paddingRight,10)||0,top:Number.parseInt(t.paddingTop,10)||0,bottom:Number.parseInt(t.paddingBottom,10)||0}};return{handleDoubleClick:o,handleClick:s,handleContextMenu:c,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(n,r,a)=>{let o=t,s=xr(n),c=(o?.vnode.el)?.dataset.prefix;if(s){let t=o.hoverState={cell:s,column:Tr({columns:e.store.states.columns.value},s,c),row:r};o?.emit(`cell-mouse-enter`,t.row,t.column,t.cell,n)}if(!a)return;let l=n.target.querySelector(`.cell`);if(!(ot(l,`${c}-tooltip`)&&l.childNodes.length))return;let u=document.createRange();u.setStart(l,0),u.setEnd(l,l.childNodes.length);let f=u.getBoundingClientRect().width,p=u.getBoundingClientRect().height;f-Math.floor(f)<.001&&(f=Math.floor(f)),p-Math.floor(p)<.001&&(p=Math.floor(p));let{top:m,left:h,right:g,bottom:_}=d(l),v=h+g,y=m+_;(f+v>l.offsetWidth||p+y>l.offsetHeight||l.scrollWidth>l.offsetWidth)&&Nr(t?.refs.tableWrapper,s,s.innerText||s.textContent,i,a)},handleCellMouseLeave:e=>{if(!xr(e))return;let n=t?.hoverState;t?.emit(`cell-mouse-leave`,n?.row,n?.column,n?.cell,e)},tooltipContent:n,tooltipTrigger:r}}function _i(e){let t=U($),n=K(`table`);return{getRowStyle:(e,n)=>{let r=t?.props.rowStyle;return typeof r==`function`?r.call(null,{row:e,rowIndex:n}):r||null},getRowClass:(r,i)=>{let a=[n.e(`row`)];t?.props.highlightCurrentRow&&r===e.store.states.currentRow.value&&a.push(`current-row`),e.stripe&&i%2==1&&a.push(n.em(`row`,`striped`));let o=t?.props.rowClassName;return typeof o==`string`?a.push(o):typeof o==`function`&&a.push(o.call(null,{row:r,rowIndex:i})),a},getCellStyle:(n,r,i,a)=>{let o=t?.props.cellStyle,s=o??{};typeof o==`function`&&(s=o.call(null,{rowIndex:n,columnIndex:r,row:i,column:a}));let c=zr(r,e?.fixed,e.store);return Br(c,`left`),Br(c,`right`),Object.assign({},s,c)},getCellClass:(r,i,a,o,s)=>{let c=Lr(n.b(),i,e?.fixed,e.store,void 0,s),l=[o.id,o.align,o.className,...c],u=t?.props.cellClassName;return typeof u==`string`?l.push(u):typeof u==`function`&&l.push(u.call(null,{rowIndex:r,columnIndex:i,row:a,column:o})),l.push(n.e(`cell`)),l.filter(e=>!!e).join(` `)},getSpan:(e,n,r,i)=>{let a=1,o=1,s=t?.props.spanMethod;if(typeof s==`function`){let t=s({row:e,column:n,rowIndex:r,columnIndex:i});Array.isArray(t)?(a=t[0],o=t[1]):typeof t==`object`&&(a=t.rowspan,o=t.colspan)}return{rowspan:a,colspan:o}},getColspanRealWidth:(e,t,n)=>{if(t<1)return e[n].realWidth;let r=e.map(({realWidth:e,width:t})=>e||t).slice(n,n+t);return Number(r.reduce((e,t)=>Number(e)+Number(t),-1))}}}function vi(e){let t=U($),n=K(`table`),{handleDoubleClick:r,handleClick:i,handleContextMenu:o,handleMouseEnter:s,handleMouseLeave:c,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:d,tooltipTrigger:f}=gi(e),{getRowStyle:p,getRowClass:m,getCellStyle:g,getCellClass:_,getSpan:v,getColspanRealWidth:y}=_i(e),b=a(()=>e.store.states.columns.value.findIndex(({type:e})=>e===`default`)),x=(e,n)=>{let r=t.props.rowKey;return r?X(e,r):n},S=(a,d,f,S=!1)=>{let{tooltipEffect:w,tooltipOptions:T,store:E}=e,{indent:D,columns:O}=E.states,k=m(a,d),A=!0;return f&&(k.push(n.em(`row`,`level-${f.level}`)),A=f.display),h(`tr`,{style:[A?null:{display:`none`},p(a,d)],class:k,key:x(a,d),onDblclick:e=>r(e,a),onClick:e=>i(e,a),onContextmenu:e=>o(e,a),onMouseenter:()=>s(d),onMouseleave:c},O.value.map((n,r)=>{let{rowspan:i,colspan:o}=v(a,n,d,r);if(!i||!o)return null;let s=Object.assign({},n);s.realWidth=y(O.value,o,r);let c={store:e.store,_self:e.context||t,column:s,row:a,$index:d,cellIndex:r,expanded:S};r===b.value&&f&&(c.treeNode={indent:f.level*D.value,level:f.level},typeof f.expanded==`boolean`&&(c.treeNode.expanded=f.expanded,`loading`in f&&(c.treeNode.loading=f.loading),`noLazyChildren`in f&&(c.treeNode.noLazyChildren=f.noLazyChildren)));let p=`${d},${r}`,m=s.columnKey||s.rawColumnKey||``,x=C(r,n,c),E=n.showOverflowTooltip&&bn({effect:w},T,n.showOverflowTooltip);return h(`td`,{style:g(d,r,a,n),class:_(d,r,a,n,o-1),key:`${m}${p}`,rowspan:i,colspan:o,onMouseenter:e=>l(e,a,E),onMouseleave:u},[x])}))},C=(e,t,n)=>t.renderCell(n);return{wrappedRowRender:(r,i)=>{let a=e.store,{isRowExpanded:o,assertRowKey:s}=a,{treeData:c,lazyTreeNodeMap:l,childrenColumnName:u,rowKey:d}=a.states,f=a.states.columns.value;if(f.some(({type:e})=>e===`expand`)){let e=o(r),s=S(r,i,void 0,e),c=t.renderExpanded;return e?c?[[s,h(`tr`,{key:`expanded-row__${s.key}`},[h(`td`,{colspan:f.length,class:`${n.e(`cell`)} ${n.e(`expanded-cell`)}`},[c({row:r,$index:i,store:a,expanded:e})])])]]:(console.error(`[Element Error]renderExpanded is required.`),s):[[s]]}else if(Object.keys(c.value).length){s();let e=X(r,d.value),t=c.value[e],n=null;t&&(n={expanded:t.expanded,level:t.level,display:!0},typeof t.lazy==`boolean`&&(typeof t.loaded==`boolean`&&t.loaded&&(n.noLazyChildren=!(t.children&&t.children.length)),n.loading=t.loading));let a=[S(r,i,n)];if(t){let n=0,o=(e,r)=>{e&&e.length&&r&&e.forEach(e=>{let s={display:r.display&&r.expanded,level:r.level+1,expanded:!1,noLazyChildren:!1,loading:!1},f=X(e,d.value);if(f==null)throw Error(`For nested data item, row-key is required.`);t={...c.value[f]},t&&(s.expanded=t.expanded,t.level=t.level||s.level,t.display=!!(t.expanded&&s.display),typeof t.lazy==`boolean`&&(typeof t.loaded==`boolean`&&t.loaded&&(s.noLazyChildren=!(t.children&&t.children.length)),s.loading=t.loading)),n++,a.push(S(e,i+n,s)),t&&o(l.value[f]||e[u.value],t)})};t.display=!0,o(l.value[e]||r[u.value],t)}return a}else return S(r,i,void 0)},tooltipContent:d,tooltipTrigger:f}}var yi=_({name:`ElTableBody`,props:{store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:``},highlight:Boolean},setup(e){let t=l(),n=U($),r=K(`table`),{wrappedRowRender:i,tooltipContent:a,tooltipTrigger:o}=vi(e),{onColumnsChange:s,onScrollableChange:c}=li(n);return S(e.store.states.hoverRow,(n,i)=>{!e.store.states.isComplex.value||!G||En(()=>{let e=t?.vnode.el,a=Array.from(e?.children||[]).filter(e=>e?.classList.contains(`${r.e(`row`)}`)),o=a[i],s=a[n];o&&Je(o,`hover-row`),s&&xe(s,`hover-row`)})}),v(()=>{var e;(e=Q)==null||e()}),{ns:r,onColumnsChange:s,onScrollableChange:c,wrappedRowRender:i,tooltipContent:a,tooltipTrigger:o}},render(){let{wrappedRowRender:e,store:t}=this;return h(`tbody`,{tabIndex:-1},[(t.states.data.value||[]).reduce((t,n)=>t.concat(e(n,t.length)),[])])}});function bi(){let e=U($)?.store;return{leftFixedLeafCount:a(()=>e.states.fixedLeafColumnsLength.value),rightFixedLeafCount:a(()=>e.states.rightFixedColumns.value.length),columnsCount:a(()=>e.states.columns.value.length),leftFixedCount:a(()=>e.states.fixedColumns.value.length),rightFixedCount:a(()=>e.states.rightFixedColumns.value.length),columns:e.states.columns}}function xi(e){let{columns:t}=bi(),n=K(`table`);return{getCellClasses:(t,r)=>{let i=t[r],a=[n.e(`cell`),i.id,i.align,i.labelClassName,...Lr(n.b(),r,i.fixed,e.store)];return i.className&&a.push(i.className),i.children||a.push(n.is(`leaf`)),a},getCellStyles:(t,n)=>{let r=zr(n,t.fixed,e.store);return Br(r,`left`),Br(r,`right`),r},columns:t}}var Si=_({name:`ElTableFooter`,props:{fixed:{type:String,default:``},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:``,order:``})}},setup(e){let{getCellClasses:t,getCellStyles:n,columns:r}=xi(e);return{ns:K(`table`),getCellClasses:t,getCellStyles:n,columns:r}},render(){let{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:i}=this,a=this.store.states.data.value,o=[];return r?o=r({columns:e,data:a}):e.forEach((e,t)=>{if(t===0){o[t]=i;return}let n=a.map(t=>Number(t[e.property])),r=[],s=!0;n.forEach(e=>{if(!Number.isNaN(+e)){s=!1;let t=`${e}`.split(`.`)[1];r.push(t?t.length:0)}});let c=Math.max.apply(null,r);s?o[t]=``:o[t]=n.reduce((e,t)=>{let n=Number(t);return Number.isNaN(+n)?e:Number.parseFloat((e+t).toFixed(Math.min(c,20)))},0)}),h(h(`tfoot`,[h(`tr`,{},[...e.map((r,i)=>h(`td`,{key:i,colspan:r.colSpan,rowspan:r.rowSpan,class:n(e,i),style:t(r,i)},[h(`div`,{class:[`cell`,r.labelClassName]},[o[i]])]))])]))}});function Ci(e){return{setCurrentRow:t=>{e.commit(`setCurrentRow`,t)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(t,n)=>{e.toggleRowSelection(t,n,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit(`toggleAllSelection`)},toggleRowExpansion:(t,n)=>{e.toggleRowExpansionAdapter(t,n)},clearSort:()=>{e.clearSort()},sort:(t,n)=>{e.commit(`sort`,{prop:t,order:n})}}}function wi(e,t,n,r){let i=p(!1),o=p(null),s=p(!1),c=e=>{s.value=e},l=p({width:null,height:null,headerHeight:null}),f=p(!1),m={display:`inline-block`,verticalAlign:`middle`},h=p(),g=p(0),_=p(0),v=p(0),y=p(0),x=p(0);B(()=>{t.setHeight(e.height)}),B(()=>{t.setMaxHeight(e.maxHeight)}),S(()=>[e.currentRowKey,n.states.rowKey],([e,t])=>{!d(t)||!d(e)||n.setCurrentRowKey(`${e}`)},{immediate:!0}),S(()=>e.data,e=>{r.store.commit(`setData`,e)},{immediate:!0,deep:!0}),B(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});let C=()=>{r.store.commit(`setHoverRow`,null),r.hoverState&&=null},w=(e,t)=>{let{pixelX:n,pixelY:i}=t;Math.abs(n)>=Math.abs(i)&&(r.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},T=a(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),E=a(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:``})),D=()=>{T.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(j)};b(async()=>{await u(),n.updateColumns(),M(),requestAnimationFrame(D);let t=r.vnode.el,i=r.refs.headerWrapper;e.flexible&&t&&t.parentElement&&(t.parentElement.style.minWidth=`0`),l.value={width:h.value=t.offsetWidth,height:t.offsetHeight,headerHeight:e.showHeader&&i?i.offsetHeight:null},n.states.columns.value.forEach(e=>{e.filteredValue&&e.filteredValue.length&&r.store.commit(`filterChange`,{column:e,values:e.filteredValue,silent:!0})}),r.$ready=!0});let O=(e,n)=>{if(!e)return;let r=Array.from(e.classList).filter(e=>!e.startsWith(`is-scrolling-`));r.push(t.scrollX.value?n:`is-scrolling-none`),e.className=r.join(` `)},k=e=>{let{tableWrapper:t}=r.refs;O(t,e)},A=e=>{let{tableWrapper:t}=r.refs;return!!(t&&t.classList.contains(e))},j=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){let e=`is-scrolling-none`;A(e)||k(e);return}let e=r.refs.scrollBarRef.wrapRef;if(!e)return;let{scrollLeft:n,offsetWidth:i,scrollWidth:a}=e,{headerWrapper:o,footerWrapper:s}=r.refs;o&&(o.scrollLeft=n),s&&(s.scrollLeft=n),n>=a-i-1?k(`is-scrolling-right`):k(n===0?`is-scrolling-left`:`is-scrolling-middle`)},M=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&tt(r.refs.scrollBarRef.wrapRef,`scroll`,j,{passive:!0}),e.fit?Ve(r.vnode.el,N):tt(window,`resize`,N),Ve(r.refs.bodyWrapper,()=>{var e;N(),(e=r.refs?.scrollBarRef)==null||e.update()}))},N=()=>{let t=r.vnode.el;if(!r.$ready||!t)return;let n=!1,{width:i,height:a,headerHeight:o}=l.value,s=h.value=t.offsetWidth;i!==s&&(n=!0);let c=t.offsetHeight;(e.height||T.value)&&a!==c&&(n=!0);let u=e.tableLayout===`fixed`?r.refs.headerWrapper:r.refs.tableHeaderRef?.$el;e.showHeader&&u?.offsetHeight!==o&&(n=!0),g.value=r.refs.tableWrapper?.scrollHeight||0,v.value=u?.scrollHeight||0,y.value=r.refs.footerWrapper?.offsetHeight||0,x.value=r.refs.appendWrapper?.offsetHeight||0,_.value=g.value-v.value-y.value-x.value,n&&(l.value={width:s,height:c,headerHeight:e.showHeader&&u?.offsetHeight||0},D())},P=at(),F=a(()=>{let{bodyWidth:e,scrollY:n,gutterWidth:r}=t;return e.value?`${e.value-(n.value?r:0)}px`:``}),ee=a(()=>e.maxHeight?`fixed`:e.tableLayout);return{isHidden:i,renderExpanded:o,setDragVisible:c,isGroup:f,handleMouseLeave:C,handleHeaderFooterMousewheel:w,tableSize:P,emptyBlockStyle:a(()=>{if(e.data&&e.data.length)return null;let t=`100%`;e.height&&_.value&&(t=`${_.value}px`);let n=h.value;return{width:n?`${n}px`:``,height:t}}),handleFixedMousewheel:(e,t)=>{let n=r.refs.bodyWrapper;if(Math.abs(t.spinY)>0){let r=n.scrollTop;t.pixelY<0&&r!==0&&e.preventDefault(),t.pixelY>0&&n.scrollHeight-n.clientHeight>r&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)}else n.scrollLeft+=Math.ceil(t.pixelX/5)},resizeProxyVisible:s,bodyWidth:F,resizeState:l,doLayout:D,tableBodyStyles:E,tableLayout:ee,scrollbarViewStyle:m,tableInnerStyle:a(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),scrollbarStyle:a(()=>e.height?{height:`100%`}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${v.value+y.value}px)`}:{maxHeight:`${e.maxHeight-v.value-y.value}px`}:{})}}function Ti(e){let t=p(),n=()=>{let n=e.vnode.el.querySelector(`.hidden-columns`),r={childList:!0,subtree:!0},i=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{i.forEach(e=>e())}),t.value.observe(n,r)};b(()=>{n()}),v(()=>{var e;(e=t.value)==null||e.disconnect()})}var Ei={data:{type:Array,default:()=>[]},size:Ye,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:`hasChildren`,children:`children`})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:``},tableLayout:{type:String,default:`fixed`},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function Di(e){let t=e.tableLayout===`auto`,n=e.columns||[];t&&n.every(e=>e.width===void 0)&&(n=[]);let r=n=>{let r={key:`${e.tableLayout}_${n.id}`,style:{},name:void 0};return t?r.style={width:`${n.width}px`}:r.name=n.id,r};return h(`colgroup`,{},n.map(e=>h(`col`,r(e))))}Di.props=[`columns`,`tableLayout`];var Oi=()=>{let e=p(),t=(t,n)=>{let r=e.value;r&&r.scrollTo(t,n)},n=(t,n)=>{let r=e.value;r&&Ie(n)&&[`Top`,`Left`].includes(t)&&r[`setScroll${t}`](n)};return{scrollBarRef:e,scrollTo:t,setScrollTop:e=>n(`Top`,e),setScrollLeft:e=>n(`Left`,e)}},ki=1,Ai=_({name:`ElTable`,directives:{Mousewheel:tr},components:{TableHeader:hi,TableBody:yi,TableFooter:Si,ElScrollbar:ke,hColgroup:Di},props:Ei,emits:[`select`,`select-all`,`selection-change`,`cell-mouse-enter`,`cell-mouse-leave`,`cell-contextmenu`,`cell-click`,`cell-dblclick`,`row-click`,`row-contextmenu`,`row-dblclick`,`header-click`,`header-contextmenu`,`sort-change`,`filter-change`,`current-change`,`header-dragend`,`expand-change`],setup(e){let{t}=Ze(),n=K(`table`),r=l();ee($,r);let i=Zr(r,e);r.store=i;let o=new ti({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=o;let s=a(()=>(i.states.data.value||[]).length===0),{setCurrentRow:c,getSelectionRows:u,toggleRowSelection:d,clearSelection:f,clearFilter:p,toggleAllSelection:m,toggleRowExpansion:h,clearSort:g,sort:_}=Ci(i),{isHidden:v,renderExpanded:y,setDragVisible:b,isGroup:x,handleMouseLeave:S,handleHeaderFooterMousewheel:C,tableSize:w,emptyBlockStyle:T,handleFixedMousewheel:E,resizeProxyVisible:D,bodyWidth:O,resizeState:k,doLayout:A,tableBodyStyles:j,tableLayout:M,scrollbarViewStyle:N,tableInnerStyle:P,scrollbarStyle:F}=wi(e,o,i,r),{scrollBarRef:I,scrollTo:te,setScrollLeft:ne,setScrollTop:re}=Oi(),ie=Me(A,50),L=`${n.namespace.value}-table_${ki++}`;r.tableId=L,r.state={isGroup:x,resizeState:k,doLayout:A,debouncedUpdateLayout:ie};let R=a(()=>e.sumText||t(`el.table.sumText`)),z=a(()=>e.emptyText||t(`el.table.emptyText`));return Ti(r),{ns:n,layout:o,store:i,handleHeaderFooterMousewheel:C,handleMouseLeave:S,tableId:L,tableSize:w,isHidden:v,isEmpty:s,renderExpanded:y,resizeProxyVisible:D,resizeState:k,isGroup:x,bodyWidth:O,tableBodyStyles:j,emptyBlockStyle:T,debouncedUpdateLayout:ie,handleFixedMousewheel:E,setCurrentRow:c,getSelectionRows:u,toggleRowSelection:d,clearSelection:f,clearFilter:p,toggleAllSelection:m,toggleRowExpansion:h,clearSort:g,doLayout:A,sort:_,t,setDragVisible:b,context:r,computedSumText:R,computedEmptyText:z,tableLayout:M,scrollbarViewStyle:N,tableInnerStyle:P,scrollbarStyle:F,scrollBarRef:I,scrollTo:te,setScrollLeft:ne,setScrollTop:re}}}),ji=[`data-prefix`],Mi={ref:`hiddenColumns`,class:`hidden-columns`};function Ni(e,t,n,r,i,a){let l=I(`hColgroup`),u=I(`table-header`),d=I(`table-body`),f=I(`table-footer`),p=I(`el-scrollbar`),m=ie(`mousewheel`);return O(),s(`div`,{ref:`tableWrapper`,class:z([{[e.ns.m(`fit`)]:e.fit,[e.ns.m(`striped`)]:e.stripe,[e.ns.m(`border`)]:e.border||e.isGroup,[e.ns.m(`hidden`)]:e.isHidden,[e.ns.m(`group`)]:e.isGroup,[e.ns.m(`fluid-height`)]:e.maxHeight,[e.ns.m(`scrollable-x`)]:e.layout.scrollX.value,[e.ns.m(`scrollable-y`)]:e.layout.scrollY.value,[e.ns.m(`enable-row-hover`)]:!e.store.states.isComplex.value,[e.ns.m(`enable-row-transition`)]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:w(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)},[V(`div`,{class:z(e.ns.e(`inner-wrapper`)),style:w(e.tableInnerStyle)},[V(`div`,Mi,[C(e.$slots,`default`)],512),e.showHeader&&e.tableLayout===`fixed`?H((O(),s(`div`,{key:0,ref:`headerWrapper`,class:z(e.ns.e(`header-wrapper`))},[V(`table`,{ref:`tableHeader`,class:z(e.ns.e(`header`)),style:w(e.tableBodyStyles),border:`0`,cellpadding:`0`,cellspacing:`0`},[g(l,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),g(u,{ref:`tableHeaderRef`,border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,[`border`,`default-sort`,`store`,`onSetDragVisible`])],6)],2)),[[m,e.handleHeaderFooterMousewheel]]):c(`v-if`,!0),V(`div`,{ref:`bodyWrapper`,class:z(e.ns.e(`body-wrapper`))},[g(p,{ref:`scrollBarRef`,"view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:T(()=>[V(`table`,{ref:`tableBody`,class:z(e.ns.e(`body`)),cellspacing:`0`,cellpadding:`0`,border:`0`,style:w({width:e.bodyWidth,tableLayout:e.tableLayout})},[g(l,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),e.showHeader&&e.tableLayout===`auto`?(O(),y(u,{key:0,ref:`tableHeaderRef`,class:z(e.ns.e(`body-header`)),border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,[`class`,`border`,`default-sort`,`store`,`onSetDragVisible`])):c(`v-if`,!0),g(d,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,[`context`,`highlight`,`row-class-name`,`tooltip-effect`,`tooltip-options`,`row-style`,`store`,`stripe`]),e.showSummary&&e.tableLayout===`auto`?(O(),y(f,{key:1,class:z(e.ns.e(`body-footer`)),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,[`class`,`border`,`default-sort`,`store`,`sum-text`,`summary-method`])):c(`v-if`,!0)],6),e.isEmpty?(O(),s(`div`,{key:0,ref:`emptyBlock`,style:w(e.emptyBlockStyle),class:z(e.ns.e(`empty-block`))},[V(`span`,{class:z(e.ns.e(`empty-text`))},[C(e.$slots,`empty`,{},()=>[M(o(e.computedEmptyText),1)])],2)],6)):c(`v-if`,!0),e.$slots.append?(O(),s(`div`,{key:1,ref:`appendWrapper`,class:z(e.ns.e(`append-wrapper`))},[C(e.$slots,`append`)],2)):c(`v-if`,!0)]),_:3},8,[`view-style`,`wrap-style`,`always`])],2),e.showSummary&&e.tableLayout===`fixed`?H((O(),s(`div`,{key:1,ref:`footerWrapper`,class:z(e.ns.e(`footer-wrapper`))},[V(`table`,{class:z(e.ns.e(`footer`)),cellspacing:`0`,cellpadding:`0`,border:`0`,style:w(e.tableBodyStyles)},[g(l,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),g(f,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,[`border`,`default-sort`,`store`,`sum-text`,`summary-method`])],6)],2)),[[te,!e.isEmpty],[m,e.handleHeaderFooterMousewheel]]):c(`v-if`,!0),e.border||e.isGroup?(O(),s(`div`,{key:2,class:z(e.ns.e(`border-left-patch`))},null,2)):c(`v-if`,!0)],6),H(V(`div`,{ref:`resizeProxy`,class:z(e.ns.e(`column-resize-proxy`))},null,2),[[te,e.resizeProxyVisible]])],46,ji)}var Pi=nt(Ai,[[`render`,Ni],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue`]]),Fi={selection:`table-column--selection`,expand:`table__expand-column`},Ii={default:{order:``},selection:{width:48,minWidth:48,realWidth:48,order:``},expand:{width:48,minWidth:48,realWidth:48,order:``},index:{width:48,minWidth:48,realWidth:48,order:``}},Li=e=>Fi[e]||``,Ri={selection:{renderHeader({store:e,column:t}){function n(){return e.states.data.value&&e.states.data.value.length===0}return h(yr,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:n,$index:r}){return h(yr,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit(`rowSelectedChanged`,e)},onClick:e=>e.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||`#`},renderCell({column:e,$index:t}){let n=t+1,r=e.index;return typeof r==`number`?n=t+r:typeof r==`function`&&(n=r(t)),h(`div`,{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||``},renderCell({row:e,store:t,expanded:n}){let{ns:r}=t,i=[r.e(`expand-icon`)];return n&&i.push(r.em(`expand-icon`,`expanded`)),h(`div`,{class:i,onClick:function(n){n.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[h(qe,null,{default:()=>[h(le)]})]})},sortable:!1,resizable:!1}};function zi({row:e,column:t,$index:n}){let r=t.property,i=r&&Xe(e,r).value;return t&&t.formatter?t.formatter(e,t,i,n):(i?.toString)?.call(i)||``}function Bi({row:e,treeNode:t,store:n},r=!1){let{ns:i}=n;if(!t)return r?[h(`span`,{class:i.e(`placeholder`)})]:null;let a=[],o=function(r){r.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&a.push(h(`span`,{class:i.e(`indent`),style:{"padding-left":`${t.indent}px`}})),typeof t.expanded==`boolean`&&!t.noLazyChildren){let e=[i.e(`expand-icon`),t.expanded?i.em(`expand-icon`,`expanded`):``],n=le;t.loading&&(n=$e),a.push(h(`div`,{class:e,onClick:o},{default:()=>[h(qe,{class:{[i.is(`loading`)]:t.loading}},{default:()=>[h(n)]})]}))}else a.push(h(`span`,{class:i.e(`placeholder`)}));return a}L();function Vi(e,t){return e.reduce((e,t)=>(e[t]=t,e),t)}function Hi(e,t){let n=l();return{registerComplexWatchers:()=>{let i=[`fixed`],a={realWidth:`width`,realMinWidth:`minWidth`},o=Vi(i,a);Object.keys(o).forEach(i=>{let o=a[i];r(t,o)&&S(()=>t[o],t=>{let r=t;o===`width`&&i===`realWidth`&&(r=Dr(t)),o===`minWidth`&&i===`realMinWidth`&&(r=Or(t)),n.columnConfig.value[o]=r,n.columnConfig.value[i]=r;let a=o===`fixed`;e.value.store.scheduleLayout(a)})})},registerNormalWatchers:()=>{let e=[`label`,`filters`,`filterMultiple`,`filteredValue`,`sortable`,`index`,`formatter`,`className`,`labelClassName`,`showOverflowTooltip`],i={property:`prop`,align:`realAlign`,headerAlign:`realHeaderAlign`},a=Vi(e,i);Object.keys(a).forEach(e=>{let a=i[e];r(t,a)&&S(()=>t[a],t=>{n.columnConfig.value[e]=t})})}}}function Ui(e,t,n){let r=l(),i=p(``),o=p(!1),s=p(),c=p(),u=K(`table`);B(()=>{s.value=e.align?`is-${e.align}`:null,s.value}),B(()=>{c.value=e.headerAlign?`is-${e.headerAlign}`:s.value,c.value});let f=a(()=>{let e=r.vnode.vParent||r.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e}),m=a(()=>{let{store:e}=r.parent;if(!e)return!1;let{treeData:t}=e.states,n=t.value;return n&&Object.keys(n).length>0}),g=p(Dr(e.width)),_=p(Or(e.minWidth)),v=e=>(g.value&&(e.width=g.value),_.value&&(e.minWidth=_.value),!g.value&&_.value&&(e.width=void 0),e.minWidth||=80,e.realWidth=Number(e.width===void 0?e.minWidth:e.width),e),y=e=>{let t=e.type,n=Ri[t]||{};Object.keys(n).forEach(t=>{let r=n[t];t!==`className`&&r!==void 0&&(e[t]=r)});let r=Li(t);if(r){let t=`${d(u.namespace)}-${r}`;e.className=e.className?`${e.className} ${t}`:t}return e},b=e=>{Array.isArray(e)?e.forEach(e=>t(e)):t(e);function t(e){e?.type?.name===`ElTableColumn`&&(e.vParent=r)}};return{columnId:i,realAlign:s,isSubColumn:o,realHeaderAlign:c,columnOrTableParent:f,setColumnWidth:v,setColumnForcedProps:y,setColumnRenders:i=>{e.renderHeader?rt(`TableColumn`,`Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.`):i.type!==`selection`&&(i.renderHeader=e=>{r.columnConfig.value.label;let n=t.header;return n?n(e):i.label});let a=i.renderCell;return i.type===`expand`?(i.renderCell=e=>h(`div`,{class:`cell`},[a(e)]),n.value.renderExpanded=e=>t.default?t.default(e):t.default):(a||=zi,i.renderCell=e=>{let r=null;if(t.default){let n=t.default(e);r=n.some(e=>e.type!==k)?n:a(e)}else r=a(e);let{columns:o}=n.value.store.states,s=o.value.findIndex(e=>e.type===`default`),c=Bi(e,m.value&&e.cellIndex===s),l={class:`cell`,style:{}};return i.showOverflowTooltip&&(l.class=`${l.class} ${d(u.namespace)}-tooltip`,l.style={width:`${(e.column.realWidth||Number(e.column.width))-1}px`}),b(r),h(`div`,l,[c,r])}),i},getPropsData:(...t)=>t.reduce((t,n)=>(Array.isArray(n)&&n.forEach(n=>{t[n]=e[n]}),t),{}),getColumnElIndex:(e,t)=>Array.prototype.indexOf.call(e,t),updateColumnOrder:()=>{n.value.store.commit(`updateColumnOrder`,r.columnConfig.value)}}}var Wi={type:{type:String,default:`default`},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:``},minWidth:{type:[String,Number],default:``},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>[`ascending`,`descending`,null],validator:e=>e.every(e=>[`ascending`,`descending`,null].includes(e))}};L();var Gi=1,Ki=_({name:`ElTableColumn`,components:{ElCheckbox:yr},props:Wi,setup(e,{slots:t}){let n=l(),r=p({}),i=a(()=>{let e=n.parent;for(;e&&!e.tableId;)e=e.parent;return e}),{registerNormalWatchers:o,registerComplexWatchers:s}=Hi(i,e),{columnId:c,isSubColumn:u,realHeaderAlign:d,columnOrTableParent:f,setColumnWidth:h,setColumnForcedProps:g,setColumnRenders:_,getPropsData:v,getColumnElIndex:y,realAlign:x,updateColumnOrder:S}=Ui(e,t,i),C=f.value;c.value=`${C.tableId||C.columnId}_column_${Gi++}`,re(()=>{u.value=i.value!==C;let t=e.type||`default`,a=e.sortable===``?!0:e.sortable,l=Re(e.showOverflowTooltip)?C.props.showOverflowTooltip:e.showOverflowTooltip,f={...Ii[t],id:c.value,type:t,property:e.prop||e.property,align:x,headerAlign:d,showOverflowTooltip:l,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:``,isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:a,index:e.index,rawColumnKey:n.vnode.key},p=v([`columnKey`,`label`,`className`,`labelClassName`,`type`,`renderHeader`,`formatter`,`fixed`,`resizable`],[`sortMethod`,`sortBy`,`sortOrders`],[`selectable`,`reserveSelection`],[`filterMethod`,`filters`,`filterMultiple`,`filterOpened`,`filteredValue`,`filterPlacement`]);p=Er(f,p),p=Ar(_,h,g)(p),r.value=p,o(),s()}),b(()=>{let e=f.value,t=u.value?e.vnode.el.children:e.refs.hiddenColumns?.children,a=()=>y(t||[],n.vnode.el);r.value.getColumnIndex=a,a()>-1&&i.value.store.commit(`insertColumn`,r.value,u.value?e.columnConfig.value:null,S)}),m(()=>{i.value.store.commit(`removeColumn`,r.value,u.value?C.columnConfig.value:null,S)}),n.columnId=c.value,n.columnConfig=r},render(){var e;try{let t=(e=this.$slots).default?.call(e,{row:{},column:{},$index:-1}),n=[];if(Array.isArray(t))for(let e of t)e.type?.name===`ElTableColumn`||e.shapeFlag&2?n.push(e):e.type===x&&Array.isArray(e.children)&&e.children.forEach(e=>{e?.patchFlag!==1024&&!P(e?.children)&&n.push(e)});return h(`div`,n)}catch{return h(`div`,[])}}}),qi=lt(Pi,{TableColumn:Ki}),Ji=se(Ki);export{Ji as n,qi as t};
//# sourceMappingURL=table-BUhHdyzF.js.map