(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`59610861-85a5-4b96-89a3-70ab6916d02d`,e._sentryDebugIdIdentifier=`sentry-dbid-59610861-85a5-4b96-89a3-70ab6916d02d`)})()}catch{}import{o as e}from"./chunk-Din3qlHY.js";import{C as t,Cn as n,D as r,E as i,Gt as a,J as o,M as s,P as c,T as l,W as u,Z as d,at as f,bn as p,bt as m,et as h,h as g,j as _,k as v,m as y,vn as b,w as x,yn as S}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{F as C,zi as w}from"./src-CppJvwzX.js";import{t as T}from"./_plugin-vue_export-helper-B_J4Khre.js";import{br as E,r as D}from"./users.store-pCkD7Zo0.js";import{t as O}from"./dialog-Ds437WFa.js";import{D as k}from"./constants-D1jZwsUK.js";var A={key:0},j=T(c({__name:`Modal`,props:{name:{},title:{default:``},subtitle:{default:``},eventBus:{},showClose:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},classic:{type:Boolean,default:!1},beforeClose:{},customClass:{default:``},center:{type:Boolean,default:!0},width:{default:`50%`},minWidth:{},maxWidth:{},height:{},minHeight:{},maxHeight:{},scrollable:{type:Boolean,default:!1},centerTitle:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0}},emits:[`enter`],setup(e,{emit:c}){let T=e,j=c,{APP_Z_INDEXES:M}=E(),N=t(()=>{let e={};return T.height&&(e[`--dialog--height`]=T.height),T.minHeight&&(e[`--dialog--min-height`]=T.minHeight),T.maxHeight&&(e[`--dialog--max-height`]=T.maxHeight),T.maxWidth&&(e[`--dialog--max-width`]=T.maxWidth),T.minWidth&&(e[`--dialog--min-width`]=T.minWidth),e}),P=`#${k}`;d(()=>{window.addEventListener(`keydown`,R),T.eventBus?.on(`close`,z);let e=document.activeElement;e&&F.modalsById[T.name]?.open&&e.blur()}),o(()=>{T.eventBus?.off(`close`,z),window.removeEventListener(`keydown`,R)});let F=D();function I(){F.isModalActiveById[T.name]&&j(`enter`)}function L(){T.eventBus?.emit(`opened`)}function R(e){e?.keyCode===13&&I()}async function z(e){T.beforeClose&&await T.beforeClose()===!1||(F.closeModal(T.name),T.eventBus?.emit(`closed`,e))}async function B(){await z()}function V(){let e=T.customClass||``;return T.classic&&(e=`${e} classic`),e}return(t,o)=>(h(),l(a(O),{"model-value":a(F).modalsById[e.name]?.open,"before-close":B,class:b({"dialog-wrapper":!0,scrollable:e.scrollable,[V()]:!0}),center:e.center,width:e.width,"show-close":e.showClose,"close-on-click-modal":e.closeOnClickModal,"close-on-press-escape":e.closeOnPressEscape,style:p(N.value),"append-to":e.appendToBody?void 0:P,"lock-scroll":e.lockScroll,"append-to-body":e.appendToBody,"data-test-id":`${e.name}-modal`,"modal-class":e.center?t.$style.center:``,"z-index":a(M).MODALS,onOpened:L},v({default:m(()=>[x(`div`,{class:`modal-content`,onKeydown:[o[0]||=g(()=>{},[`stop`]),y(I,[`enter`]),y(B,[`esc`])]},[e.loading?(h(),r(`div`,{key:1,class:b(t.$style.loader)},[s(a(C))],2)):f(t.$slots,`content`,{key:0})],32),!e.loading&&t.$slots.footer?(h(),r(`div`,{key:0,class:b(t.$style.footer)},[f(t.$slots,`footer`,{close:z})],2)):i(``,!0)]),_:2},[t.$slots.header?{name:`header`,fn:m(()=>[e.loading?i(``,!0):f(t.$slots,`header`,S(u({key:0},{closeDialog:z})))]),key:`0`}:e.title?{name:`title`,fn:m(()=>[x(`div`,{class:b(e.centerTitle?t.$style.centerTitle:``)},[e.title?(h(),r(`div`,A,[s(a(w),{tag:`h1`,size:`xlarge`},{default:m(()=>[_(n(e.title),1)]),_:1})])):i(``,!0),e.subtitle?(h(),r(`div`,{key:1,class:b(t.$style.subtitle)},[s(a(w),{tag:`h3`,size:`small`,color:`text-light`},{default:m(()=>[_(n(e.subtitle),1)]),_:1})],2)):i(``,!0)],2)]),key:`1`}:void 0]),1032,[`model-value`,`class`,`center`,`width`,`show-close`,`close-on-click-modal`,`close-on-press-escape`,`style`,`append-to`,`lock-scroll`,`append-to-body`,`data-test-id`,`modal-class`,`z-index`]))}}),[[`__cssModules`,{$style:{center:`_center_rhxla_125`,loader:`_loader_rhxla_129`,centerTitle:`_centerTitle_rhxla_138`,subtitle:`_subtitle_rhxla_142`,footer:`_footer_rhxla_146`}}]]);export{j as t};
//# sourceMappingURL=Modal-DQeDdfPI.js.map