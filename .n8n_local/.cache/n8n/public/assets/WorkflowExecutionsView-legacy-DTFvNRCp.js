!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./date-picker-legacy-B9cF0kNe.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./executions.store-legacy-OEeCPZk_.js","./dateFormatter-legacy-Di9U0PH-.js","./useExecutionHelpers-legacy-BhqYaQxc.js","./TagsDropdown-legacy-BxHqGla1.js","./WorkflowTagsDropdown-legacy-DpQYAd99.js","./injectStrict-legacy-BDpFN7qf.js","./WorkflowExecutionsInfoAccordion-legacy-CTNzE_pX.js","./AnnotationTagsDropdown.ee-legacy-DbBM8PPI.js","./ExecutionsTime-legacy-CBychV4p.js","./useIntersectionObserver-legacy-CUxV00uQ.js"],(function(e,t){var o,n,i,a,r,s,c,l,u,d,_,v,x,m,f,g,p,y,w,b,k,h,E,z,C,L,W,T,j,I,R,$,M,D,S,A,U,O,V,q,B,F,P,G,H,N,X,J,Y,Z,K,Q,ee,te,oe,ne,ie,ae,re,se,ce,le,ue,de,_e,ve,xe,me,fe,ge,pe,ye,we;return{setters:[function(e){o=e.C,n=e.Cn,i=e.D,a=e.E,r=e.Gt,s=e.It,c=e.J,l=e.M,u=e.P,d=e.T,_=e.Z,v=e._,x=e._t,m=e.bt,f=e.et,g=e.it,p=e.j,y=e.ot,w=e.r,b=e.vn,k=e.w},function(e){h=e.yt},function(e){E=e.A,z=e.Ci,C=e.Dt,L=e.Et,W=e.F,T=e.Oi,j=e.Si,I=e.Ui,R=e.Vi,$=e.st,M=e.wi,D=e.zi},function(e){S=e.t},function(e){},function(e){},function(e){A=e.Gr,U=e.Ln,O=e.Lt,V=e.Rr,q=e.g,B=e.pn,F=e.s,P=e.ws,G=e.yr},function(e){H=e.Tc,N=e.Yc,X=e.ns,J=e.qo,Y=e.rs},function(e){},function(e){e.s},function(e){},function(e){Z=e.t},function(e){},function(e){K=e.t},function(e){Q=e.t},function(e){ee=e.a,te=e.i},function(e){oe=e.t},function(e){},function(e){},function(e){ne=e.t},function(e){ie=e.t},function(e){},function(e){ae=e.i,re=e.n,se=e.r,ce=e.t},function(e){le=e.t}],execute:function(){(ue=document.createElement("style")).textContent="._WorkflowExecutionsCard_m24vz_125{--execution-list-item--color--background:var(--execution-card--color--background);--execution-list-item--color--background--highlight:var(--color--warning--tint-1);padding-right:var(--spacing--md);flex-direction:column;display:flex}._WorkflowExecutionsCard_m24vz_125._active_m24vz_132{border-left:var(--spacing--4xs)var(--border-style)transparent!important}._WorkflowExecutionsCard_m24vz_125._active_m24vz_132 ._executionStatus_m24vz_135{color:var(--color--text--shade-1)!important}._WorkflowExecutionsCard_m24vz_125:hover ._executionLink_m24vz_138,._WorkflowExecutionsCard_m24vz_125._active_m24vz_132 ._executionLink_m24vz_138{--execution-list-item--color--background:var(--execution-card--color--background--hover)}._WorkflowExecutionsCard_m24vz_125._new_m24vz_141 ._spinner_m24vz_141,._WorkflowExecutionsCard_m24vz_125._running_m24vz_141 ._spinner_m24vz_141{position:relative;top:1px}._WorkflowExecutionsCard_m24vz_125._new_m24vz_141,._WorkflowExecutionsCard_m24vz_125._new_m24vz_141 ._executionLink_m24vz_138,._WorkflowExecutionsCard_m24vz_125._running_m24vz_141,._WorkflowExecutionsCard_m24vz_125._running_m24vz_141 ._executionLink_m24vz_138{border-left:var(--spacing--4xs)var(--border-style)var(--execution-card--border-color--running)}._WorkflowExecutionsCard_m24vz_125._new_m24vz_141 ._statusLabel_m24vz_148,._WorkflowExecutionsCard_m24vz_125._new_m24vz_141 ._spinner_m24vz_141,._WorkflowExecutionsCard_m24vz_125._running_m24vz_141 ._statusLabel_m24vz_148,._WorkflowExecutionsCard_m24vz_125._running_m24vz_141 ._spinner_m24vz_141{color:var(--color--warning)}._WorkflowExecutionsCard_m24vz_125._success_m24vz_153,._WorkflowExecutionsCard_m24vz_125._success_m24vz_153 ._executionLink_m24vz_138{border-left:var(--spacing--4xs)var(--border-style)var(--execution-card--border-color--success)}._WorkflowExecutionsCard_m24vz_125._new_m24vz_141,._WorkflowExecutionsCard_m24vz_125._new_m24vz_141 ._executionLink_m24vz_138{border-left:var(--spacing--4xs)var(--border-style)var(--execution-card--border-color--waiting)}._WorkflowExecutionsCard_m24vz_125._new_m24vz_141 ._statusLabel_m24vz_148{color:var(--execution-card--color--text--waiting)}._WorkflowExecutionsCard_m24vz_125._waiting_m24vz_162,._WorkflowExecutionsCard_m24vz_125._waiting_m24vz_162 ._executionLink_m24vz_138{border-left:var(--spacing--4xs)var(--border-style)var(--execution-card--border-color--waiting)}._WorkflowExecutionsCard_m24vz_125._waiting_m24vz_162 ._statusLabel_m24vz_148{color:var(--color--secondary)}._WorkflowExecutionsCard_m24vz_125._error_m24vz_168,._WorkflowExecutionsCard_m24vz_125._error_m24vz_168 ._executionLink_m24vz_138{border-left:var(--spacing--4xs)var(--border-style)var(--execution-card--border-color--error)}._WorkflowExecutionsCard_m24vz_125._error_m24vz_168 ._statusLabel_m24vz_148{color:var(--color--danger)}._WorkflowExecutionsCard_m24vz_125._unknown_m24vz_174,._WorkflowExecutionsCard_m24vz_125._unknown_m24vz_174 ._executionLink_m24vz_138{border-left:var(--spacing--4xs)var(--border-style)var(--execution-card--border-color--unknown)}._WorkflowExecutionsCard_m24vz_125 ._annotation_m24vz_177{gap:var(--spacing--3xs);margin:var(--spacing--4xs)0 0;flex-direction:row;align-items:center;display:flex}._WorkflowExecutionsCard_m24vz_125 ._annotation_m24vz_177 ._ratingIcon_m24vz_184 ._up_m24vz_184{color:var(--color--success)}._WorkflowExecutionsCard_m24vz_125 ._annotation_m24vz_177 ._ratingIcon_m24vz_184 ._down_m24vz_187{color:var(--color--danger)}._executionLink_m24vz_138{background:var(--execution-list-item--color--background);width:100%;color:var(--color--text);font-size:var(--font-size--xs);padding:var(--spacing--xs);padding-right:var(--spacing--sm);left:calc(-1*var(--spacing--4xs));justify-content:space-between;align-items:center;display:flex;position:relative}._executionLink_m24vz_138:active ._icon_m24vz_204,._executionLink_m24vz_138:active ._statusLabel_m24vz_148{color:var(--color--text)}._icons_m24vz_209{align-items:center;display:flex}._icon_m24vz_204{font-size:var(--font-size--sm)}._icon_m24vz_204._retry_m24vz_217 svg{color:var(--color--primary)}._icon_m24vz_204._manual_m24vz_220{position:relative;top:1px}._icon_m24vz_204+._icon_m24vz_204{margin-left:var(--spacing--2xs)}._showGap_m24vz_228{margin-bottom:var(--spacing--2xs)}._showGap_m24vz_228 ._executionLink_m24vz_138{border-bottom:1px solid var(--color--foreground--shade-1)}._container_1nvjo_125{background-color:var(--color--background--light-3);border-right:var(--border);padding:var(--spacing--lg)0 var(--spacing--lg)var(--spacing--lg);z-index:1;flex-direction:column;flex:0 0 310px;display:flex;position:relative;overflow:hidden}._heading_1nvjo_137{padding-right:var(--spacing--md);justify-content:space-between;align-items:center;display:flex}._controls_1nvjo_144{padding-top:var(--spacing--sm);padding-right:var(--spacing--md);justify-content:space-between;align-items:center;display:flex}._executionList_1nvjo_152{margin-bottom:var(--spacing--md);flex:1;overflow:auto;background-color:var(--color--background--light-3)!important}._executionList_1nvjo_152:before{z-index:999;background:linear-gradient(#fbfbfb 0%,rgba(251,251,251,0) 100%);width:270px;height:6px;display:block;position:absolute}._executionList_1nvjo_152>div:first-child{margin-top:3px}._infoAccordion_1nvjo_170{margin-left:calc(-1*var(--spacing--lg));border-top:var(--border);width:100%;position:absolute;bottom:0}._infoAccordion_1nvjo_170>div{background-color:var(--color--background--light-2);width:100%;margin-top:0!important}._noResultsContainer_1nvjo_183{width:100%;margin-top:var(--spacing--2xl);text-align:center}.executions-sidebar[data-v-b9def645] .el-skeleton__item{border-radius:0;height:60px}._container_pd7qp_125{width:100%;height:100%;display:flex}._content_pd7qp_131{flex:1}@media screen and (max-width:991px){._container_pd7qp_125{flex-direction:column}._content_pd7qp_131{flex:50%}}\n/*$vite$:1*/",document.head.appendChild(ue);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(be=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[be]="7d974995-dca8-4b40-84bd-8aa134bb062f",t._sentryDebugIdIdentifier="sentry-dbid-7d974995-dca8-4b40-84bd-8aa134bb062f")}catch(t){}var t,be;de={key:2},_e=u({__name:"WorkflowExecutionsCard",props:{execution:{},highlight:{type:Boolean},showGap:{type:Boolean},workflowPermissions:{}},emits:["retryExecution","mounted"],setup(e,{emit:t}){const s=e,c=t,u=z(),v=h(),x=oe(),g=P(),w=o((()=>g.isEnterpriseFeatureEnabled[N.AdvancedExecutionFilters])),L=o((()=>w.value)),j=ne(H),$=o((()=>[{id:"current-workflow",label:v.baseText("executionsList.retryWithCurrentlySavedWorkflow")},{id:"original-workflow",label:v.baseText("executionsList.retryWithOriginalWorkflow")}])),M=o((()=>x.getUIDetails(s.execution))),D=o((()=>s.execution.id===u.params.executionId)),S=o((()=>x.isExecutionRetriable(s.execution)));function A(e){c("retryExecution",{execution:s.execution,command:e})}return _((()=>{c("mounted",s.execution.id)})),(t,o)=>{const s=y("RouterLink");return f(),i("div",{class:b({"execution-card":!0,[t.$style.WorkflowExecutionsCard]:!0,[t.$style.active]:D.value,[t.$style[M.value.name]]:!0,[t.$style.highlight]:e.highlight,[t.$style.showGap]:e.showGap})},[l(s,{class:b(t.$style.executionLink),to:{name:r(Y).EXECUTION_PREVIEW,params:{name:r(j),executionId:e.execution.id},query:r(u).query},"data-test-execution-status":M.value.name},{default:m((()=>[k("div",{class:b(t.$style.description)},["new"===M.value.name?(f(),d(r(R),{key:0,color:"text-dark",bold:!0,size:"medium","data-test-id":"execution-time"},{default:m((()=>[p(n(r(te)(M.value.createdAt))+" - "+n(r(v).baseText("executionDetails.startingSoon")),1)])),_:1})):(f(),d(r(R),{key:1,color:"text-dark",bold:!0,size:"medium","data-test-id":"execution-time"},{default:m((()=>[p(n(M.value.startTime),1)])),_:1})),k("div",{class:b(t.$style.executionStatus)},["running"===M.value.name?(f(),d(r(W),{key:0,size:"small",class:b([t.$style.spinner,"mr-4xs"])},null,8,["class"])):a("",!0),l(r(R),{class:b(t.$style.statusLabel),size:"small"},{default:m((()=>[p(n(M.value.label),1)])),_:1},8,["class"]),o[0]||(o[0]=p(" "+n(" ")+" ",-1)),"running"!==M.value.name||e.execution.stoppedAt?a("",!0):(f(),d(r(R),{key:1,color:D.value?"text-dark":"text-base",size:"small","data-test-id":"execution-time-in-status"},{default:m((()=>[p(n(r(v).baseText("executionDetails.runningTimeRunning"))+" ",1),l(ce,{"start-time":e.execution.startedAt??e.execution.createdAt},null,8,["start-time"])])),_:1},8,["color"])),"new"===M.value.name&&e.execution.createdAt?(f(),d(r(R),{key:2,color:D.value?"text-dark":"text-base",size:"small"},{default:m((()=>[k("span",null,n(r(v).baseText("executionDetails.at"))+" "+n(r(ee)(e.execution.createdAt)),1)])),_:1},8,["color"])):""!==M.value.runningTime?(f(),d(r(R),{key:3,color:D.value?"text-dark":"text-base",size:"small"},{default:m((()=>[p(n(r(v).baseText("executionDetails.runningTimeFinished",{interpolate:{time:M.value?.runningTime}})),1)])),_:1},8,["color"])):a("",!0)],2),"retry"===e.execution.mode?(f(),i("div",de,[l(r(R),{color:D.value?"text-dark":"text-base",size:"small"},{default:m((()=>[p(n(r(v).baseText("executionDetails.retry"))+" #"+n(e.execution.retryOf),1)])),_:1},8,["color"])])):a("",!0),L.value?(f(),i("div",{key:3,class:b(t.$style.annotation)},[e.execution.annotation?.vote?(f(),i("div",{key:0,class:b(t.$style.ratingIcon)},["up"==e.execution.annotation.vote?(f(),d(r(I),{key:0,class:b(t.$style.up),icon:"thumbs-up"},null,8,["class"])):(f(),d(r(I),{key:1,class:b(t.$style.down),icon:"thumbs-down"},null,8,["class"]))],2)):a("",!0),M.value.tags.length>0?(f(),d(r(E),{key:1,tags:M.value.tags,clickable:!1},null,8,["tags"])):a("",!0)],2)):a("",!0)],2),k("div",{class:b(t.$style.icons)},[S.value?(f(),d(r(C),{key:0,class:b([t.$style.icon,t.$style.retry]),items:$.value,disabled:!e.workflowPermissions.execute,"activator-icon":"redo-2","data-test-id":"retry-execution-button",onSelect:A},null,8,["class","items","disabled"])):a("",!0),"manual"===e.execution.mode?(f(),d(r(T),{key:1,placement:"top"},{content:m((()=>[k("span",null,n(r(v).baseText("executionsList.test")),1)])),default:m((()=>[l(r(I),{class:b([t.$style.icon,t.$style.manual]),icon:"flask-conical"},null,8,["class"])])),_:1})):a("",!0),"evaluation"===e.execution.mode?(f(),d(r(T),{key:2,placement:"top"},{content:m((()=>[k("span",null,n(r(v).baseText("executionsList.evaluation")),1)])),default:m((()=>[l(r(I),{class:b([t.$style.icon,t.$style.evaluation]),icon:"check-check"},null,8,["class"])])),_:1})):a("",!0)],2)])),_:1},8,["class","to","data-test-execution-status"])],2)}}}),ve=S(_e,[["__cssModules",{$style:{WorkflowExecutionsCard:"_WorkflowExecutionsCard_m24vz_125",active:"_active_m24vz_132",executionStatus:"_executionStatus_m24vz_135",executionLink:"_executionLink_m24vz_138",new:"_new_m24vz_141",spinner:"_spinner_m24vz_141",running:"_running_m24vz_141",statusLabel:"_statusLabel_m24vz_148",success:"_success_m24vz_153",waiting:"_waiting_m24vz_162",error:"_error_m24vz_168",unknown:"_unknown_m24vz_174",annotation:"_annotation_m24vz_177",ratingIcon:"_ratingIcon_m24vz_184",up:"_up_m24vz_184",down:"_down_m24vz_187",icon:"_icon_m24vz_204",icons:"_icons_m24vz_209",retry:"_retry_m24vz_217",manual:"_manual_m24vz_220",showGap:"_showGap_m24vz_228"}}]]),xe={key:0,class:"mr-l"},me={key:3,class:"mr-m"},fe=u({__name:"WorkflowExecutionsSidebar",props:{workflow:{},executions:{},loading:{type:Boolean},loadingMore:{type:Boolean},temporaryExecution:{}},emits:["retryExecution","loadMore","filterUpdated","update:autoRefresh","execution:stopMany"],setup(e,{emit:t}){const c=e,u=t,_=z(),y=M(),E=h(),C=Q(),W=P(),T=K(),j=s({activeExecutionSet:!1,cardsMounted:!1,scroll:!0}),I=s({}),S=s(null),{observe:U}=le({root:S,threshold:.01,onIntersect:()=>u("loadMore",20)}),O=o((()=>J(c.workflow?.scopes).workflow)),V=o((()=>W.isConcurrencyEnabled&&!W.isQueueModeEnabled));function q(e,t){e&&A(e)&&t&&(I.value[t]=e)}function B(e){const t=c.executions.findIndex((t=>t.id===e));if(C.activeExecution?.id===e&&(j.value.activeExecutionSet=!0,j.value.cardsMounted=!0),t===c.executions.length-1&&!c.loading&&!c.loadingMore){const t=I.value[e]?.$el;U(t)}}function F(e){u("retryExecution",e)}function G(e){j.value.activeExecutionSet=!1,j.value.cardsMounted=!1,j.value.scroll=!0,u("filterUpdated",e)}function H(e){u("update:autoRefresh",e)}x((()=>_),((e,t)=>{t.name===Y.EXECUTION_PREVIEW&&e.name===Y.EXECUTION_HOME&&y.go(-1)})),x((()=>C.activeExecution),((e,t)=>{e&&e.id!==t?.id&&(j.value.activeExecutionSet=!0)})),x(j,(e=>{Object.values(e).every(Boolean)&&function(){if(S.value&&C.activeExecution&&I.value[C.activeExecution.id]){const e=I.value[C.activeExecution.id].$el.getBoundingClientRect(),t=200;e.top>S.value.offsetHeight&&(j.value.scroll=!1,S.value.scrollTo({top:e.top-t,behavior:"smooth"}))}}()}),{deep:!0});const N=()=>{T.goToUpgrade("concurrency","upgrade-concurrency")};return(t,o)=>(f(),i("div",{class:b(["executions-sidebar",t.$style.container]),"data-test-id":"executions-sidebar"},[k("div",{class:b(t.$style.heading)},[l(r(D),{tag:"h2",size:"medium",color:"text-dark"},{default:m((()=>[p(n(r(E).baseText("generic.executions")),1)])),_:1}),V.value?(f(),d(ae,{key:0,"running-executions-count":r(C).concurrentExecutionsCount,"concurrency-cap":r(W).concurrency,"is-cloud-deployment":r(W).isCloudDeployment,onGoToUpgrade:N},null,8,["running-executions-count","concurrency-cap","is-cloud-deployment"])):a("",!0),l(re,{executions:c.executions},null,8,["executions"])],2),k("div",{class:b(t.$style.controls)},[l(r($),{modelValue:r(C).autoRefresh,"onUpdate:modelValue":[o[0]||(o[0]=e=>r(C).autoRefresh=e),H],"data-test-id":"auto-refresh-checkbox",label:r(E).baseText("executionsList.autoRefresh")},null,8,["modelValue","label"]),l(se,{"popover-side":"right","popover-align":"start",onFilterChanged:G})],2),k("div",{ref_key:"executionListRef",ref:S,class:b(t.$style.executionList),"data-test-id":"current-executions-list",onScroll:o[1]||(o[1]=e=>function(e=20){if(!c.loading&&S.value){const t=S.value.offsetHeight-(S.value.scrollHeight-S.value.scrollTop);t>-10&&t<10&&u("loadMore",e)}}(20))},[e.loading?(f(),i("div",xe,[l(r(L),{variant:"rect"})])):a("",!0),e.loading||0!==e.executions.length?e.temporaryExecution?(f(),d(ve,{key:2,ref:t=>q(t,e.temporaryExecution?.id),execution:e.temporaryExecution,"data-test-id":`execution-details-${e.temporaryExecution.id}`,"show-gap":!0,"workflow-permissions":O.value,onRetryExecution:F},null,8,["execution","data-test-id","workflow-permissions"])):a("",!0):(f(),i("div",{key:1,class:b(t.$style.noResultsContainer),"data-test-id":"execution-list-empty"},[l(r(R),{color:"text-base",size:"medium",align:"center"},{default:m((()=>[p(n(r(E).baseText("executionsLandingPage.noResults")),1)])),_:1})],2)),l(w,{name:"executions-list"},{default:m((()=>[(f(!0),i(v,null,g(e.executions,(e=>(f(),d(ve,{key:e.id,ref_for:!0,ref:t=>q(t,e.id),execution:e,"workflow-permissions":O.value,"data-test-id":`execution-details-${e.id}`,onRetryExecution:F,onMounted:B},null,8,["execution","workflow-permissions","data-test-id"])))),128))])),_:1}),e.loadingMore?(f(),i("div",me,[l(r(L),{variant:"p",rows:1})])):a("",!0)],34),k("div",{class:b(t.$style.infoAccordion)},[l(ie,{"initially-expanded":!1})],2)],2))}}),ge=S(fe,[["__cssModules",{$style:{container:"_container_1nvjo_125",heading:"_heading_1nvjo_137",controls:"_controls_1nvjo_144",executionList:"_executionList_1nvjo_152",infoAccordion:"_infoAccordion_1nvjo_170",noResultsContainer:"_noResultsContainer_1nvjo_183"}}],["__scopeId","data-v-b9def645"]]),pe=u({__name:"WorkflowExecutionsList",props:{loading:{type:Boolean,default:!1},workflow:{},executions:{default:()=>[]},execution:{},loadingMore:{type:Boolean,default:!1}},emits:["execution:delete","execution:stop","execution:retry","update:auto-refresh","update:filters","load-more","reload"],setup(e,{emit:t}){const n=e,r=t,{promptSaveUnsavedWorkflowChanges:s}=B({router:M()}),c=o((()=>n.executions.find((e=>e.id===n.execution?.id))?void 0:n.execution??void 0)),u=o((()=>n.loading||!n.execution&&n.executions.length)),d=()=>{n.execution?.id&&r("execution:delete",n.execution.id)},_=()=>{n.execution?.id&&r("execution:stop",n.execution.id)},v=e=>{const t="current-workflow"===e.command;r("execution:retry",{id:e.execution.id,loadWorkflow:t})};return j((async(e,t,o)=>{U(e)!==X.WORKFLOW?await s(o):o()})),(t,o)=>{const n=y("RouterView");return f(),i("div",{class:b(t.$style.container)},[l(ge,{executions:e.executions,loading:e.loading&&!e.executions.length,"loading-more":e.loadingMore,"temporary-execution":c.value,workflow:e.workflow,"onUpdate:autoRefresh":o[0]||(o[0]=e=>r("update:auto-refresh",e)),onReloadExecutions:o[1]||(o[1]=e=>r("reload")),onFilterUpdated:o[2]||(o[2]=e=>r("update:filters",e)),onLoadMore:o[3]||(o[3]=e=>r("load-more")),onRetryExecution:v},null,8,["executions","loading","loading-more","temporary-execution","workflow"]),u.value?a("",!0):(f(),i("div",{key:0,class:b(t.$style.content)},[l(n,{name:"executionPreview",execution:e.execution,onDeleteCurrentExecution:d,onRetryExecution:v,onStopExecution:_},null,8,["execution"])],2))],2)}}}),ye=S(pe,[["__cssModules",{$style:{container:"_container_pd7qp_125",content:"_content_pd7qp_131"}}]]),we=u({__name:"WorkflowExecutionsView",setup(e){const t=Q(),n=F(),i=V(),r=h(),l=O(),u=z(),v=M(),m=G(),{callDebounced:g}=Z(),p=s(!1),y=s(!1),w=s(),b=ne(H),k=o((()=>{const e=u.params.executionId;return"string"==typeof e?e:void 0})),E=o((()=>b.value?[...t.currentExecutionsByWorkflowId[b.value]??[],...t.executionsByWorkflowId[b.value]??[]]:[])),C=o((()=>E.value.find((e=>e.id===k.value))??L.value)),L=s(),W=o((()=>"true"===u.query.new));async function T(){if(k.value){try{L.value=await t.fetchExecution(k.value),t.activeExecution=L.value}catch(e){m.showError(e,r.baseText("nodeView.showError.openExecution.title"))}L.value||m.showMessage({type:"error",title:r.baseText("openExecution.missingExeuctionId.title"),message:r.baseText("openExecution.missingExeuctionId.message")})}}function j(){"hidden"===document.visibilityState?t.stopAutoRefreshInterval():t.startAutoRefreshInterval(b.value)}function I(){!W.value&&b.value?w.value=i.workflowsById[b.value]??n.workflow:w.value=n.workflow}async function R(e){e?await t.startAutoRefreshInterval(b.value):t.stopAutoRefreshInterval()}async function $(){if(b.value)try{await t.fetchExecutions({...t.executionsFilters,workflowId:b.value})}catch(e){999===e.errorCode?m.showMessage({title:r.baseText("executionsList.showError.refreshData.title"),message:e.message,type:"error",duration:3500},!1):m.showError(e,r.baseText("executionsList.showError.refreshData.title"))}}async function D(e){t.reset(),t.setFilters(e),await t.initialize(b.value)}async function S(e){if(e)try{await t.stopCurrentExecution(e),m.showMessage({title:r.baseText("executionsList.showMessage.stopExecution.title"),message:r.baseText("executionsList.showMessage.stopExecution.message",{interpolate:{activeExecutionId:e}}),type:"success"}),await $()}catch(o){m.showError(o,r.baseText("executionsList.showError.stopExecution.title"))}}async function A(e){if(e){p.value=!0;try{const o=E.value.findIndex((t=>t.id===e)),n=E.value[o+1]||E.value[o-1]||E.value[0];await t.deleteExecutions({ids:[e]}),w.value&&(E.value.length>0?await v.replace({name:Y.EXECUTION_PREVIEW,params:{name:w.value.id,executionId:n.id}}).catch((()=>{})):await v.replace({name:Y.EXECUTION_HOME,params:{name:w.value.id}}))}catch(o){return p.value=!1,void m.showError(o,r.baseText("executionsList.showError.handleDeleteSelected.title"))}p.value=!1,m.showMessage({title:r.baseText("executionsList.showMessage.handleDeleteSelected.title"),type:"success"})}}async function U(e){m.showMessage({title:r.baseText("executionDetails.runningMessage"),type:"info",duration:2e3}),await async function(e){try{const o=q((await t.retryExecution(e.id,e.loadWorkflow)).status);o&&m.showMessage(o)}catch(o){m.showError(o,r.baseText("executionsList.showError.retryExecution.title"))}}(e),await $(),l.track("User clicked retry execution button",{workflow_id:w.value?.id,execution_id:e.id,retry_type:e.loadWorkflow?"current":"original"})}async function B(){y.value||await g(P,{debounceTime:1e3})}async function P(){if(t.executionsFilters.status?.includes("running")||E.value.length>=t.executionsCount)return;let e;y.value=!0,0!==E.value.length&&(e=E.value.slice(-1)[0].id);try{await t.fetchExecutions(t.executionsFilters,e)}catch(o){return y.value=!1,void m.showError(o,r.baseText("executionsList.showError.loadMore.title"))}y.value=!1}return x((()=>b.value),(()=>{I()})),x((()=>k.value),(async()=>{await T()})),_((async()=>{I(),b.value&&await Promise.all([t.initialize(b.value),T()]),await async function(){u.name===Y.EXECUTION_HOME&&E.value.length>0&&w.value&&await v.replace({name:Y.EXECUTION_PREVIEW,params:{name:w.value.id,executionId:E.value[0].id},query:u.query}).catch((()=>{}))}(),document.addEventListener("visibilitychange",j)})),c((()=>{t.reset(),document.removeEventListener("visibilitychange",j)})),(e,t)=>w.value?(f(),d(ye,{key:0,executions:E.value,execution:C.value,workflow:w.value,loading:p.value,"loading-more":y.value,"onExecution:stop":S,"onExecution:delete":A,"onExecution:retry":U,"onUpdate:filters":D,"onUpdate:autoRefresh":R,onLoadMore:B,onReload:$},null,8,["executions","execution","workflow","loading","loading-more"])):a("",!0)}}),e("default",we)}}}));
//# sourceMappingURL=WorkflowExecutionsView-legacy-DTFvNRCp.js.map