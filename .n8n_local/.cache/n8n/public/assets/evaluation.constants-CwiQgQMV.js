(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`3b48669a-0a80-47e6-a152-89196acc9765`,e._sentryDebugIdIdentifier=`sentry-dbid-3b48669a-0a80-47e6-a152-89196acc9765`)})()}catch{}import{o as e}from"./chunk-Din3qlHY.js";import{Cn as t,D as n,E as r,G as i,Gt as a,It as o,M as s,P as c,T as l,W as u,_ as d,_t as f,at as p,bt as m,c as h,et as g,it as _,vn as v,w as y}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{Oi as b,Ui as x}from"./src-CppJvwzX.js";import{t as S}from"./_plugin-vue_export-helper-B_J4Khre.js";import{n as C,t as w}from"./table-BUhHdyzF.js";import{Po as T}from"./constants-D1jZwsUK.js";var E=250,D=[`promptTokens`,`completionTokens`,`totalTokens`,`executionTime`];function O(e,t){let n=Object.keys(e?.metrics??{}).filter(e=>!D.includes(e)),r=D.filter(t=>e?.metrics?t in e.metrics:!1),i=j(t??[],`inputs`),a=j(t??[],`outputs`);return[...M(i,`inputs`),...M(a,`outputs`),...M(n,`metrics`,!0),...M(r,`metrics`,!0)]}function k(e,t){return t?e.map(e=>e.disabled?e:{...e,visible:t.hasOwnProperty(e.key)?t[e.key]:e.visible}):e}function A(e,t){if(!t?.length)return e;let n=t.map(t=>e.find(e=>t===e.key)||{key:t,disabled:!0}),r=e.filter(e=>!t.includes(e.key));return n.push(...r),n}function j(e,t){let n=e.reduce((e,n)=>(Object.keys(n[t]??{}).forEach(t=>e.add(t)),e),new Set([]));return Array.from(n.keys())}function M(e,t,n){return e.map(e=>({key:`${t}.${e}`,label:e,visible:!0,disabled:!1,columnType:t,numeric:n}))}function N(e,t,{numeric:n}={numeric:!1}){let r;return r=n&&typeof t==`number`&&!D.includes(e)?t.toFixed(2)??`-`:typeof t==`object`&&t?JSON.stringify(t,null,2):`${t}`,r}function P(e,t){return e.filter(e=>!e.disabled&&e.visible).map(e=>{let n=!!t.find(t=>{let n=t[e.columnType]?.[e.label];return N(e.label,n,{numeric:e.numeric})?.length>10});return{prop:e.key,label:e.disabled?e.key:e.label,sortable:!0,filter:!0,showHeaderTooltip:!0,minWidth:n?E:125,formatter:t=>{let n=t[e.columnType]?.[e.label];return N(e.label,n,{numeric:e.numeric})}}})}var F=e(T(),1),I=S(c({__name:`TestTableBase`,props:{data:{},columns:{},showControls:{type:Boolean},defaultSort:{default:()=>({prop:`date`,order:`descending`})},selectable:{type:Boolean,default:!1},selectableFilter:{type:Function,default:()=>!0},expandedRows:{default:()=>new Set}},emits:[`rowClick`,`selectionChange`],setup(e,{emit:c}){let S=e,T=h(),E=o(),D=o([]),O=o([]),k=c;f(()=>S.data,async e=>{if(!(0,F.default)(O.value,e)){let t=D.value.map(e=>e.id);O.value=e,await i(),E.value?.sort(S.defaultSort.prop,S.defaultSort.order),t.forEach(e=>{let t=O.value.find(t=>t.id===e);t&&E.value?.toggleRowSelection(t,!0)})}},{immediate:!0,deep:!0});let A=e=>{D.value=e,k(`selectionChange`,e)},j=(e,t,n)=>{n.minWidth&&e<n.minWidth&&(n.width=n.minWidth)},M=({row:e})=>`${S.expandedRows?.has(e.id)?T.expandedCell:T.baseCell}`,N=({row:e})=>`${`status`in e&&e?.status===`error`?T.customDisabledRow:T.customRow} ${S.expandedRows?.has(e.id)?T.expandedRow:``}`;return(i,o)=>(g(),l(a(w),{ref_key:`tableRef`,ref:E,class:v(a(T).table),"default-sort":e.defaultSort,data:O.value,border:!0,"cell-class-name":M,"row-class-name":N,"scrollbar-always-on":``,onSelectionChange:A,onHeaderDragend:j,onRowClick:o[0]||=e=>i.$emit(`rowClick`,e)},{default:m(()=>[e.selectable?(g(),l(a(C),{key:0,type:`selection`,selectable:e.selectableFilter,"data-test-id":`table-column-select`,width:`46`,fixed:``,align:`center`},null,8,[`selectable`])):r(``,!0),(g(!0),n(d,null,_(e.columns,e=>(g(),l(a(C),u({key:e.prop},{ref_for:!0},e,{resizable:!0,"data-test-id":`table-column`,"min-width":e.minWidth??a(125)}),{header:m(i=>[s(a(b),{content:i.column.label,placement:`top`,disabled:!e.showHeaderTooltip},{default:m(()=>[y(`div`,{class:v(a(T).customHeaderCell)},[y(`div`,{class:v(a(T).customHeaderCellLabel)},t(i.column.label),3),i.column.sortable&&i.column.order?(g(),n(`div`,{key:0,class:v(a(T).customHeaderCellSort)},[s(a(x),{icon:i.column.order===`descending`?`arrow-up`:`arrow-down`,size:`small`},null,8,[`icon`])],2)):r(``,!0)],2)]),_:2},1032,[`content`,`disabled`])]),default:m(({row:t})=>[e.prop===`id`?p(i.$slots,`id`,u({key:0,ref_for:!0},{row:t})):r(``,!0),e.prop===`index`?p(i.$slots,`index`,u({key:1,ref_for:!0},{row:t})):r(``,!0),e.prop===`status`?p(i.$slots,`status`,u({key:2,ref_for:!0},{row:t})):r(``,!0)]),_:2},1040,[`min-width`]))),128))]),_:3},8,[`class`,`default-sort`,`data`]))}}),[[`__cssModules`,{$style:{baseCell:`_baseCell_1k0be_125`,expandedCell:`_expandedCell_1k0be_136`,customRow:`_customRow_1k0be_146`,customDisabledRow:`_customDisabledRow_1k0be_151`,customHeaderCell:`_customHeaderCell_1k0be_156`,customHeaderCellLabel:`_customHeaderCellLabel_1k0be_161`,customHeaderCellSort:`_customHeaderCellSort_1k0be_170`,table:`_table_1k0be_175`}}]]),L={MOCKED_NODE_NOT_FOUND:`evaluation.runDetail.error.mockedNodeMissing`,FAILED_TO_EXECUTE_WORKFLOW:`evaluation.runDetail.error.executionFailed`,INVALID_METRICS:`evaluation.runDetail.error.invalidMetrics`,UNKNOWN_ERROR:`evaluation.runDetail.error.unknownError`,NO_METRICS_COLLECTED:`evaluation.runDetail.error.noMetricsCollected`},R={TEST_CASES_NOT_FOUND:`evaluation.listRuns.error.testCasesNotFound`,INTERRUPTED:`evaluation.listRuns.error.executionInterrupted`,UNKNOWN_ERROR:`evaluation.listRuns.error.unknownError`,EVALUATION_TRIGGER_NOT_FOUND:`evaluation.listRuns.error.evaluationTriggerNotFound`,EVALUATION_TRIGGER_NOT_CONFIGURED:`evaluation.listRuns.error.evaluationTriggerNotConfigured`,EVALUATION_TRIGGER_DISABLED:`evaluation.listRuns.error.evaluationTriggerDisabled`,SET_OUTPUTS_NODE_NOT_CONFIGURED:`evaluation.listRuns.error.setOutputsNodeNotConfigured`,SET_METRICS_NODE_NOT_FOUND:`evaluation.listRuns.error.setMetricsNodeNotFound`,SET_METRICS_NODE_NOT_CONFIGURED:`evaluation.listRuns.error.setMetricsNodeNotConfigured`,CANT_FETCH_TEST_CASES:`evaluation.listRuns.error.cantFetchTestCases`,PARTIAL_CASES_FAILED:`evaluation.runDetail.error.partialCasesFailed`};const z=e=>L[e]??R[e]??``,B={new:{icon:`status-new`,color:`foreground-xdark`},running:{icon:`spinner`,color:`secondary`},completed:{icon:`status-completed`,color:`success`},error:{icon:`triangle-alert`,color:`danger`},cancelled:{icon:`status-canceled`,color:`foreground-xdark`},warning:{icon:`status-warning`,color:`warning`},success:{icon:`status-completed`,color:`success`}};export{k as a,P as c,A as i,B as n,O as o,I as r,j as s,z as t};
//# sourceMappingURL=evaluation.constants-CwiQgQMV.js.map