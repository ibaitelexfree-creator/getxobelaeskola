!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./nodeIcon-legacy-KJSlWBN7.js","./NodeIcon-legacy-DOI-M5xN.js","./TimeAgo-legacy-B4YnT5IQ.js","./orderBy-legacy-BePN9Mxt.js","./TemplatesView-legacy-gL2BSFXS.js","./TemplateList-legacy-SBHLjOYI.js"],(function(e,t){var i,s,l,a,n,o,r,d,u,c,h,g,p,f,v,_,m,y,w,b,x,S,k,T,C,$,B,M,A,P,E,D,L,W,I,N,O,j,z,U,X,R,F,G,q,H,Y,V,K,J,Z,Q,ee,te,ie,se,le,ae,ne,oe,re,de,ue,ce,he,ge,pe,fe,ve,_e,me,ye,we,be,xe,Se,ke,Te,Ce,$e,Be,Me,Ae,Pe,Ee,De,Le,We,Ie,Ne,Oe,je,ze;function Ue(e,t,i,s,l,r){return b(),n("div",{class:B([{"agile--ssr":l.isSSR,"agile--auto-play":e.settings.autoplay,"agile--disabled":e.settings.unagile,"agile--fade":e.settings.fade&&!e.settings.unagile,"agile--rtl":e.settings.rtl,"agile--no-nav-buttons":!e.settings.navButtons},"agile"]),onTouchstart:()=>{}},[M("div",xe,[M("div",{ref:"track",style:y({transform:`translate(${l.translateX+r.marginX}px)`,transition:`transform ${e.settings.timing} ${l.transitionDelay}ms`}),class:"agile__track",onMouseout:t[0]||(t[0]=t=>e.handleMouseOut("track")),onMouseover:t[1]||(t[1]=t=>e.handleMouseOver("track"))},[A(M("div",Se,[m(e.$slots,"default")],512),[[T,r.slidesCloned]]),M("div",ke,[m(e.$slots,"default")],512),A(M("div",Te,[m(e.$slots,"default")],512),[[T,r.slidesCloned]])],36)],512),e.$slots.caption?(b(),n("div",Ce,[m(e.$slots,"caption")])):o("",!0),e.settings.unagile||!e.settings.navButtons&&!e.settings.dots?o("",!0):(b(),n("div",$e,[e.settings.navButtons&&!e.settings.unagile?(b(),n("button",{key:0,ref:"prevButton",disabled:!r.canGoToPrev,"aria-label":"Previous",class:"agile__nav-button agile__nav-button--prev",type:"button",onClick:t[2]||(t[2]=t=>(r.goToPrev(),e.restartAutoPlay()))},[m(e.$slots,"prevButton",{},(()=>[t[6]||(t[6]=S(" ← ",-1))]))],8,Be)):o("",!0),e.settings.dots&&!e.settings.unagile?(b(),n("ul",Me,[(b(!0),n(v,null,x(r.countSlides,(i=>(b(),n("li",{key:i,class:B([{"agile__dot--current":i-1===l.currentSlide},"agile__dot"]),onMouseout:t[3]||(t[3]=t=>e.handleMouseOut("dot")),onMouseover:t[4]||(t[4]=t=>e.handleMouseOver("dot"))},[M("button",{type:"button",onClick:t=>(r.goTo(i-1),e.restartAutoPlay())},a(i),9,Ae)],34)))),128))],512)):o("",!0),e.settings.navButtons&&!e.settings.unagile?(b(),n("button",{key:2,ref:"nextButton",disabled:!r.canGoToNext,"aria-label":"Next",class:"agile__nav-button agile__nav-button--next",type:"button",onClick:t[5]||(t[5]=t=>(r.goToNext(),e.restartAutoPlay()))},[m(e.$slots,"nextButton",{},(()=>[t[7]||(t[7]=S(" → ",-1))]))],8,Pe)):o("",!0)]))],34)}return{setters:[function(e){i=e.o,s=e.t},function(e){l=e.C,a=e.Cn,n=e.D,o=e.E,r=e.G,d=e.Gt,u=e.It,c=e.M,h=e.P,g=e.T,p=e.W,f=e.Z,v=e._,_=e._t,m=e.at,y=e.bn,w=e.bt,b=e.et,x=e.it,S=e.j,k=e.k,T=e.p,C=e.q,$=e.st,B=e.vn,M=e.w,A=e.xt},function(e){P=e.c,E=e.yt},function(e){D=e.Ci,L=e.Et,W=e.Hi,I=e.Si,N=e.Ui,O=e.Vi,j=e.bt,z=e.ji,U=e.st,X=e.wi,R=e.zi},function(e){F=e.t},function(e){},function(e){G=e.Lt,q=e.fn,H=e.t,Y=e.ws,V=e.xn,K=e.yr},function(e){J=e.rs,Z=e.u},function(e){},function(e){},function(e){},function(e){Q=e.n,ee=e.t},function(e){},function(e){},function(e){},function(e){te=e.t},function(e){ie=e.t},function(e){se=e.n,le=e.t}],execute:function(){(ae=document.createElement("style")).textContent='._card_pxgdc_125{min-width:235px;height:140px;margin-right:var(--spacing--2xs);cursor:pointer}._card_pxgdc_125:last-child{margin-right:var(--spacing--5xs)}._card_pxgdc_125:hover{box-shadow:0 2px 4px rgba(68,28,23,.07)}._card_pxgdc_125>div{height:100%}._title_pxgdc_141{-webkit-line-clamp:4;font-size:var(--font-size--sm);line-height:var(--line-height--md);font-weight:var(--font-weight--bold);white-space:normal;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.agile{position:relative}.agile--ssr .agile__slides--cloned{display:none}.agile--ssr .agile__slides>*{width:0;overflow:hidden}.agile--ssr .agile__slides>:first-child{width:100%}.agile--rtl .agile__track,.agile--rtl .agile__slides,.agile--rtl .agile__actions,.agile--rtl .agile__dots{flex-direction:row-reverse}.agile:focus,.agile:active,.agile :focus,.agile :active{outline:none}.agile__list{width:100%;display:block;position:relative;overflow:hidden}.agile__track{flex-flow:row;display:flex}.agile__actions{justify-content:space-between;display:flex}.agile--no-nav-buttons .agile__actions{justify-content:center}.agile__slides{flex-direction:row;flex-grow:1;flex-shrink:unset;flex-wrap:nowrap;justify-content:flex-start;align-items:center;display:flex}.agile--disabled .agile__slides{width:100%;display:block}.agile__slide{flex-grow:1;flex-shrink:0;display:block}.agile__slide,.agile__slide *{-webkit-user-drag:none}.agile--fade .agile__slide{opacity:0;z-index:0;position:relative}.agile--fade .agile__slide--active{opacity:1;z-index:2}.agile--fade .agile__slide--expiring{opacity:1;z-index:1;transition-duration:0s}.agile__nav-button[disabled]{cursor:default}.agile__dots{white-space:nowrap;align-items:center;padding:0;list-style:none;display:flex}.agile__dot button{cursor:pointer;font-size:0;line-height:0;display:block}._container_1m7ae_125{position:relative}._button_1m7ae_129{border-radius:var(--radius--lg);border:var(--border);cursor:pointer;background-color:#fbfcfe;width:28px;height:37px;position:absolute;top:35%}._button_1m7ae_129:after{content:"";width:40px;height:140px;position:absolute;top:-55px}._button_1m7ae_129 svg{color:var(--color--foreground--shade-2)}._leftButton_1m7ae_150{left:-30px}._leftButton_1m7ae_150:after{background:linear-gradient(270deg,color-mix(in srgb,transparent 50%,var(--color--background--light-2)),var(--color--background--light-2));left:27px}._rightButton_1m7ae_159{right:-30px}._rightButton_1m7ae_159:after{background:linear-gradient(90deg,color-mix(in srgb,transparent 50%,var(--color--background--light-2)),var(--color--background--light-2));right:27px}.agile__list{width:100%;padding-bottom:var(--spacing--2xs);transition:all 1s ease-in-out;overflow-x:auto}.agile__track{width:50px}._title_hd29n_125{font-size:var(--font-size--2xs);color:var(--color--text)}._categories_hd29n_130{padding-top:var(--spacing--xs);list-style-type:none}._item_hd29n_135{margin-top:var(--spacing--xs)}._item_hd29n_135:first-child{margin-top:0}._button_hd29n_142{padding-top:var(--spacing--2xs);cursor:pointer}.template-filters .el-checkbox{white-space:unset;display:flex}.template-filters .el-checkbox__label{font-size:var(--font-size--xs);line-height:var(--line-height--lg);color:var(--color--text--shade-1);padding-left:var(--spacing--2xs);position:relative;top:-2px}._wrapper_n14ka_125,._contentWrapper_n14ka_130{justify-content:space-between;display:flex}@media (max-width:768px){._contentWrapper_n14ka_130{flex-direction:column}}._filters_n14ka_140{width:200px;margin-bottom:var(--spacing--xl);margin-right:var(--spacing--2xl)}._search_n14ka_146{width:100%}._search_n14ka_146>*{margin-bottom:var(--spacing--lg)}@media (max-width:768px){._search_n14ka_146{padding-left:0}}._header_n14ka_158{margin-bottom:var(--spacing--2xs)}\n/*$vite$:1*/',document.head.appendChild(ae);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(Xe=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[Xe]="74231649-3989-4f3e-90cc-60b8f275fb55",t._sentryDebugIdIdentifier="sentry-dbid-74231649-3989-4f3e-90cc-60b8f275fb55")}catch(t){}var t,Xe;ne=["textContent"],oe=h({__name:"CollectionWorkflowCard",props:{loading:{type:Boolean},title:{}},setup:e=>(t,i)=>(b(),g(d(j),p({class:t.$style.card},t.$attrs),k({default:w((()=>[c(d(L),{loading:e.loading,rows:3,variant:"p"},null,8,["loading"])])),_:2},[!e.loading&&e.title?{name:"header",fn:w((()=>[M("span",{class:B(t.$style.title),textContent:a(e.title)},null,10,ne)])),key:"0"}:void 0,e.loading?void 0:{name:"footer",fn:w((()=>[m(t.$slots,"footer")])),key:"1"}]),1040,["class"]))}),re=F(oe,[["__cssModules",{$style:{card:"_card_pxgdc_125",title:"_title_pxgdc_141"}}]]),de=h({__name:"TemplatesInfoCard",props:{collection:{},loading:{type:Boolean,default:!1},showItemCount:{type:Boolean,default:!0},width:{}},setup(e){const t=E();return(i,s)=>(b(),g(re,{loading:e.loading,title:e.collection.name,style:y({width:e.width})},{footer:w((()=>[M("span",null,[A(c(d(O),{size:"small",color:"text-light"},{default:w((()=>[S(a(e.collection.workflows.length)+" "+a(d(t).baseText("templates.workflows")),1)])),_:1},512),[[T,e.showItemCount]])]),c(se,{nodes:e.collection.nodes,"show-more":!1},null,8,["nodes"])])),_:1},8,["loading","title","style"]))}}),ue=de,ce={methods:{handleMouseDown(e){this.isMouseDown=!0,-1!==e.type.indexOf("touch")&&(this.dragStartX=e.touches[0].clientX,this.dragStartY=e.touches[0].clientY),-1!==e.type.indexOf("mouse")&&(this.dragStartX=e.clientX,this.dragStartY=e.clientY)},handleMouseMove(e){let t,i;-1!==e.type.indexOf("touch")&&(t=e.touches[0].clientX,i=e.touches[0].clientY),-1!==e.type.indexOf("mouse")&&(t=e.clientX,i=e.clientY),Math.abs(t-this.dragStartX)>3*Math.abs(i-this.dragStartY)&&(this.disableScroll(),this.dragDistance=t-this.dragStartX)},handleMouseUp(){this.isMouseDown=!1,this.enableScroll()},handleMouseOver(e){this.settings.autoplay&&("dot"===e&&this.settings.pauseOnDotsHover||"track"===e&&this.settings.pauseOnHover)&&(this.isAutoplayPaused=!0)},handleMouseOut(e){this.settings.autoplay&&("dot"===e&&this.settings.pauseOnDotsHover||"track"===e&&this.settings.pauseOnHover)&&(this.isAutoplayPaused=!1)}}},he=ce,ge={methods:{getWidth(){if(this.isSSR)return!1;this.widthWindow=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.widthContainer=this.$refs.list.clientWidth},htmlCollectionToArray:e=>Array.prototype.slice.call(e,0)}},pe={methods:{clearAutoPlayPause(){clearTimeout(this.autoplayTimeout),this.autoplayRemaining=null},disableAutoPlay(){clearInterval(this.autoplayInterval),this.autoplayInterval=null},disableScroll(){document.ontouchmove=e=>e.preventDefault()},enableScroll(){document.ontouchmove=()=>!0},restartAutoPlay(){this.disableAutoPlay(),this.toggleAutoPlay()},toggleAutoPlay(){const e=!this.settings.unagile&&this.settings.autoplay;!this.autoplayInterval&&e?this.autoplayInterval=setInterval((()=>{document.hidden||(this.canGoToNext?this.goToNext():this.disableAutoPlay())}),this.settings.autoplaySpeed):this.disableAutoPlay()},toggleFade(){const e=!this.settings.unagile&&this.settings.fade;for(let t=0;t<this.countSlides;t++)this.slides[t].style.transition=e?"opacity "+this.settings.timing+" "+this.settings.speed+"ms":"none",this.slides[t].style.transform=e?`translate(-${t*this.widthSlide}px)`:"none"}}},fe=pe,ve={methods:{prepareSlides(){this.slides=this.htmlCollectionToArray(this.$refs.slides.children),this.slidesCloned&&(this.slidesClonedBefore=this.htmlCollectionToArray(this.$refs.slidesClonedBefore.children),this.slidesClonedAfter=this.htmlCollectionToArray(this.$refs.slidesClonedAfter.children));for(const e of this.slidesAll)e.classList.add("agile__slide")},prepareSlidesClasses(){if(null===this.currentSlide)return!1;for(let t=0;t<this.countSlides;t++)this.slides[t].classList.remove("agile__slide--active"),this.slides[t].classList.remove("agile__slide--current");setTimeout((()=>this.slides[this.currentSlide].classList.add("agile__slide--active")),this.changeDelay);let e=this.slidesCloned?this.countSlides+this.currentSlide:this.currentSlide;this.centerMode&&(e-=Math.floor(this.settings.slidesToShow/2)-+(this.settings.slidesToShow%2==0));for(let t=Math.max(e,0);t<Math.min(e+this.settings.slidesToShow,this.countSlides);t++)this.slidesAll[t].classList.add("agile__slide--current")},prepareCarousel(){this.settings.unagile?this.translateX=0:(null===this.currentSlide&&this.countSlides&&(this.currentSlide=this.settings.initialSlide),this.currentSlide>this.countSlides&&(this.currentSlide=this.countSlides-1),this.goTo(this.currentSlide,!1,!1))}}},_e=i(te()),me={props:{asNavFor:{type:Array,default:function(){return[]}},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:3e3},centerMode:{type:Boolean,default:!1},centerPadding:{type:String,default:"15%"},changeDelay:{type:Number,default:0},dots:{type:Boolean,default:!0},fade:{type:Boolean,default:!1},infinite:{type:Boolean,default:!0},initialSlide:{type:Number,default:0},mobileFirst:{type:Boolean,default:!0},navButtons:{type:Boolean,default:!0},options:{type:Object,default:()=>null},pauseOnDotsHover:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!0},responsive:{type:Array,default:()=>null},rtl:{type:Boolean,default:!1},slidesToScroll:{type:Number,default:1},slidesToShow:{type:Number,default:1},speed:{type:Number,default:300},swipeDistance:{type:Number,default:50},throttleDelay:{type:Number,default:500},timing:{type:String,default:"ease",validator:e=>-1!==["ease","linear","ease-in","ease-out","ease-in-out"].indexOf(e)},unagile:{type:Boolean,default:!1}},computed:{initialSettings:function(){let{options:e,...t}=this.$props;return e&&(t={...t,...e}),t.responsive&&(t.responsive=(0,_e.default)(t.responsive,"breakpoint")),t},settings:function(){const{responsive:e,...t}=this.initialSettings;return e&&e.forEach((e=>{if(t.mobileFirst?e.breakpoint<this.widthWindow:e.breakpoint>this.widthWindow)for(const i in e.settings)t[i]=e.settings[i]})),t}}},ye=me,we=i(s(((e,t)=>{var i=Q(),s=P();t.exports=function(e,t,l){var a=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return s(l)&&(a="leading"in l?!!l.leading:a,n="trailing"in l?!!l.trailing:n),i(e,t,{leading:a,maxWait:t,trailing:n})}}))()),be={name:"agile",mixins:[he,ge,fe,ve,ye,{created(){this.goTo=(0,we.default)(this.goTo,this.throttleDelay),this.getWidth=(0,we.default)(this.getWidth,500)}},{watch:{currentBreakpoint(){this.$emit("breakpoint",{breakpoint:this.currentBreakpoint})},currentSlide(){this.prepareSlidesClasses(),this.autoplayStartTimestamp=this.settings.autoplay?+new Date:null,this.$emit("after-change",{currentSlide:this.currentSlide})},dragDistance(){if(this.isMouseDown){const{rtl:e}=this.settings,t=this.dragDistance*(e?-1:1);t>this.swipeDistance&&this.canGoToPrev&&(this.goToPrev(),this.handleMouseUp()),t<-1*this.swipeDistance&&this.canGoToNext&&(this.goToNext(),this.handleMouseUp())}},isAutoplayPaused(e){e?(this.remaining=this.settings.autoplaySpeed-(+new Date-this.autoplayStartTimestamp),this.disableAutoPlay(),this.clearAutoPlayPause()):this.autoplayTimeout=setTimeout((()=>{this.clearAutoPlayPause(),this.goToNext(),this.toggleAutoPlay()}),this.remaining)},"settings.autoplay"(){this.toggleAutoPlay()},"settings.fade"(){this.toggleFade()},"settings.unagile"(){},widthSlide(){for(let e=0;e<this.countSlidesAll;e++)this.slidesAll[e].style.width=`${this.widthSlide}${"auto"!==this.widthSlide?"px":""}`},widthWindow(e,t){t&&(this.prepareCarousel(),this.toggleFade())}}}],emits:["before-change","after-change","breakpoint"],data:()=>({autoplayInterval:null,autoplayRemaining:null,autoplayStartTimestamp:null,autoplayTimeout:null,currentSlide:null,dragDistance:0,dragStartX:0,dragStartY:0,isAutoplayPaused:!1,isMouseDown:!1,slides:[],slidesClonedAfter:[],slidesClonedBefore:[],isSSR:"undefined"==typeof window,transitionDelay:0,translateX:0,widthWindow:0,widthContainer:0}),computed:{breakpoints:function(){return this.initialSettings.responsive?this.initialSettings.responsive.map((e=>e.breakpoint)):[]},canGoToPrev:function(){return this.settings.infinite||this.currentSlide>0},canGoToNext:function(){return this.settings.infinite||this.currentSlide<this.countSlides-1},countSlides:function(){return this.isSSR?this.htmlCollectionToArray(this.$slots.default).length:this.slides.length},countSlidesAll:function(){return this.slidesAll.length},currentBreakpoint:function(){const e=this.breakpoints.map((e=>e)).reverse();return this.initialSettings.mobileFirst?e.find((e=>e<this.widthWindow))||0:e.find((e=>e>this.widthWindow))||null},marginX:function(){if(this.settings.unagile)return 0;let e=this.slidesCloned?this.countSlides*this.widthSlide:0;return this.settings.centerMode&&(e-=(Math.floor(this.settings.slidesToShow/2)-+(this.settings.slidesToShow%2==0))*this.widthSlide),this.settings.rtl?e:-1*e},slidesCloned:function(){return!this.settings.unagile&&!this.settings.fade&&this.settings.infinite},slidesAll:function(){return this.slidesCloned?[...this.slidesClonedBefore,...this.slides,...this.slidesClonedAfter]:this.slides},widthSlide:function(){return this.settings.unagile?"auto":this.widthContainer/this.settings.slidesToShow}},mounted(){window.addEventListener("resize",this.getWidth),this.$refs.track.addEventListener("touchstart",this.handleMouseDown),this.$refs.track.addEventListener("touchend",this.handleMouseUp),this.$refs.track.addEventListener("touchmove",this.handleMouseMove),this.$refs.track.addEventListener("mousedown",this.handleMouseDown),this.$refs.track.addEventListener("mouseup",this.handleMouseUp),this.$refs.track.addEventListener("mousemove",this.handleMouseMove),this.isSSR=!1,this.reload()},beforeUnmount(){this.destroy()},methods:{destroy(){window.removeEventListener("resize",this.getWidth),this.$refs.track.removeEventListener("touchstart",this.handleMouseDown),this.$refs.track.removeEventListener("touchend",this.handleMouseUp),this.$refs.track.removeEventListener("touchmove",this.handleMouseMove),this.$refs.track.removeEventListener("mousedown",this.handleMouseDown),this.$refs.track.removeEventListener("mouseup",this.handleMouseUp),this.$refs.track.removeEventListener("mousemove",this.handleMouseMove),this.disableAutoPlay()},getCurrentBreakpoint(){return this.currentBreakpoint},getCurrentSettings(){return this.settings},getCurrentSlide(){return this.currentSlide},getInitialSettings(){return this.initialSettings},goTo(e,t=!0,i=!1){if(this.settings.unagile)return!1;i||this.settings.asNavFor.forEach((i=>{i&&i.goTo(e,t,!0)}));let s=e;t&&(this.settings.infinite&&e<0?s=this.countSlides-1:e>=this.countSlides&&(s=0),this.$emit("before-change",{currentSlide:this.currentSlide,nextSlide:s}),this.currentSlide=s,e!==s&&setTimeout((()=>{this.goTo(s,!1)}),this.settings.speed));const l=this.settings.fade?0:e*this.widthSlide*this.settings.slidesToScroll;this.transitionDelay=t?this.speed:0,(this.infinite||this.currentSlide+this.slidesToShow<=this.countSlides)&&(this.translateX=this.settings.rtl?l:-1*l)},goToNext(){this.canGoToNext&&this.goTo(this.currentSlide+1)},goToPrev(){this.canGoToPrev&&this.goTo(this.currentSlide-1)},reload(){this.getWidth(),this.prepareSlides(),this.prepareCarousel(),this.toggleFade(),this.toggleAutoPlay()}}},xe={ref:"list",class:"agile__list"},Se={ref:"slidesClonedBefore",class:"agile__slides agile__slides--cloned"},ke={ref:"slides",class:"agile__slides agile__slides--regular"},Te={ref:"slidesClonedAfter",class:"agile__slides agile__slides--cloned"},Ce={key:0,class:"agile__caption"},$e={key:1,class:"agile__actions"},Be=["disabled"],Me={key:1,ref:"dots",class:"agile__dots"},Ae=["onClick"],Pe=["disabled"],Ee=F(be,[["render",Ue]]),De=h({__name:"TemplatesInfoCarousel",props:{collections:{},loading:{type:Boolean,default:!1},showItemCount:{type:Boolean,default:!0},showNavigation:{type:Boolean,default:!0},cardsWidth:{default:"240px"}},emits:["openCollection"],setup(e,{emit:t}){const i=e,s=t,l=u(0),a=u(parseInt(i.cardsWidth,10)),o=u(!1),h=u(null),p=u(null),m=()=>{if(h.value){l.value=Number(h.value.scrollLeft.toFixed());const e=h.value.clientWidth,t=h.value.scrollWidth,i=l.value;o.value=t-e<=i+7}},y=()=>{h.value&&h.value.scrollBy({left:-2*a.value,top:0,behavior:"smooth"})},S=()=>{h.value&&h.value.scrollBy({left:2*a.value,top:0,behavior:"smooth"})};return _((()=>i.collections),(()=>{setTimeout((()=>{m()}),0)})),_((()=>i.loading),(()=>{setTimeout((()=>{m()}),0)})),f((async()=>{await r(),p.value&&(h.value=p.value.$el.querySelector(".agile__list"),h.value&&h.value.addEventListener("scroll",m))})),C((()=>{p.value&&p.value.destroy(),window.addEventListener("scroll",m)})),(t,i)=>A((b(),n("div",{class:B(t.$style.container)},[c(d(Ee),{ref_key:"sliderRef",ref:p,dots:!1,"nav-buttons":!1,infinite:!1,"slides-to-show":4,onAfterChange:m},{default:w((()=>[(b(!0),n(v,null,x(e.loading?4:0,(t=>(b(),g(re,{key:`loading-${t}`,loading:e.loading},null,8,["loading"])))),128)),(b(!0),n(v,null,x(e.loading?[]:e.collections,(t=>(b(),g(ue,{key:t.id,"data-test-id":"templates-info-card",collection:t,"show-item-count":e.showItemCount,width:e.cardsWidth,onClick:e=>{return i=e,l=t.id,void s("openCollection",{event:i,id:l});var i,l}},null,8,["collection","show-item-count","width","onClick"])))),128))])),_:1},512),A(M("button",{class:B({[t.$style.leftButton]:!0}),onClick:y},[c(d(N),{icon:"chevron-left"})],2),[[T,e.showNavigation&&l.value>0]]),A(M("button",{class:B({[t.$style.rightButton]:!0}),onClick:S},[c(d(N),{icon:"chevron-right"})],2),[[T,e.showNavigation&&!o.value]])],2)),[[T,e.loading||e.collections.length]])}}),Le=F(De,[["__cssModules",{$style:{container:"_container_1m7ae_125",button:"_button_1m7ae_129",leftButton:"_leftButton_1m7ae_150 _button_1m7ae_129",rightButton:"_rightButton_1m7ae_159 _button_1m7ae_129"}}]]),We=["textContent"],Ie=["data-test-id"],Ne=h({__name:"TemplateFilters",props:{categories:{default:()=>[]},sortOnPopulate:{type:Boolean,default:!1},expandLimit:{default:12},loading:{type:Boolean,default:!1},selected:{default:()=>[]}},emits:["clearAll","select","clear"],setup(e,{emit:t}){const i=e,s=t,r=E(),h=u(!0),g=u([]),p=l((()=>0===i.selected.length));function f(){if(i.sortOnPopulate){const e=i.selected||[],t=i.categories.filter((t=>e.includes(t))),s=i.categories.filter((t=>!e.includes(t)));g.value=t.concat(s)}else g.value=i.categories}function m(){h.value=!1}function y(e){return i.selected.includes(e)}return _((()=>i.sortOnPopulate),(e=>{e&&f()}),{immediate:!0}),_((()=>i.categories),(e=>{e.length>0&&f()}),{immediate:!0}),(t,i)=>(b(),n("div",{class:B([t.$style.filters,"template-filters"]),"data-test-id":"templates-filter-container"},[M("div",{class:B(t.$style.title),textContent:a(d(r).baseText("templates.categoriesHeading"))},null,10,We),e.loading?(b(),n("div",{key:0,class:B(t.$style.list)},[c(d(L),{loading:e.loading,rows:e.expandLimit},null,8,["loading","rows"])],2)):o("",!0),e.loading?o("",!0):(b(),n("ul",{key:1,class:B(t.$style.categories)},[M("li",{class:B(t.$style.item),"data-test-id":"template-filter-all-categories"},[c(d(U),{"model-value":p.value,label:d(r).baseText("templates.allCategories"),"onUpdate:modelValue":i[0]||(i[0]=()=>{s("clearAll")})},null,8,["model-value","label"])],2),(b(!0),n(v,null,x(h.value?g.value.slice(0,e.expandLimit):g.value,((e,i)=>(b(),n("li",{key:i,class:B(t.$style.item),"data-test-id":`template-filter-${e.name.toLowerCase().replaceAll(" ","-")}`},[c(d(U),{"model-value":y(e),label:e.name,"onUpdate:modelValue":t=>function(e,t){s(e?"select":"clear",t)}(t,e)},null,8,["model-value","label","onUpdate:modelValue"])],10,Ie)))),128))],2)),g.value.length>e.expandLimit&&h.value&&!e.loading?(b(),n("div",{key:2,class:B(t.$style.button),"data-test-id":"expand-categories-button",onClick:m},[c(d(O),{size:"small",color:"primary"},{default:w((()=>[S(" + "+a(g.value.length-e.expandLimit+" more"),1)])),_:1})],2)):o("",!0)],2))}}),Oe=F(Ne,[["__cssModules",{$style:{title:"_title_hd29n_125",categories:"_categories_hd29n_130",item:"_item_hd29n_135",button:"_button_hd29n_142"}}]]),je=["textContent"],ze=h({__name:"TemplatesSearchView",setup(e){const i=u(!1),s=u([]),r=u(!0),h=u(!0),p=u(!0),v=u(""),m=u(null),y=u(!1),{callDebounced:x}=ee(),k=K(),C=q(),P=Y(),L=V(),j=H(),U=E(),F=D(),Q=X(),te=G(),se=e=>({categories:s.value.map((t=>"name"===e?t.name:String(t.id))),search:v.value}),ae=l((()=>L.getSearchedWorkflowsTotal(se("name")))),ne=l((()=>L.getSearchedWorkflows(se("name"))??[])),oe=l((()=>L.getSearchedCollections(se("id"))??[])),re=l((()=>p.value||h.value||0!==ne.value.length||0!==oe.value.length?null:!P.isTemplatesEndpointReachable&&y.value?U.baseText("templates.connectionWarning"):U.baseText("templates.noSearchResults"))),de=()=>{((e,t)=>{const i=Object.assign({},F.query);t.length?i.categories=t:delete i.categories,e.length?i.search=e:delete i.search,Q.replace({query:i})})(v.value,s.value.map((e=>e.id)).join(",")),ge(!1)},ue=async()=>{try{p.value=!0,await L.getWorkflows({search:v.value,categories:s.value.map((e=>e.name))}),y.value=!1}catch(t){y.value=!0}p.value=!1},ce=async()=>{try{h.value=!0,await L.getCollections({categories:s.value.map((e=>String(e.id))),search:v.value})}catch(t){}h.value=!1},he=()=>{s.value.length&&te.track("User changed template filters",{search_string:v.value,categories_applied:s.value,wf_template_repo_session_id:L.currentSessionId})},ge=async e=>{const t=[...s.value],i=v.value;var l,a;await Promise.all([ue(),ce()]),e||(l=i,a=t.map((e=>e.id)),l&&(m.value&&m.value.search_string.length>l.length||(m.value={search_string:l,workflow_results_count:ne.value.length,collection_results_count:oe.value.length,categories_applied:a.map((e=>L.getCategoryById(e.toString()))),wf_template_repo_session_id:L.currentSessionId})))},pe=(e,t,i)=>{if(e.metaKey||e.ctrlKey){const e=Q.resolve({name:t,params:{id:i}});window.open(e.href,"_blank")}else Q.push({name:t,params:{id:i}})},fe=({event:e,id:t})=>{pe(e,J.COLLECTION,t)},ve=({event:e,id:t})=>{pe(e,J.TEMPLATE,t)},_e=()=>{m.value&&(te.track("User searched workflow templates",m.value),m.value=null)},me=e=>{p.value=!0,h.value=!0,v.value=e,x(de,{debounceTime:500,trailing:!0}),0===e.length&&_e()},ye=e=>{s.value=s.value.concat(e),de(),he()},we=e=>{s.value=s.value.filter((t=>t.id!==e.id)),de(),he()},be=()=>{s.value=[],de()},xe=async()=>{if(!(ne.value.length>=ae.value))try{p.value=!0,await L.getMoreWorkflows({categories:s.value.map((e=>e.name)),search:v.value})}catch(t){k.showMessage({title:"Error",message:"Could not load more workflows",type:"error"})}finally{p.value=!1}};return f((async()=>{C.set("Templates"),await(async()=>{try{await L.getCategories()}catch(t){}r.value=!1})(),ge(!0),j.showPersonalizationSurvey(),(()=>{let e=!1;if(F.query.search&&"string"==typeof F.query.search&&(v.value=F.query.search,e=!0),"string"==typeof F.query.categories&&F.query.categories.length){const t=F.query.categories.split(",");s.value=L.allCategories.filter((e=>t.includes(e.id.toString()))),e=!0}e&&(de(),he(),i.value=!0)})(),P.isTemplatesEnabled&&P.testTemplatesEndpoint().catch((()=>{})),setTimeout((()=>{const e=F.meta?.scrollOffset;"number"==typeof e&&e>0&&((e,t="smooth")=>{setTimeout((()=>{const i=document.getElementById("content");i&&i.scrollTo({top:e,behavior:t})}),0)})(e,"auto")}),100)})),I(((e,t,i)=>{const s=document.getElementById("content");s&&F.meta?.setScrollPosition?.(s.scrollTop),_e(),i()})),_(ne,(e=>{0===e.length&&window.scrollTo(0,0)})),(e,t)=>{const l=$("n8n-html");return b(),g(ie,null,{header:w((()=>[M("div",{class:B(e.$style.wrapper)},[M("div",{class:B(e.$style.title)},[c(d(R),{tag:"h1",size:"2xlarge"},{default:w((()=>[S(a(d(U).baseText("templates.heading")),1)])),_:1})],2),M("div",{class:B(e.$style.button)},[c(d(W),{variant:"subtle",size:"large",href:d(Z),label:d(U).baseText("templates.shareWorkflow"),target:"_blank"},null,8,["href","label"])],2)],2)])),content:w((()=>[M("div",{class:B(e.$style.contentWrapper)},[M("div",{class:B(e.$style.filters)},[c(Oe,{categories:d(L).allCategories,"sort-on-populate":i.value,selected:s.value,loading:r.value,onClear:we,onClearAll:be,onSelect:ye},null,8,["categories","sort-on-populate","selected","loading"])],2),M("div",{class:B(e.$style.search)},[c(d(z),{"model-value":v.value,placeholder:d(U).baseText("templates.searchPlaceholder"),clearable:"","data-test-id":"template-search-input","onUpdate:modelValue":me,onBlur:_e},{prefix:w((()=>[c(d(N),{icon:"search"})])),_:1},8,["model-value","placeholder"]),A(M("div",{class:B(e.$style.carouselContainer)},[M("div",{class:B(e.$style.header)},[c(d(R),{bold:!0,size:"medium",color:"text-light"},{default:w((()=>[S(a(d(U).baseText("templates.collections"))+" ",1),h.value?o("",!0):(b(),n("span",{key:0,"data-test-id":"collection-count-label",textContent:a(`(${oe.value.length})`)},null,8,je))])),_:1})],2),c(Le,{collections:oe.value,loading:h.value,onOpenCollection:fe},null,8,["collections","loading"])],2),[[T,oe.value.length||h.value]]),c(le,{"infinite-scroll-enabled":!0,loading:p.value,workflows:ne.value,"total-count":ae.value,onLoadMore:xe,onOpenTemplate:ve},null,8,["loading","workflows","total-count"]),re.value?(b(),n("div",{key:0,class:B(e.$style.endText)},[c(d(O),{size:"medium",color:"text-base"},{default:w((()=>[A(M("span",null,null,512),[[l,re.value]])])),_:1})],2)):o("",!0)],2)],2)])),_:1})}}}),e("default",F(ze,[["__cssModules",{$style:{wrapper:"_wrapper_n14ka_125",contentWrapper:"_contentWrapper_n14ka_130",filters:"_filters_n14ka_140",search:"_search_n14ka_146",header:"_header_n14ka_158"}}]]))}}}));
//# sourceMappingURL=TemplatesSearchView-legacy-YcDe_Bm7.js.map