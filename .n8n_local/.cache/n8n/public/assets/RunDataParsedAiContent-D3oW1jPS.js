(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`d28334bd-4845-4151-8f99-dedfa29c5176`,e._sentryDebugIdIdentifier=`sentry-dbid-d28334bd-4845-4151-8f99-dedfa29c5176`)})()}catch{}import{C as e,D as t,E as n,Gt as r,M as i,P as a,T as o,_ as s,et as c,it as l,vn as u}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as d}from"./_MapCache-DjbOQyB7.js";import{Mi as f,ht as p}from"./src-CppJvwzX.js";import{t as m}from"./_plugin-vue_export-helper-B_J4Khre.js";import{yr as h}from"./users.store-pCkD7Zo0.js";import{t as g}from"./useClipboard-Duc7LjuO.js";import{t as _}from"./core-DLhNJSBD.js";import{t as v}from"./VueMarkdown-OrZqWAIM.js";import{n as y,t as b}from"./TextWithHighlights-FXXrxJMD.js";var x=p();function S(e){let t=[];function n(n,r){n&&Object.keys(n).map(i=>{t.push({data:n[i][0],inOut:r,type:i,source:e.source,metadata:{executionTime:e.executionTime,startTime:e.startTime,subExecution:e.metadata?.subExecution}})})}return n(e.inputOverride,`input`),n(e.data,`output`),t}function C(e,t){let n=(0,x.escapeHtml)(e);return t?y(n,t).map(e=>e.isMatched?`<mark>${e.content}</mark>`:e.content).join(``):n}function w(e){return t=>{t.renderer.rules.text=(t,n)=>C(t[n].content,e),t.renderer.rules.code_inline=(t,n,r,i,a)=>`<code${a.renderAttrs(t[n])}>${C(t[n].content,e)}</code>`,t.renderer.rules.code_block=(t,n,r,i,a)=>`<pre${a.renderAttrs(t[n])}><code>${C(t[n].content,e)}</code></pre>\n`,t.renderer.rules.fence=(n,r,i,a,o)=>{let s=n[r],c=s.info?t.utils.unescapeAll(s.info).trim():``,l=``,u=``;if(c){let e=c.split(/(\s+)/g);l=e[0],u=e.slice(2).join(``)}let d=i.highlight?.(s.content,l,u)??C(s.content,e);return d.indexOf(`<pre`)===0?d+`
`:`<pre><code${o.renderAttrs(s)}>${d}</code></pre>\n`}}}var T=[`data-content-type`],E=m(a({__name:`RunDataParsedAiContent`,props:{content:{},compact:{type:Boolean,default:!1},search:{},renderType:{}},setup(a){let p=d(),m=g(),{showMessage:y}=h(),x=e(()=>[w(a.search)]);function S(e){try{return JSON.parse(e),!0}catch{return!1}}let C={highlight(e,t){if(t&&_.getLanguage(t))try{return _.highlight(e,{language:t}).value}catch{}}};function E(e){return typeof e==`string`?[/^# .+/gm,/\*{1,2}.+\*{1,2}/g,/\[.+\]\(.+\)/g,/```[\s\S]+```/g].some(t=>t.test(e)):!1}function D(e){return"```json\n"+e+"\n```"}function O(e){return E(e)?e:Array.isArray(e)&&e.length&&typeof e[0]!=`number`?e.map(e=>O(e)).join(`

`).trim():typeof e==`string`?S(e)?D(e):e:D(JSON.stringify(e,null,2))}function k(e){try{m.copy(JSON.stringify(e,void 0,2)),y({title:p.baseText(`generic.copiedToClipboard`),type:`success`})}catch{}}return(e,d)=>(c(),t(`div`,{class:u([e.$style.component,a.compact?e.$style.compact:``])},[(c(!0),t(s,null,l(a.content,({parsedContent:l,raw:d},m)=>(c(),t(`div`,{key:m,class:u(e.$style.contentText),"data-content-type":l?.type},[l&&a.renderType===`rendered`?(c(),t(s,{key:0},[l.type===`json`?(c(),o(r(v),{key:0,source:O(l.data),class:u(e.$style.markdown),options:C,plugins:x.value},null,8,[`source`,`class`,`plugins`])):l.type===`markdown`?(c(),o(r(v),{key:1,source:l.data,class:u(e.$style.markdown),options:C,plugins:x.value},null,8,[`source`,`class`,`plugins`])):l.type===`text`?(c(),o(b,{key:2,class:u(e.$style.runText),content:String(l.data),search:a.search},null,8,[`class`,`content`,`search`])):n(``,!0)],64)):(c(),t(`div`,{key:1,class:u(e.$style.rawContent)},[i(r(f),{variant:`subtle`,size:`small`,class:u(e.$style.copyToClipboard),title:r(p).baseText(`nodeErrorView.copyToClipboard`),icon:`files`,onClick:e=>k(d)},null,8,[`class`,`title`,`onClick`]),i(r(v),{source:O(d),class:u(e.$style.markdown),plugins:x.value},null,8,[`source`,`class`,`plugins`])],2))],10,T))),128))],2))}}),[[`__cssModules`,{$style:{runText:`_runText_1f6ui_125`,markdown:`_markdown_1f6ui_130`,compact:`_compact_1f6ui_153`,copyToClipboard:`_copyToClipboard_1f6ui_161`,rawContent:`_rawContent_1f6ui_171`,contentText:`_contentText_1f6ui_175`}}]]);export{S as n,E as t};
//# sourceMappingURL=RunDataParsedAiContent-D3oW1jPS.js.map