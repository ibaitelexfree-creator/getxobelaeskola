!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./users.store-legacy-B-bVJKl3.js","./NodeIcon-legacy-DOI-M5xN.js","./nodeTransforms-legacy-Bt0tXwjd.js","./templateTransforms-legacy-Crg03c3X.js","./CredentialPicker-legacy-Cca8dwDU.js"],(function(e,t){var n,a,l,i,s,r,d,c,o,u,p,y,_,g,f,v,m,h,b,C,$,k,I,T,x,w,S,j,N,O,B,D,E,M,P,q,z,F,U,A;function K(e,t){return y(),i("i",U)}return{setters:[function(e){n=e.o},function(e){a=e.C,l=e.Cn,i=e.D,s=e.E,r=e.Gt,d=e.It,c=e.M,o=e.P,u=e.T,p=e.bt,y=e.et,_=e.j,g=e.st,f=e.vn,v=e.w,m=e.xt},function(e){h=e.bt,b=e.yt},function(e){C=e.U,$=e.zi},function(e){k=e.t},function(e){I=e.C,T=e.Lt,x=e.Pi,w=e.Z,S=e.rt},function(e){j=e.t},function(e){N=e.i},function(e){O=e.n,B=e.t},function(e){D=e.t}],execute:function(){(E=document.createElement("style")).textContent="._notice_e6am5_125{margin-top:0}i[data-v-563d175d]{color:var(--color--success)}._container_atvc6_125{list-style:none}._heading_atvc6_129{margin-bottom:var(--spacing--2xs);align-items:center;display:flex}._headingOrder_atvc6_135{font-weight:var(--font-weight--bold);margin-right:var(--spacing--xs)}._headingIcon_atvc6_140{margin-right:var(--spacing--2xs)}._description_atvc6_144{margin-bottom:var(--spacing--lg);font-size:var(--font-size--sm);color:var(--color--text)}._credentials_atvc6_150{align-items:center;max-width:400px;display:flex}._credentialPicker_atvc6_156{flex:1}._credentialOk_atvc6_160{margin-left:var(--spacing--2xs);font-size:24px}._invisible_atvc6_165{visibility:hidden}\n/*$vite$:1*/",document.head.appendChild(E);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(R=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[R]="ace036a1-023d-40bb-9788-7f3bf5229c64",t._sentryDebugIdIdentifier="sentry-dbid-ace036a1-023d-40bb-9788-7f3bf5229c64")}catch(t){}var t,R;M=n(w(),1),P=(e,t)=>t.map((t=>({node:t,requiredCredentials:N(e,t)}))).filter((({requiredCredentials:e})=>e.length>0)),q=e=>{const t=new Map;for(const{node:n,requiredCredentials:a}of e){const e=n.credentials?O(n.credentials):{};for(const l of a){const a=l.name,i=e[l.name]??"",s=B(a,i);let r=t.get(s);r||(r={key:s,nodeTypeName:n.type,credentialName:i,credentialType:a,usedBy:[]},t.set(s,r)),r.usedBy.push(n)}}return t},z=(e,t)=>{const n=new Map;for(const a of e){const e=a.nodeTypeName,l=t(e)??e,i=n.get(l);i?i.credentials.push(a):n.set(l,{appName:l,credentials:[a]})}return Array.from(n.values())},e("r",(e=>{const t=d({}),n=I(),l=S(),i=(e,t)=>{const a=n.getNodeType(e,t);return a?x(a.displayName):e},s=a((()=>(0,M.default)(e.value?P(n,e.value):[],(({node:e})=>e.position[0])))),r=a((()=>q(s.value))),c=a((()=>Array.from(r.value.values()))),o=a((()=>z(c.value,i))),u=a((()=>{const e={};for(const[n,a]of Object.entries(t.value)){const t=l.getCredentialById(a);t&&(e[n]={id:a,name:t.name})}return e})),p=a((()=>Object.keys(t.value).length));return{appCredentials:o,credentialOverrides:u,credentialUsages:c,credentialsByKey:r,nodesRequiringCredentialsSorted:s,numFilledCredentials:p,selectedCredentialIdByKey:t,setSelectedCredentialId:(e,n)=>{t.value[e]=n},unsetSelectedCredential:e=>{delete t.value[e]}}})),F=(e,t)=>{const{i18n:n,formatFn:a}=t;if(0===e.length)return"";if(1===e.length)return a(e[0]);const l=e.slice(0,-1),i=e[e.length-1];return`${l.map(a).join(", ")} ${n.baseText("generic.and")} ${a(i)}`},e("n",k(o({__name:"AppsRequiringCredsNotice",props:{appCredentials:{},source:{}},setup(e){const t=b(),n=e,l=a((()=>"builder"===n.source?"templateSetup.instructions.builder":"templateSetup.instructions")),i=e=>`<b>${e.credentials.length}x ${e.appName}</b>`,s=a((()=>F(n.appCredentials,{formatFn:i,i18n:t})));return(e,t)=>{const n=g("n8n-html");return y(),u(r(C),{class:f(e.$style.notice),theme:"info"},{default:p((()=>[c(r(h),{tag:"span",keypath:l.value,scope:"global"},{default:p((()=>[m(v("span",null,null,512),[[n,s.value]])])),_:1},8,["keypath"])])),_:1},8,["class"])}}}),[["__cssModules",{$style:{notice:"_notice_e6am5_125"}}]])),U={class:"el-icon-success"},A=k({},[["render",K],["__scopeId","data-v-563d175d"]]),e("t",k(o({__name:"SetupTemplateFormStep",props:{order:{},credentials:{},selectedCredentialId:{default:null},source:{}},emits:["credentialSelected","credentialDeselected"],setup(e,{emit:t}){const n=e,d=t,o=I(),u=b(),C=T(),k=a((()=>n.credentials.usedBy[0])),w=a((()=>o.getNodeType(k.value.type,k.value.typeVersion))),S=a((()=>w.value?x(w.value.displayName):k.value.type)),N=a((()=>F(n.credentials.usedBy,{formatFn:e=>`<b>${e.name}</b>`,i18n:u}))),O=a((()=>"builder"===n.source?"templateSetup.credential.description.builder":"templateSetup.credential.description")),B=()=>{C.track("User opened Credential modal",{source:"cred_setup",credentialType:n.credentials.credentialType,new_credential:!n.selectedCredentialId})};return(t,a)=>{const o=g("n8n-html");return y(),i("li",{class:f(t.$style.container),"data-test-id":"setup-credentials-form-step"},[c(r($),{tag:"h2",size:"large"},{default:p((()=>[w.value?(y(),i("div",{key:0,class:f(t.$style.heading),"data-test-id":"credential-step-heading"},[v("span",{class:f(t.$style.headingOrder)},l(e.order)+".",3),v("span",{class:f(t.$style.headingIcon)},[c(j,{"node-type":w.value},null,8,["node-type"])],2),_(" "+l(S.value),1)],2)):s("",!0)])),_:1}),v("p",{class:f(t.$style.description),"data-test-id":"credential-step-description"},[c(r(h),{tag:"span",keypath:O.value,plural:e.credentials.usedBy.length,scope:"global"},{default:p((()=>[m(v("span",null,null,512),[[o,N.value]])])),_:1},8,["keypath","plural"])],2),v("div",{class:f(t.$style.credentials)},[c(D,{class:f(t.$style.credentialPicker),"app-name":S.value,"personal-only":"","credential-type":n.credentials.credentialType,"selected-credential-id":e.selectedCredentialId,onCredentialSelected:a[0]||(a[0]=e=>d("credentialSelected",{credentialUsageKey:t.$props.credentials.key,credentialId:e})),onCredentialDeselected:a[1]||(a[1]=e=>d("credentialDeselected",{credentialUsageKey:t.$props.credentials.key})),onCredentialModalOpened:B},null,8,["class","app-name","credential-type","selected-credential-id"]),c(A,{class:f({[t.$style.credentialOk]:!0,[t.$style.invisible]:!e.selectedCredentialId})},null,8,["class"])],2)],2)}}}),[["__cssModules",{$style:{container:"_container_atvc6_125",heading:"_heading_atvc6_129",headingOrder:"_headingOrder_atvc6_135",headingIcon:"_headingIcon_atvc6_140",description:"_description_atvc6_144",credentials:"_credentials_atvc6_150",credentialPicker:"_credentialPicker_atvc6_156",credentialOk:"_credentialOk_atvc6_160",invisible:"_invisible_atvc6_165"}}]]))}}}));
//# sourceMappingURL=SetupTemplateFormStep-legacy-Dg_SDFk3.js.map