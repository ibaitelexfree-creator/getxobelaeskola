!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./CalendarDate-legacy-B1XKCqOd.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./dialog-legacy-fV5dITAe.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./ProjectIcon-legacy-j5-RLKs-.js","./orderBy-legacy-BePN9Mxt.js","./ProjectSharing-legacy-BSYOg5eC.js","./insights.store-legacy-BeV4G8Lk.js","./insights.constants-legacy-CSuwNipZ.js","./insights.utils-legacy-BZFivQZh.js","./InsightsSummary-legacy-MuDFw8Uk.js"],(function(e,t){var a,n,s,i,l,o,r,d,u,c,g,p,m,_,y,h,v,f,b,x,V,j,w,z,k,T,I,C,L,D,E,P,S,B,R,$,A,M,W,U,O,Z,H,F,G,J,N,q,K,Y,Q,X,ee,te,ae,ne;return{setters:[function(e){e.o},function(e){a=e.C,n=e.Cn,s=e.D,i=e.E,l=e.Gt,o=e.It,r=e.M,d=e.N,u=e.P,c=e.T,g=e.Z,p=e._,m=e._t,_=e.bt,y=e.ct,h=e.et,v=e.ft,f=e.it,b=e.j,x=e.q,V=e.vn,j=e.w,w=e.zt},function(e){z=e.yt},function(e){k=e.Ci,T=e.F,I=e.Hi,C=e.Ki,L=e.Ui,D=e.Vi,E=e.l,P=e.zi},function(e){S=e.t},function(e){B=e.h,R=e.l,$=e.m},function(e){},function(e){A=e.Gt,M=e.Lt,W=e.fn},function(e){U=e.t},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){O=e.t},function(e){},function(e){},function(e){Z=e.t},function(e){H=e.t},function(e){F=e.s},function(e){G=e.a,J=e.i,N=e.n,q=e.t},function(e){K=e.t}],execute:function(){(Y=document.createElement("style")).textContent='.perks-list[data-v-fdfc14aa]{gap:var(--spacing--sm);flex-direction:column;margin:0;padding:0;list-style:none;display:flex}.perks-list>li[data-v-fdfc14aa]{align-items:center;gap:var(--spacing--2xs);display:flex}.insight-modal-button-container[data-v-fdfc14aa]{justify-content:flex-end;gap:var(--spacing--2xs);display:flex}._PresetButton_1waws_2{--button--border-color:transparent;text-align:left;display:flex}._LockIcon_1waws_7{margin-left:auto}._insightsView_1mozi_125{flex-direction:column;flex:1;gap:30px;display:flex;overflow:auto}._insightsContainer_1mozi_133{width:100%;max-width:var(--content-container--width);padding:var(--spacing--lg)var(--spacing--2xl);margin:0 auto}._insightsBanner_1mozi_140{margin-bottom:0}._insightsBanner_1mozi_140 ul{border-bottom-right-radius:0;border-bottom-left-radius:0}._insightsContent_1mozi_148{padding:var(--spacing--lg)0;border:var(--border-width)var(--border-style)var(--color--foreground);background:var(--color--background--light-3);border-top:0;border-bottom-right-radius:6px;border-bottom-left-radius:6px}._insightsContentWrapper_1mozi_157{position:relative;overflow-x:hidden}._insightsChartWrapper_1mozi_162{height:292px;padding:0 var(--spacing--lg);z-index:1;position:relative}._insightsTableWrapper_1mozi_169{padding:var(--spacing--lg)var(--spacing--lg)0;z-index:1;position:relative}._dataLoader_1mozi_175{z-index:2;flex-direction:column;justify-content:center;align-items:center;gap:9px;width:100%;height:100%;display:flex;position:absolute;top:0;left:-100%}._dataLoader_1mozi_175._isDataLoading_1mozi_188{transition:left 0s linear .5s;left:0}._dataLoader_1mozi_175>span{z-index:2;position:relative}._dataLoader_1mozi_175:before{content:"";background-color:var(--color--background--light-3);opacity:.75;z-index:1;width:100%;height:100%;display:block;position:absolute;top:0;left:0}._projectSelect_1mozi_210{min-width:200px}._projectSelect_1mozi_210 .el-input--suffix .el-input__inner{padding-right:26px}._PresetButton_1mozi_217{text-align:left;cursor:pointer;color:var(--color--text);background-color:transparent;border:none;border-radius:.375rem;padding:.5rem .75rem;font-size:13px;font-weight:400;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}._PresetButton_1mozi_217:hover{background-color:var(--color--foreground--tint-1)}\n/*$vite$:1*/',document.head.appendChild(Y);try{se="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(ie=(new se.Error).stack)&&(se._sentryDebugIds=se._sentryDebugIds||{},se._sentryDebugIds[ie]="187f2bcf-02a5-4cd6-899c-4d016eedfe0f",se._sentryDebugIdIdentifier="sentry-dbid-187f2bcf-02a5-4cd6-899c-4d016eedfe0f")}catch(se){}var se,ie;Q={class:"perks-list"},X={class:"insight-modal-button-container"},ee=u({__name:"InsightsUpgradeModal",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=v(e,"modelValue"),i=z();function o(){t.value=!1,O().goToUpgrade("insights","upgrade-insights")}const d=a((()=>[...Array(3).keys()].map((e=>i.baseText(`insights.upgradeModal.perks.${e}`)))));return(e,a)=>(h(),c(l(U),{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value=e),title:l(i).baseText("insights.upgradeModal.title"),width:"500"},{footer:_((()=>[j("div",X,[r(l(I),{variant:"subtle",onClick:a[0]||(a[0]=e=>t.value=!1)},{default:_((()=>[b(n(l(i).baseText("insights.upgradeModal.button.dismiss")),1)])),_:1}),r(l(I),{variant:"solid",onClick:o},{default:_((()=>[b(n(l(i).baseText("generic.upgrade")),1)])),_:1})])])),default:_((()=>[j("div",null,[r(l(D),{tag:"p",class:"mb-s"},{default:_((()=>[b(n(l(i).baseText("insights.upgradeModal.content")),1)])),_:1}),j("ul",Q,[(h(!0),s(p,null,f(d.value,(e=>(h(),c(l(D),{key:e,color:"text-dark",tag:"li"},{default:_((()=>[a[2]||(a[2]=j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16px",height:"16px"},[j("path",{d:"M 16 8 C 16 12.418 12.418 16 8 16 C 3.582 16 0 12.418 0 8 C 0 3.582 3.582 0 8 0 C 12.418 0 16 3.582 16 8 Z M 3.97 9.03 L 5.97 11.03 L 6.5 11.561 L 7.03 11.03 L 12.53 5.53 L 11.47 4.47 L 6.5 9.439 L 5.03 7.97 L 3.97 9.03 Z",fill:"currentColor"})],-1)),b(" "+n(e),1)])),_:2},1024)))),128))])])])),_:1},8,["modelValue","title"]))}}),te=S(ee,[["__scopeId","data-v-fdfc14aa"]]),ae=S(u({__name:"InsightsDataRangePicker",props:{maxValue:{},minValue:{},modelValue:{},presets:{}},emits:["update:modelValue","update:placeholder","update:startValue","update:open"],setup(e,{emit:t}){const d=e,u=t,g=M(),y=o(!1),v=o("custom");function x({start:e,end:t}){return e&&t?t.compare(e):0}function j(e,t){return!(!e||!t)&&0===e.compare(t)}const z=w({start:d.modelValue.start?.copy(),end:d.modelValue.end?.copy()});function k(){j(z.value?.start,d.modelValue.start)&&j(z.value?.end,d.modelValue.end)||(z.value={start:d.modelValue.start?.copy(),end:d.modelValue.end?.copy()})}let T=null;function C(e){if(e)return void k();const t={start:z.value?.start?.copy(),end:z.value?.end?.copy()??z.value?.start?.copy()};if(!function({start:e,end:t}){return!!e&&!!t&&(a=t,n=d.maxValue,a.compare(n)<=0&&function(e,t){return e.compare(t)>=0}(e,d.minValue));var a,n}(t))return console.error("Invalid date range selected",t),void k();if(T&&j(t.start,T.start)&&j(t.end,T.end))return;if(j(t.start,d.modelValue.start)&&j(t.end,d.modelValue.end))return;T=t,u("update:modelValue",t);const{startDate:a,endDate:n}=N(t),s={start_date:a.toISOString(),end_date:n.toISOString(),range_length_days:x(t),type:v.value};g.track("User updated insights time range",s)}const D=o(!1);m(D,(e=>{e&&(v.value="custom"),C(e)}));const P=a((()=>{const{start:e,end:t}=d.modelValue;return e?q({start:e,end:t}):"Select range"}));return(t,a)=>(h(),s(p,null,[r(l(E),{modelValue:z.value,"onUpdate:modelValue":a[0]||(a[0]=e=>z.value=e),open:D.value,"onUpdate:open":a[1]||(a[1]=e=>D.value=e),"max-value":e.maxValue,"min-value":e.minValue},{trigger:_((()=>[r(l(I),{variant:"subtle",icon:"calendar"},{default:_((()=>[b(n(P.value),1)])),_:1})])),presets:_((()=>[(h(!0),s(p,null,f(e.presets,(e=>{return h(),c(l(I),{key:e.value,class:V(t.$style.PresetButton),variant:(a=e.value,R(d.modelValue.end,$())&&d.modelValue.end.compare(d.modelValue.start)===a?"solid":"outline"),size:"small",onClick:t=>{return e.disabled?void(y.value=!0):(a=e.value,z.value={start:d.maxValue.copy().subtract({days:a}),end:d.maxValue.copy()},v.value="preset",void(D.value=!1));var a}},{default:_((()=>[b(n(e.label)+" ",1),e.disabled?(h(),c(l(L),{key:0,icon:"lock",class:V(t.$style.LockIcon)},null,8,["class"])):i("",!0)])),_:2},1032,["class","variant","onClick"]);var a})),128))])),_:1},8,["modelValue","open","max-value","min-value"]),r(te,{modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=e=>y.value=e)},null,8,["modelValue"])],64))}}),[["__cssModules",{$style:{PresetButton:"_PresetButton_1waws_2",LockIcon:"_LockIcon_1waws_7"}}]]),ne={class:"mt-s",style:{display:"flex",gap:"12px","align-items":"center"}},e("default",S(u({__name:"InsightsDashboard",props:{insightType:{}},setup(e){const u=d((async()=>await C((()=>t.import("./InsightsPaywall-legacy-Cc1eXqJW.js")),void 0))),p=d((async()=>await C((()=>t.import("./InsightsChartTotal-legacy-Dh4qcgAN.js")),void 0))),v=d((async()=>await C((()=>t.import("./InsightsChartFailed-legacy-C97onrQI.js")),void 0))),f=d((async()=>await C((()=>t.import("./InsightsChartFailureRate-legacy-Ixl2GApF.js")),void 0))),I=d((async()=>await C((()=>t.import("./InsightsChartTimeSaved-legacy-T61JJiGf.js")),void 0))),L=d((async()=>await C((()=>t.import("./InsightsChartAverageRuntime-legacy-DjhJBRbL.js")),void 0))),D=d((async()=>await C((()=>t.import("./InsightsTableWorkflows-legacy-DnJjSTrC.js")),void 0))),E=e,S=k(),R=z(),M=H(),U=A(),O=a((()=>S.params.insightType===F.TIME_SAVED)),q=a((()=>({total:p,failed:v,failureRate:f,timeSaved:I,averageRunTime:L}))),Y=o([{id:E.insightType,desc:!0}]),Q=a((()=>{const{start:e,end:t}=re.value;if(!e||!t)return"day";const a=t.compare(e);return a<=0?"hour":a<=30?"day":"week"})),X=o(null),ee=B($()),te=M.dateRanges.toReversed().find((e=>e.licensed))?.key??"week",se=J(),ie=a((()=>M.dateRanges.map((e=>({value:G[e.key],label:se[e.key],disabled:!e.licensed}))))),le=w(ee.copy()),oe=w(ee.copy().subtract({days:G[te]})),re=w({start:ee.copy().subtract({days:7}),end:ee.copy()}),de=()=>N(re.value),ue=({page:e=0,itemsPerPage:t=25,sortBy:a,projectId:n=X.value?.id})=>{const s=e*t,i=t,l=a.length?(({id:e,desc:t})=>`${e}:${t?"desc":"asc"}`)(a[0]):void 0,{startDate:o,endDate:r}=de();M.table.execute(0,{skip:s,take:i,sortBy:l,startDate:o,endDate:r,projectId:n})};m((()=>[E.insightType,X.value,re.value]),(()=>{Y.value=[{id:E.insightType,desc:!0}];const{startDate:e,endDate:t}=de();M.isSummaryEnabled&&M.summary.execute(0,{startDate:e,endDate:t,projectId:X.value?.id}),M.charts.execute(0,{startDate:e,endDate:t,projectId:X.value?.id}),M.isDashboardEnabled&&ue({sortBy:Y.value,projectId:X.value?.id})}),{immediate:!0}),g((()=>{W().set(R.baseText("insights.heading"))})),x((async()=>{await U.getAvailableProjects()}));const ce=/^<([A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,})>$/,ge=a((()=>U.availableProjects.filter((e=>e.name&&!ce.test(e.name.trim())))));return(e,t)=>(h(),s("div",{class:V(e.$style.insightsView)},[j("div",{class:V(e.$style.insightsContainer)},[r(l(P),{bold:"",tag:"h2",size:"xlarge"},{default:_((()=>[b(n(l(R).baseText("insights.dashboard.title")),1)])),_:1}),j("div",ne,[r(Z,{modelValue:X.value,"onUpdate:modelValue":t[0]||(t[0]=e=>X.value=e),projects:ge.value,placeholder:l(R).baseText("insights.dashboard.search.placeholder"),"empty-options-text":l(R).baseText("projects.sharing.noMatchingProjects"),size:"mini",class:V(e.$style.projectSelect),clearable:"",onClear:t[1]||(t[1]=e=>X.value=null)},null,8,["modelValue","projects","placeholder","empty-options-text","class"]),r(ae,{modelValue:re.value,"onUpdate:modelValue":t[2]||(t[2]=e=>re.value=e),"max-value":le.value,"min-value":oe.value,presets:ie.value},null,8,["modelValue","max-value","min-value","presets"])]),l(M).isSummaryEnabled?(h(),c(K,{key:0,summary:l(M).summary.state,loading:l(M).summary.isLoading,"start-date":re.value.start,"end-date":re.value.end,class:V(e.$style.insightsBanner)},null,8,["summary","loading","start-date","end-date","class"])):i("",!0),j("div",{class:V(e.$style.insightsContent)},[l(M).isDashboardEnabled||O.value?(h(),s("div",{key:0,class:V(e.$style.insightsContentWrapper)},[j("div",{class:V([e.$style.dataLoader,{[e.$style.isDataLoading]:l(M).charts.isLoading||l(M).table.isLoading}])},[r(l(T)),j("span",null,n(l(R).baseText("insights.chart.loading")),1)],2),j("div",{class:V(e.$style.insightsChartWrapper)},[b(n(Q.value)+" ",1),(h(),c(y(q.value[E.insightType]),{type:E.insightType,data:l(M).charts.state,granularity:Q.value,"start-date":re.value.start.toString(),"end-date":re.value.end.toString()},null,8,["type","data","granularity","start-date","end-date"]))],2),j("div",{class:V(e.$style.insightsTableWrapper)},[r(l(D),{"sort-by":Y.value,"onUpdate:sortBy":t[3]||(t[3]=e=>Y.value=e),data:l(M).table.state,loading:l(M).table.isLoading,"is-dashboard-enabled":l(M).isDashboardEnabled,"onUpdate:options":ue},null,8,["sort-by","data","loading","is-dashboard-enabled"])],2)],2)):(h(),c(l(u),{key:1}))],2)],2)],2))}}),[["__cssModules",{$style:{insightsView:"_insightsView_1mozi_125",insightsContainer:"_insightsContainer_1mozi_133",insightsBanner:"_insightsBanner_1mozi_140",insightsContent:"_insightsContent_1mozi_148",insightsContentWrapper:"_insightsContentWrapper_1mozi_157",insightsChartWrapper:"_insightsChartWrapper_1mozi_162",insightsTableWrapper:"_insightsTableWrapper_1mozi_169",dataLoader:"_dataLoader_1mozi_175",isDataLoading:"_isDataLoading_1mozi_188",projectSelect:"_projectSelect_1mozi_210",PresetButton:"_PresetButton_1mozi_217"}}]]))}}}));
//# sourceMappingURL=InsightsDashboard-legacy-DqMJKz_v.js.map