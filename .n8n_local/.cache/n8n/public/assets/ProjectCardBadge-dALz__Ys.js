(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`bb82b261-f79f-4464-a47d-93033833d1ce`,e._sentryDebugIdIdentifier=`sentry-dbid-bb82b261-f79f-4464-a47d-93033833d1ce`)})()}catch{}import{C as e,Cn as t,D as n,E as r,Gt as i,M as a,P as o,T as s,W as c,at as l,bt as u,et as d,j as f,ot as p,st as m,vn as h,w as g,xt as _}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as v}from"./_MapCache-DjbOQyB7.js";import{At as y,Oi as b}from"./src-CppJvwzX.js";import{t as x}from"./_plugin-vue_export-helper-B_J4Khre.js";import{Di as S,Kt as C,Ti as w}from"./users.store-pCkD7Zo0.js";import{rs as T}from"./constants-D1jZwsUK.js";import{n as E,t as D}from"./ProjectIcon-D-HRIqn6.js";var O=function(e){return e.SharedPersonal=`shared-personal`,e.SharedOwned=`shared-owned`,e.Owned=`owned`,e.Personal=`personal`,e.Team=`team`,e.SharedTeam=`shared-team`,e.Unknown=`unknown`,e}(O||{}),k=x(o({__name:`ProjectCardBadge`,props:{resource:{},resourceType:{},resourceTypeLabel:{},personalProject:{},showBadgeBorder:{type:Boolean,default:!0},global:{type:Boolean}},setup(o){let x=o,k=v(),A=e(()=>`sharedWithProjects`in x.resource&&x.resource.sharedWithProjects?.length),j=e(()=>x.resource.homeProject&&x.personalProject&&x.resource.homeProject.id===x.personalProject.id||!x.resource.homeProject?A.value?O.SharedOwned:O.Owned:x.resource.homeProject?.type===C.Team?x.resource.homeProject?.type===C.Team?A.value?O.SharedTeam:O.Team:O.Unknown:A.value?O.SharedPersonal:O.Personal),M=e(()=>`sharedWithProjects`in x.resource?x.resource.sharedWithProjects?.length??0:0),N=e(()=>{if(j.value===O.Owned||j.value===O.SharedOwned)return k.baseText(`projects.menu.personal`);{let{name:e,email:t}=S(x.resource.homeProject?.name??``);return e??t??``}}),P=e(()=>{switch(j.value){case O.Owned:case O.SharedOwned:case O.Personal:case O.SharedPersonal:return{type:`icon`,value:`user`};case O.Team:case O.SharedTeam:return E(x.resource.homeProject?.icon)?x.resource.homeProject?.icon:{type:`icon`,value:`layers`};default:return{type:`icon`,value:`layers`}}}),F=e(()=>{switch(j.value){case O.SharedOwned:return k.baseText(`projects.badge.tooltip.sharedOwned`,{interpolate:{resourceTypeLabel:x.resourceTypeLabel,count:M.value}});case O.SharedPersonal:return k.baseText(`projects.badge.tooltip.sharedPersonal`,{interpolate:{resourceTypeLabel:x.resourceTypeLabel,name:N.value,count:M.value}});case O.Personal:return k.baseText(`projects.badge.tooltip.personal`,{interpolate:{resourceTypeLabel:x.resourceTypeLabel,name:N.value}});case O.Team:return k.baseText(`projects.badge.tooltip.team`,{interpolate:{resourceTypeLabel:x.resourceTypeLabel,name:N.value}});case O.SharedTeam:return k.baseText(`projects.badge.tooltip.sharedTeam`,{interpolate:{resourceTypeLabel:x.resourceTypeLabel,name:N.value,count:M.value}});default:return``}}),I=e(()=>j.value!==O.Personal&&j.value!==O.SharedPersonal&&x.resource.homeProject?.id&&x.resourceType===w.Workflow?{name:T.PROJECTS_WORKFLOWS,params:{projectId:x.resource.homeProject.id}}:null);return(e,v)=>{let S=p(`RouterLink`),C=m(`n8n-truncate`);return d(),n(`div`,c({class:{[e.$style.wrapper]:!0,[e.$style[`no-border`]]:o.showBadgeBorder}},e.$attrs),[N.value?(d(),s(i(b),{key:0,disabled:!F.value||M.value!==0,placement:`top`},{content:u(()=>[f(t(F.value),1)]),default:u(()=>[a(i(y),{class:h([e.$style.badge,e.$style.projectBadge]),theme:`tertiary`,"data-test-id":`card-badge`,"show-border":o.showBadgeBorder},{default:u(()=>[a(D,{icon:P.value,"border-less":!0,size:`mini`},null,8,[`icon`]),I.value?(d(),s(S,{key:0,to:I.value},{default:u(()=>[_(g(`span`,{class:h(e.$style.nowrap)},null,2),[[C,N.value,`20`]])]),_:1},8,[`to`])):_((d(),n(`span`,{key:1,class:h(e.$style.nowrap)},null,2)),[[C,N.value,`20`]])]),_:1},8,[`class`,`show-border`])]),_:1},8,[`disabled`])):r(``,!0),l(e.$slots,`default`),o.global?(d(),s(i(b),{key:1,placement:`top`},{content:u(()=>[f(t(i(k).baseText(`projects.badge.tooltip.global`,{interpolate:{resourceTypeLabel:x.resourceTypeLabel}})),1)]),default:u(()=>[g(`div`,{class:h(e.$style[`global-badge`]),"data-test-id":`credential-global-badge`,theme:`tertiary`,bold:``},[a(D,{icon:{type:`icon`,value:`globe`},"border-less":!0,size:`mini`}),f(` `+t(i(k).baseText(`projects.badge.global`)),1)],2)]),_:1})):r(``,!0),M.value?(d(),s(i(b),{key:2,disabled:!F.value||M.value===0,placement:`top`},{content:u(()=>[f(t(F.value),1)]),default:u(()=>[g(`div`,{class:h(e.$style[`count-badge`]),theme:`tertiary`,bold:``},` +`+t(M.value),3)]),_:1},8,[`disabled`])):r(``,!0)],16)}}}),[[`__cssModules`,{$style:{wrapper:`_wrapper_efmuy_125`,"no-border":`_no-border_efmuy_131`,badge:`_badge_efmuy_135`,projectBadge:`_projectBadge_efmuy_148`,"count-badge":`_count-badge_efmuy_153`,"global-badge":`_global-badge_efmuy_161 _count-badge_efmuy_153`,nowrap:`_nowrap_efmuy_168`}}]]);export{k as t};
//# sourceMappingURL=ProjectCardBadge-dALz__Ys.js.map