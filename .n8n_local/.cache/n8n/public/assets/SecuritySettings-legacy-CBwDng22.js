!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./EnterpriseEdition.ee-legacy-a_97PcVf.js"],(function(e,s){var t,a,n,i,l,o,r,c,u,d,g,p,f,b,y,m,v,h,_,x,S,C,T,w,k,P,j,z,E,A,I,M,R,V,U,W,D;return{setters:[function(e){e.o},function(e){t=e.C,a=e.Cn,n=e.D,i=e.E,l=e.Gt,o=e.It,r=e.M,c=e.P,u=e.T,d=e.bt,g=e.c,p=e.et,f=e.j,b=e.vn,y=e.w},function(e){m=e.bt,v=e.x,h=e.yt},function(e){_=e.At,x=e.Oi,S=e.Vi,C=e.jt,T=e.s,w=e.zi},function(e){k=e.t},function(e){},function(e){P=e.Us,j=e.Ws,z=e.t,E=e.ws,A=e.yr},function(e){I=e.Yc},function(e){},function(e){M=e.r},function(e){},function(e){},function(e){},function(e){R=e.t},function(e){V=e.t}],execute:function(){(U=document.createElement("style")).textContent="._headerTitle_meo7b_2{gap:var(--spacing--2xs);flex-direction:column;display:flex}._settingsSection_meo7b_8{border-radius:var(--radius);border:var(--border-width)var(--border-style)var(--color--foreground);margin-bottom:var(--spacing--lg)}._settingsContainer_meo7b_14{padding-left:var(--spacing--sm);flex-shrink:0;justify-content:space-between;align-items:center;display:flex}._settingsContainerInfo_meo7b_22{padding:var(--spacing--2xs)0;justify-content:center;align-items:flex-start;gap:var(--spacing--5xs);flex-direction:column;flex:1;min-width:0;display:flex}._settingsContainerAction_meo7b_33{padding:var(--spacing--md)var(--spacing--sm);flex-shrink:0;justify-content:flex-end;align-items:center;display:flex}._settingsCountRow_meo7b_41{padding:var(--spacing--xs)var(--spacing--sm);border-top:var(--border-width)var(--border-style)var(--color--foreground);justify-content:space-between;align-items:center;display:flex}\n/*$vite$:1*/",document.head.appendChild(U);try{s="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(F=(new s.Error).stack)&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[F]="e058ed20-16cd-4403-9ed7-e43703997a6f",s._sentryDebugIdIdentifier="sentry-dbid-e058ed20-16cd-4403-9ed7-e43703997a6f")}catch(s){}var s,F;W={class:"pb-3xl"},D="settings.security.personalSpace.unlicensed_tooltip",e("default",k(c({__name:"SecuritySettings",setup(e){const s=g(),c=M(),k=E(),U=z(),F=h(),{showToast:$,showError:L}=A(),B=R(),H=o(!1),O=o(!1),Y=t((()=>k.isEnterpriseFeatureEnabled[I.EnforceMFA])),G=t((()=>k.isEnterpriseFeatureEnabled[I.PersonalSpacePolicy]));async function J(e){const s="boolean"==typeof e?e:Boolean(e);try{await U.updateEnforceMfa(s),$({type:"success",title:s?F.baseText("settings.personal.mfa.enforce.enabled.title"):F.baseText("settings.personal.mfa.enforce.disabled.title"),message:s?F.baseText("settings.personal.mfa.enforce.enabled.message"):F.baseText("settings.personal.mfa.enforce.disabled.message")})}catch(t){L(t,F.baseText("settings.personal.mfa.enforce.error"))}}function N(){B.goToUpgrade("settings-users","upgrade-users")}const{state:q,isLoading:K}=v((async()=>{const e=await P(c.restApiContext);return{personalSpacePublishing:e.personalSpacePublishing,personalSpaceSharing:e.personalSpaceSharing,publishedPersonalWorkflowsCount:e.publishedPersonalWorkflowsCount,sharedPersonalWorkflowsCount:e.sharedPersonalWorkflowsCount,sharedPersonalCredentialsCount:e.sharedPersonalCredentialsCount}}),void 0);async function Q(e,s,t){try{await j(c.restApiContext,{[e]:s}),$({type:"success",title:s?F.baseText(`settings.security.personalSpace.${t}.success.enabled`):F.baseText(`settings.security.personalSpace.${t}.success.disabled`),message:""})}catch(a){q.value&&(q.value={...q.value,[e]:!s}),L(a,F.baseText(`settings.security.personalSpace.${t}.error`))}}const X=t({get:()=>q.value?.personalSpacePublishing??!1,set:e=>{e?(q.value&&(q.value={...q.value,personalSpacePublishing:e}),Q("personalSpacePublishing",e,"publishing")):H.value=!0}});function Z(){H.value=!1,q.value&&(q.value={...q.value,personalSpacePublishing:!1}),Q("personalSpacePublishing",!1,"publishing")}const ee=t({get:()=>q.value?.personalSpaceSharing??!1,set:e=>{e?(q.value&&(q.value={...q.value,personalSpaceSharing:e}),Q("personalSpaceSharing",e,"sharing")):O.value=!0}});function se(){O.value=!1,q.value&&(q.value={...q.value,personalSpaceSharing:!1}),Q("personalSpaceSharing",!1,"sharing")}const te=t((()=>{const e=q.value?.sharedPersonalWorkflowsCount??0,s=q.value?.sharedPersonalCredentialsCount??0;return F.baseText("settings.security.personalSpace.sharing.existingCount.value",{interpolate:{workflowCount:String(e),credentialCount:String(s)}})}));return(e,t)=>(p(),n("div",W,[y("div",{class:b(["mb-xl",l(s).headerTitle])},[r(l(w),{tag:"h1",size:"2xlarge"},{default:d((()=>[f(a(l(F).baseText("settings.security")),1)])),_:1}),r(l(S),{color:"text-base",size:"medium"},{default:d((()=>[f(a(l(F).baseText("settings.security.description")),1)])),_:1})],2),r(l(w),{tag:"h2",size:"large",class:"mb-l"},{default:d((()=>[f(a(l(F).baseText("settings.personal.mfa.enforce.title")),1)])),_:1}),y("div",{class:b(l(s).settingsSection)},[y("div",{class:b(l(s).settingsContainer)},[y("div",{class:b(l(s).settingsContainerInfo)},[r(l(S),{bold:!0},{default:d((()=>[f(a(l(F).baseText("settings.personal.mfa.enforce.title"))+" ",1),Y.value?i("",!0):(p(),u(l(_),{key:0,class:"ml-4xs"},{default:d((()=>[f(a(l(F).baseText("generic.upgrade")),1)])),_:1}))])),_:1}),r(l(S),{size:"small",color:"text-light"},{default:d((()=>[f(a(l(F).baseText("settings.personal.mfa.enforce.message")),1)])),_:1})],2),y("div",{class:b(l(s).settingsContainerAction)},[r(V,{features:[l(I).EnforceMFA]},{fallback:d((()=>[r(l(x),null,{content:d((()=>[r(l(m),{keypath:"settings.personal.mfa.enforce.unlicensed_tooltip",tag:"span",scope:"global"},{action:d((()=>[y("a",{onClick:N},a(l(F).baseText("settings.personal.mfa.enforce.unlicensed_tooltip.link")),1)])),_:1})])),default:d((()=>[r(l(C),{"model-value":l(k).isMFAEnforced,size:"large",disabled:!0},null,8,["model-value"])])),_:1})])),default:d((()=>[r(l(C),{"model-value":l(k).isMFAEnforced,size:"large","data-test-id":"enable-force-mfa","onUpdate:modelValue":J},null,8,["model-value"])])),_:1},8,["features"])],2)],2)],2),r(l(w),{tag:"h2",size:"large",class:"mb-l"},{default:d((()=>[f(a(l(F).baseText("settings.security.personalSpace.title")),1)])),_:1}),y("div",{class:b(l(s).settingsSection)},[y("div",{class:b(l(s).settingsContainer)},[y("div",{class:b(l(s).settingsContainerInfo)},[r(l(S),{bold:!0},{default:d((()=>[f(a(l(F).baseText("settings.security.personalSpace.sharing.title"))+" ",1),G.value?i("",!0):(p(),u(l(_),{key:0,class:"ml-4xs"},{default:d((()=>[f(a(l(F).baseText("generic.upgrade")),1)])),_:1}))])),_:1}),r(l(S),{size:"small",color:"text-light"},{default:d((()=>[f(a(l(F).baseText("settings.security.personalSpace.sharing.description")),1)])),_:1})],2),y("div",{class:b(l(s).settingsContainerAction)},[r(V,{features:[l(I).PersonalSpacePolicy]},{fallback:d((()=>[r(l(x),null,{content:d((()=>[r(l(m),{keypath:D,tag:"span",scope:"global"},{action:d((()=>[y("a",{onClick:N},a(l(F).baseText("settings.security.personalSpace.unlicensed_tooltip.link")),1)])),_:1})])),default:d((()=>[r(l(C),{"model-value":!1,size:"large",disabled:!0,"data-test-id":"security-personal-space-sharing-toggle"})])),_:1})])),default:d((()=>[r(l(C),{modelValue:ee.value,"onUpdate:modelValue":t[0]||(t[0]=e=>ee.value=e),loading:l(K),size:"large","data-test-id":"security-personal-space-sharing-toggle"},null,8,["modelValue","loading"])])),_:1},8,["features"])],2)],2),y("div",{class:b(l(s).settingsCountRow),"data-test-id":"security-sharing-count"},[r(l(S),{size:"small"},{default:d((()=>[f(a(l(F).baseText("settings.security.personalSpace.sharing.existingCount.label")),1)])),_:1}),r(l(S),{size:"small",color:"text-light"},{default:d((()=>[f(a(te.value),1)])),_:1})],2)],2),y("div",{class:b(l(s).settingsSection)},[y("div",{class:b(l(s).settingsContainer)},[y("div",{class:b(l(s).settingsContainerInfo)},[r(l(S),{bold:!0},{default:d((()=>[f(a(l(F).baseText("settings.security.personalSpace.publishing.title"))+" ",1),G.value?i("",!0):(p(),u(l(_),{key:0,class:"ml-4xs"},{default:d((()=>[f(a(l(F).baseText("generic.upgrade")),1)])),_:1}))])),_:1}),r(l(S),{size:"small",color:"text-light"},{default:d((()=>[f(a(l(F).baseText("settings.security.personalSpace.publishing.description")),1)])),_:1})],2),y("div",{class:b(l(s).settingsContainerAction)},[r(V,{features:[l(I).PersonalSpacePolicy]},{fallback:d((()=>[r(l(x),null,{content:d((()=>[r(l(m),{keypath:D,tag:"span",scope:"global"},{action:d((()=>[y("a",{onClick:N},a(l(F).baseText("settings.security.personalSpace.unlicensed_tooltip.link")),1)])),_:1})])),default:d((()=>[r(l(C),{"model-value":!1,size:"large",disabled:!0,"data-test-id":"security-personal-space-publishing-toggle"})])),_:1})])),default:d((()=>[r(l(C),{modelValue:X.value,"onUpdate:modelValue":t[1]||(t[1]=e=>X.value=e),loading:l(K),size:"large","data-test-id":"security-personal-space-publishing-toggle"},null,8,["modelValue","loading"])])),_:1},8,["features"])],2)],2),y("div",{class:b(l(s).settingsCountRow),"data-test-id":"security-publishing-count"},[r(l(S),{size:"small"},{default:d((()=>[f(a(l(F).baseText("settings.security.personalSpace.publishing.existingCount.label")),1)])),_:1}),r(l(S),{size:"small",color:"text-light"},{default:d((()=>[f(a(l(F).baseText("settings.security.personalSpace.publishing.existingCount.value",{interpolate:{count:String(l(q)?.publishedPersonalWorkflowsCount??0)}})),1)])),_:1})],2)],2),r(l(T),{open:H.value,title:l(F).baseText("settings.security.personalSpace.publishing.confirmMessage.disable.headline"),description:l(F).baseText("settings.security.personalSpace.publishing.confirmMessage.disable.message"),onAction:Z,onCancel:t[2]||(t[2]=e=>H.value=!1),"onUpdate:open":t[3]||(t[3]=e=>H.value=e)},null,8,["open","title","description"]),r(l(T),{open:O.value,title:l(F).baseText("settings.security.personalSpace.sharing.confirmMessage.disable.headline"),description:l(F).baseText("settings.security.personalSpace.sharing.confirmMessage.disable.message"),onAction:se,onCancel:t[4]||(t[4]=e=>O.value=!1),"onUpdate:open":t[5]||(t[5]=e=>O.value=e)},null,8,["open","title","description"])]))}}),[["__cssModules",{$style:{headerTitle:"_headerTitle_meo7b_2",settingsSection:"_settingsSection_meo7b_8",settingsContainer:"_settingsContainer_meo7b_14",settingsContainerInfo:"_settingsContainerInfo_meo7b_22",settingsContainerAction:"_settingsContainerAction_meo7b_33",settingsCountRow:"_settingsCountRow_meo7b_41"}}]]))}}}));
//# sourceMappingURL=SecuritySettings-legacy-CBwDng22.js.map