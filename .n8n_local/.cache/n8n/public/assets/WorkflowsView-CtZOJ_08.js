(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`978ab6fa-2c61-471d-9876-65f5e9fd8f5f`,e._sentryDebugIdIdentifier=`sentry-dbid-978ab6fa-2c61-471d-9876-65f5e9fd8f5f`)})()}catch{}import{o as e}from"./chunk-Din3qlHY.js";import{C as t,Cn as n,D as r,E as i,Gt as a,It as o,J as s,M as c,Nt as l,P as u,Q as d,T as f,Z as p,_ as m,_t as h,at as g,bn as _,bt as v,et as y,h as ee,it as b,j as x,k as te,mt as ne,ot as S,p as C,vn as w,w as T,xt as E}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as D}from"./_MapCache-DjbOQyB7.js";import{A as re,At as ie,Bi as ae,C as oe,Ci as se,Et as O,Hi as k,Oi as A,Pi as ce,Q as le,Tt as j,Ui as M,Vi as N,_t as ue,bt as P,d as de,ft as fe,gi as pe,hi as F,ot as me,pt as he,st as ge,wi as _e,zi as I}from"./src-CppJvwzX.js";import{t as L}from"./_plugin-vue_export-helper-B_J4Khre.js";import"./sanitize-html-K63Olwt_.js";import{Ba as R,C as ve,Fr as z,Gt as ye,Hr as be,Kt as xe,La as B,Lt as Se,Ma as Ce,Ot as we,Ra as Te,Rr as Ee,Ti as De,Tr as Oe,Va as V,Wc as ke,cr as Ae,fn as je,lr as Me,or as Ne,qa as Pe,r as Fe,s as Ie,t as Le,wr as Re,ws as ze,xn as Be,yr as Ve,za as H}from"./users.store-pCkD7Zo0.js";import{Ga as He,Hs as Ue,Kc as We,Ss as U,Xs as Ge,Yc as Ke,ds as W,fs as qe,i as G,ko as K,ps as Je,qo as q,rs as J,zs as Y}from"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import{N as Ye,j as Xe}from"./_baseOrderBy-El3qbNHQ.js";import{t as Ze}from"./banners.store-Ce6ZTWqJ.js";import{t as X}from"./dateformat-BhE5sUDK.js";import{n as Qe,t as $e}from"./useDebounce-D6lADr4O.js";import"./useEnvFeatureFlag-CHY3xSda.js";import"./uniqBy-Bd2DEoH8.js";import"./nodeIcon--7uU1Imq.js";import{t as et}from"./folders.store-CS_gIPIm.js";import"./ProjectIcon-D-HRIqn6.js";import{t as tt}from"./ProjectCardBadge-dALz__Ys.js";import{t as nt}from"./usage.store-CK5aU6GK.js";import{t as rt}from"./useDynamicCredentials-BSZ25lEI.js";import{t as it}from"./Draggable-YWqutRc8.js";import{t as at}from"./NodeIcon-Dv1e4Lvu.js";import"./pushConnection.store-IFO3HVvG.js";import"./nodeTransforms-CG9uauaw.js";import"./collaboration.store-QKYwE2H2.js";import"./EnterpriseEdition.ee-BF3fOBuQ.js";import{t as ot}from"./TimeAgo-BLqTSlco.js";import"./orderBy-KAUxkCYD.js";import"./ProjectSharing-DgwjJKfK.js";import"./TagsDropdown-B5U3GUsU.js";import{t as st}from"./WorkflowTagsDropdown-Bab-8Jcr.js";import{t as ct}from"./insights.store-CIIvho7C.js";import"./insights.constants-DHL43iRt.js";import"./insights.utils-B2NpOI0Q.js";import"./templateTransforms-u0_D8fwP.js";import{t as lt}from"./useMcp-Vjm6-wcy.js";import{n as ut,r as dt,t as ft}from"./shuffle-BkOGhYVg.js";import{t as pt}from"./useWorkflowActivate-CpGKv5Cd.js";import"./values-B1M_mAMY.js";import{r as mt,t as ht}from"./readyToRun.store-DM7AW4os.js";import{t as gt}from"./aiTemplatesStarterCollection.store-NMq1bc_J.js";import{n as _t,t as vt}from"./FolderBreadcrumbs-BF2BbNF-.js";import"./ProjectBreadcrumb-Crk3D_Vf.js";import{t as Z}from"./emptyStateBuilderPrompt.store-BWGATy_3.js";import{t as yt}from"./EmptySharedSectionActionBox-BGCRJ9Jt.js";import{t as bt}from"./ResourcesListLayout-Dgyw19qu.js";import"./ResourceFiltersDropdown-tUuDPU--.js";import{n as xt,t as St}from"./ProjectHeader-KFxxuu0P.js";import{t as Ct}from"./mcp.store-BS0hY8V7.js";import{n as wt,r as Tt,t as Et}from"./RecommendedTemplateCard-DkYsGwkL.js";import{t as Dt}from"./InsightsSummary-8qyRMqyz.js";var Ot={"data-test-id":`folder-card`},kt={key:0},At=L(u({__name:`FolderCard`,props:{data:{},personalProject:{},actions:{default:()=>[]},readOnly:{type:Boolean,default:!0},showOwnershipBadge:{type:Boolean,default:!1}},emits:[`action`,`folderOpened`],setup(e,{emit:s}){let l=e,u=D(),d=se(),p=_e(),m=et(),h=s,g=o(new Promise(()=>{})),_=o([]),b=t(()=>u.baseText(`generic.folder`).toLowerCase()),te=t(()=>re(l.data.id)),ne=t(()=>l.data.homeProject?.type===xe.Personal?u.baseText(`projects.menu.personal`):l.data.homeProject?.name),C=t(()=>l.data.parentFolder?[{id:l.data.parentFolder.id,name:l.data.parentFolder.name,label:l.data.parentFolder.name,href:p.resolve({name:J.PROJECTS_FOLDERS,params:{projectId:l.data.homeProject?.id,folderId:l.data.parentFolder.id}}).href}]:[]),E=t(()=>l.showOwnershipBadge&&C.value.length),re=e=>p.resolve({name:J.PROJECTS_FOLDERS,params:{projectId:d.params.projectId,folderId:e},query:d.query}).href,ae=async e=>{if(e===B.OPEN){h(`folderOpened`,{folder:l.data}),await p.push(te.value);return}h(`action`,{action:e,folderId:l.data.id})},O=async()=>{if(!l.data.homeProject?.id||!ne.value||!l.data.parentFolder)g.value=Promise.resolve([]);else{if(_.value.length){g.value=Promise.resolve(_.value);return}let e=m.getHiddenBreadcrumbsItems({id:l.data.homeProject.id,name:ne.value},l.data.parentFolder.id);g.value=e,_.value=await e}},k=async e=>{e.href&&await p.push(e.href)};return(t,o)=>{let s=S(`RouterLink`);return y(),r(`div`,Ot,[c(s,{to:te.value,onClick:o[1]||=()=>h(`folderOpened`,{folder:l.data})},{default:v(()=>[c(a(P),{class:w(t.$style.card)},{prepend:v(()=>[c(a(M),{"data-test-id":`folder-card-icon`,class:w(t.$style[`folder-icon`]),icon:`folder`,size:`xlarge`,"stroke-width":1},null,8,[`class`])]),header:v(()=>[T(`div`,{class:w(t.$style[`card-header`])},[c(a(I),{tag:`h2`,bold:``,size:`small`,"data-test-id":`folder-card-name`},{default:v(()=>[x(n(e.data.name),1)]),_:1}),e.readOnly?(y(),f(a(ie),{key:0,class:`ml-3xs`,theme:`tertiary`,bold:``},{default:v(()=>[x(n(a(u).baseText(`workflows.item.readonly`)),1)]),_:1})):i(``,!0)],2)]),footer:v(()=>[T(`div`,{class:w(t.$style[`card-footer`])},[e.data.workflowCount>0?(y(),f(a(N),{key:0,size:`small`,color:`text-light`,class:w([t.$style[`info-cell`],t.$style[`info-cell--workflow-count`]]),"data-test-id":`folder-card-folder-count`},{default:v(()=>[x(n(a(u).baseText(`generic.workflow`,{interpolate:{count:e.data.workflowCount}})),1)]),_:1},8,[`class`])):i(``,!0),e.data.subFolderCount>0?(y(),f(a(N),{key:1,size:`small`,color:`text-light`,class:w([t.$style[`info-cell`],t.$style[`info-cell--workflow-count`]]),"data-test-id":`folder-card-workflow-count`},{default:v(()=>[x(n(a(u).baseText(`generic.folderCount`,{interpolate:{count:e.data.subFolderCount}})),1)]),_:1},8,[`class`])):i(``,!0),c(a(N),{size:`small`,color:`text-light`,class:w([t.$style[`info-cell`],t.$style[`info-cell--updated`]]),"data-test-id":`folder-card-last-updated`},{default:v(()=>[x(n(a(u).baseText(`workerList.item.lastUpdated`))+` `,1),c(ot,{date:String(e.data.updatedAt)},null,8,[`date`])]),_:1},8,[`class`]),c(a(N),{size:`small`,color:`text-light`,class:w([t.$style[`info-cell`],t.$style[`info-cell--created`]]),"data-test-id":`folder-card-created`},{default:v(()=>[x(n(a(u).baseText(`workflows.item.created`))+` `,1),c(ot,{date:String(e.data.createdAt)},null,8,[`date`])]),_:1},8,[`class`])],2)]),append:v(()=>[T(`div`,{class:w(t.$style[`card-actions`]),onClick:o[0]||=ee(()=>{},[`prevent`])},[e.data.homeProject&&e.showOwnershipBadge?(y(),r(`div`,kt,[c(tt,{class:w({[t.$style.cardBadge]:!0,[t.$style[`with-breadcrumbs`]]:E.value}),resource:e.data,"resource-type":a(De).Workflow,"resource-type-label":b.value,"personal-project":e.personalProject,"show-badge-border":!1},{default:v(()=>[E.value?(y(),r(`div`,{key:0,class:w(t.$style.breadcrumbs)},[c(a(oe),{items:C.value,"hidden-items":e.data.parentFolder?.parentFolderId===null?void 0:g.value,"path-truncated":e.data.parentFolder?.parentFolderId!==null,"highlight-last-item":!1,"hidden-items-trigger":`hover`,theme:`small`,"data-test-id":`folder-card-breadcrumbs`,onTooltipOpened:O,onItemSelected:k},{prepend:v(()=>[...o[2]||=[]]),_:1},8,[`items`,`hidden-items`,`path-truncated`])],2)):i(``,!0)]),_:1},8,[`class`,`resource`,`resource-type`,`resource-type-label`,`personal-project`])])):i(``,!0),e.actions.length?(y(),f(a(j),{key:1,actions:e.actions,theme:`dark`,"data-test-id":`folder-card-actions`,onAction:ae},null,8,[`actions`])):i(``,!0)],2)]),_:1},8,[`class`])]),_:1},8,[`to`])])}}}),[[`__cssModules`,{$style:{card:`_card_mp6zu_125`,"folder-icon":`_folder-icon_mp6zu_133`,"card-header":`_card-header_mp6zu_142`,"card-footer":`_card-footer_mp6zu_150`,"info-cell":`_info-cell_mp6zu_154`,cardBadge:`_cardBadge_mp6zu_159`,"with-breadcrumbs":`_with-breadcrumbs_mp6zu_159`,"card-actions":`_card-actions_mp6zu_166`,"info-cell--created":`_info-cell--created_mp6zu_184`}}]]),jt=e(X(),1),Q={key:0},Mt=L(u({__name:`WorkflowCard`,props:{data:{},readOnly:{type:Boolean,default:!1},workflowListEventBus:{default:void 0},showOwnershipBadge:{type:Boolean,default:!1},areTagsEnabled:{type:Boolean,default:!0},isMcpEnabled:{type:Boolean,default:!1},areFoldersEnabled:{type:Boolean,default:!1}},emits:[`expand:tags`,`click:tag`,`workflow:deleted`,`workflow:archived`,`workflow:unarchived`,`workflow:unpublished`,`workflow:active-toggle`,`action:move-to-folder`],setup(e,{emit:s}){let l={OPEN:`open`,SHARE:`share`,DUPLICATE:`duplicate`,DELETE:`delete`,ARCHIVE:`archive`,UNARCHIVE:`unarchive`,MOVE:`move`,MOVE_TO_FOLDER:`moveToFolder`,ENABLE_MCP_ACCESS:`enableMCPAccess`,REMOVE_MCP_ACCESS:`removeMCPAccess`,UNPUBLISH:`unpublish`},u=e,d=s,p=Ve(),m=Oe(),h=D(),g=_e(),_=se(),b=Se(),te=lt(),{isEnabled:ne}=rt(),S=Fe(),ae=Le(),O=Ie(),k=Ee(),ce=ye(),le=et(),de=Ct(),fe=pt(),pe=o(new Promise(()=>{})),F=o([]),me=o(null),he=t(()=>h.baseText(`generic.workflow`).toLowerCase()),ge=t(()=>ae.currentUser??{}),I=t(()=>q(u.data.scopes).workflow),L=t(()=>q(ae.currentUser?.globalScopes).workflow),R=t(()=>q(ce.myProjects?.find(e=>u.data.homeProject?.id===e.id)?.scopes).workflow),ve=t(()=>L.value.create??R.value.create),z=t(()=>u.showOwnershipBadge&&!ke.value&&B.value.length),be=t(()=>u.data.homeProject?.type===xe.Personal?h.baseText(`projects.menu.personal`):u.data.homeProject?.name),B=t(()=>u.data.parentFolder?[{id:u.data.parentFolder.id,name:u.data.parentFolder.name,label:u.data.parentFolder.name,href:g.resolve({name:J.PROJECTS_FOLDERS,params:{projectId:u.data.homeProject?.id,folderId:u.data.parentFolder.id}}).href}]:[]),we=t(()=>{let e=[{label:h.baseText(`workflows.item.open`),value:l.OPEN},{label:h.baseText(`workflows.item.share`),value:l.SHARE}];return I.value.read&&ve.value&&!u.readOnly&&!u.data.isArchived&&e.push({label:h.baseText(`workflows.item.duplicate`),value:l.DUPLICATE}),!u.readOnly&&u.areFoldersEnabled&&(I.value.update||I.value.move&&ce.isTeamProjectFeatureEnabled)&&_.name!==J.SHARED_WORKFLOWS&&e.push({label:h.baseText(`folders.actions.moveToFolder`),value:l.MOVE_TO_FOLDER}),I.value.delete&&!u.readOnly&&(u.data.isArchived?(e.push({label:h.baseText(`workflows.item.delete`),value:l.DELETE}),e.push({label:h.baseText(`workflows.item.unarchive`),value:l.UNARCHIVE})):e.push({label:h.baseText(`workflows.item.archive`),value:l.ARCHIVE})),Ae.value&&I.value.update&&!u.readOnly&&!u.data.isArchived&&e.push({label:h.baseText(`menuActions.unpublish`),value:l.UNPUBLISH}),u.isMcpEnabled&&I.value.update&&!u.readOnly&&!u.data.isArchived&&(V.value?e.push({label:h.baseText(`workflows.item.disableMCPAccess`),value:l.REMOVE_MCP_ACCESS,disabled:!u.data.active}):e.push({label:h.baseText(`workflows.item.enableMCPAccess`),value:l.ENABLE_MCP_ACCESS,disabled:!u.data.active})),e}),Te=t(()=>{let e=new Date().getFullYear().toString();return(0,jt.default)(u.data.createdAt,`d mmmm${String(u.data.createdAt).startsWith(e)?``:`, yyyy`}`)}),V=t(()=>me.value===null?u.data.settings?.availableInMCP??!1:me.value),ke=t(()=>u.data.homeProject?.type!==xe.Team&&u.data.homeProject?.id!==ce.personalProject?.id),Ae=t(()=>u.data.activeVersionId!==null),je=t(()=>ne.value&&u.data.hasResolvableCredentials),Me=t(()=>ne.value&&u.data.hasResolvableCredentials&&!u.data.settings?.credentialResolverId);async function Ne(e){if(e?.ctrlKey||e?.metaKey){let e=g.resolve({name:J.WORKFLOW,params:{name:u.data.id}});window.open(e.href,`_blank`);return}await g.push({name:J.WORKFLOW,params:{name:u.data.id}})}function Pe(e,t){t.stopPropagation(),d(`click:tag`,e,t)}function Re(){d(`expand:tags`)}async function ze(e){switch(e){case l.OPEN:await Ne();break;case l.DUPLICATE:S.openModalWithData({name:W,data:{id:u.data.id,name:u.data.name,tags:(u.data.tags??[]).map(e=>typeof e!=`string`&&`id`in e?e.id:e),externalEventBus:u.workflowListEventBus,parentFolderId:u.data.parentFolder?.id}});break;case l.SHARE:S.openModalWithData({name:Ue,data:{id:u.data.id}}),b.track(`User opened sharing modal`,{workflow_id:u.data.id,user_id_sharer:ge.value.id,sub_view:`Workflows listing`});break;case l.DELETE:await He();break;case l.ARCHIVE:await We();break;case l.UNARCHIVE:await U();break;case l.MOVE:Ke();break;case l.MOVE_TO_FOLDER:d(`action:move-to-folder`,{id:u.data.id,name:u.data.name,parentFolderId:u.data.parentFolder?.id,sharedWithProjects:u.data.sharedWithProjects,homeProjectId:u.data.homeProject?.id});break;case l.ENABLE_MCP_ACCESS:await H(!0);break;case l.REMOVE_MCP_ACCESS:await H(!1);break;case l.UNPUBLISH:await Be();break}}async function Be(){if(!u.data.activeVersionId){p.showMessage({title:h.baseText(`workflowHistory.action.unpublish.notAvailable`),type:`warning`});return}let e=ue();e.once(`unpublish`,async()=>{let e=await fe.unpublishWorkflowFromHistory(u.data.id);S.closeModal(Y),e&&(d(`workflow:unpublished`,{id:u.data.id}),p.showMessage({title:h.baseText(`workflowHistory.action.unpublish.success.title`),type:`success`}))}),S.openModalWithData({name:Y,data:{versionName:u.data.name,eventBus:e}})}async function H(e){try{await de.toggleWorkflowMcpAccess(u.data.id,e),me.value=e,te.trackMcpAccessEnabledForWorkflow(u.data.id)}catch(e){p.showError(e,h.baseText(`workflowSettings.toggleMCP.error.title`));return}}async function He(){if(await m.confirm(h.baseText(`mainSidebar.confirmMessage.workflowDelete.message`,{interpolate:{workflowName:u.data.name}}),h.baseText(`mainSidebar.confirmMessage.workflowDelete.headline`),{type:`warning`,confirmButtonText:h.baseText(`mainSidebar.confirmMessage.workflowDelete.confirmButtonText`),cancelButtonText:h.baseText(`mainSidebar.confirmMessage.workflowDelete.cancelButtonText`)})===`confirm`){try{await k.deleteWorkflow(u.data.id)}catch(e){p.showError(e,h.baseText(`generic.deleteWorkflowError`));return}p.showMessage({title:h.baseText(`mainSidebar.showMessage.handleSelect1.title`,{interpolate:{workflowName:u.data.name}}),type:`success`}),d(`workflow:deleted`)}}async function We(){if(!(u.data.active&&await m.confirm(h.baseText(`mainSidebar.confirmMessage.workflowArchive.message`,{interpolate:{workflowName:u.data.name}}),h.baseText(`mainSidebar.confirmMessage.workflowArchive.headline`),{type:`warning`,confirmButtonText:h.baseText(`mainSidebar.confirmMessage.workflowArchive.confirmButtonText`),cancelButtonText:h.baseText(`mainSidebar.confirmMessage.workflowArchive.cancelButtonText`)})!==`confirm`)){try{await O.archiveWorkflow(u.data.id)}catch(e){p.showError(e,h.baseText(`generic.archiveWorkflowError`));return}p.showMessage({title:h.baseText(`mainSidebar.showMessage.handleArchive.title`,{interpolate:{workflowName:u.data.name}}),type:`success`}),d(`workflow:archived`)}}async function U(){try{await O.unarchiveWorkflow(u.data.id)}catch(e){p.showError(e,h.baseText(`generic.unarchiveWorkflowError`));return}p.showMessage({title:h.baseText(`mainSidebar.showMessage.handleUnarchive.title`,{interpolate:{workflowName:u.data.name}}),type:`success`}),d(`workflow:unarchived`)}let Ge=async()=>{if(!u.data.homeProject?.id||!be.value||!u.data.parentFolder)pe.value=Promise.resolve([]);else{if(F.value.length){pe.value=Promise.resolve(F.value);return}let e=le.getHiddenBreadcrumbsItems({id:u.data.homeProject.id,name:be.value},u.data.parentFolder.id);pe.value=e,F.value=await e}};function Ke(){S.openModalWithData({name:Ce,data:{resource:u.data,resourceType:De.Workflow,resourceTypeLabel:he.value,eventBus:u.workflowListEventBus}})}let qe=async e=>{e.href&&await g.push(e.href)},G=t(()=>u.data.tags?.map(e=>typeof e==`string`?{id:e,name:e}:e)??[]);return(t,o)=>(y(),f(a(P),{class:w({[t.$style.cardLink]:!0,[t.$style.cardArchived]:e.data.isArchived}),"data-test-id":`workflow-card`,onClick:Ne},{header:v(()=>[c(a(N),{tag:`h2`,bold:``,class:w({[t.$style.cardHeading]:!0,[t.$style.cardHeadingArchived]:e.data.isArchived}),"data-test-id":`workflow-card-name`},{default:v(()=>[x(n(e.data.name)+` `,1),I.value.update?i(``,!0):(y(),f(a(ie),{key:0,class:`ml-3xs`,theme:`tertiary`,bold:``},{default:v(()=>[x(n(a(h).baseText(`workflows.item.readonly`)),1)]),_:1})),je.value?(y(),f(a(A),{key:1,placement:`top`},{content:v(()=>[T(`div`,{class:w(t.$style.tooltipContent)},[T(`strong`,null,n(a(h).baseText(`workflows.dynamic.tooltipTitle`)),1),T(`span`,null,n(a(h).baseText(`workflows.dynamic.tooltip`)),1)],2)]),default:v(()=>[c(a(ie),{theme:`tertiary`,class:`ml-3xs pl-3xs pr-3xs`,"data-test-id":`workflow-card-dynamic-credentials`},{default:v(()=>[T(`span`,{class:w(t.$style.dynamicBadgeText)},[c(a(M),{icon:`key-round`,size:`medium`}),x(` `+n(a(h).baseText(`credentials.dynamic.badge`)),1)],2)]),_:1})]),_:1})):i(``,!0),Me.value?(y(),f(a(ie),{key:2,theme:`warning`,class:`ml-3xs pl-3xs pr-3xs`,"data-test-id":`workflow-card-resolver-missing`},{default:v(()=>[T(`span`,{class:w(t.$style.resolverMissingBadge)},n(a(h).baseText(`workflows.dynamic.resolverMissing`)),3)]),_:1})):i(``,!0)]),_:1},8,[`class`])]),append:v(()=>[T(`div`,{class:w(t.$style.cardActions),onClick:o[0]||=ee(()=>{},[`stop`])},[e.showOwnershipBadge?(y(),f(tt,{key:0,class:w({[t.$style.cardBadge]:!0,[t.$style[`with-breadcrumbs`]]:z.value}),resource:e.data,"resource-type":a(De).Workflow,"resource-type-label":he.value,"personal-project":a(ce).personalProject,"show-badge-border":!1},{default:v(()=>[z.value?(y(),r(`div`,{key:0,class:w(t.$style.breadcrumbs)},[c(a(oe),{items:B.value,"hidden-items":e.data.parentFolder?.parentFolderId===null?void 0:pe.value,"path-truncated":e.data.parentFolder?.parentFolderId!==null,"highlight-last-item":!1,"hidden-items-trigger":`hover`,theme:`small`,"data-test-id":`workflow-card-breadcrumbs`,onTooltipOpened:Ge,onItemSelected:qe},{prepend:v(()=>[...o[2]||=[]]),_:1},8,[`items`,`hidden-items`,`path-truncated`])],2)):i(``,!0)]),_:1},8,[`class`,`resource`,`resource-type`,`resource-type-label`,`personal-project`])):i(``,!0),e.data.isArchived?(y(),f(a(N),{key:1,color:`text-light`,size:`small`,bold:``,class:`ml-s mr-s`,"data-test-id":`workflow-card-archived`},{default:v(()=>[x(n(a(h).baseText(`workflows.item.archived`)),1)]),_:1})):Ae.value?(y(),r(`div`,{key:2,class:w(t.$style.publishIndicator),"data-test-id":`workflow-card-publish-indicator`},[T(`span`,{class:w(t.$style.publishIndicatorDot)},null,2),c(a(N),{size:`small`,color:`text-base`},{default:v(()=>[x(n(a(h).baseText(`workflows.published`)),1)]),_:1})],2)):i(``,!0),c(a(j),{actions:we.value,theme:`dark`,"data-test-id":`workflow-card-actions`,onAction:ze},null,8,[`actions`])],2)]),default:v(()=>[T(`div`,{class:w(t.$style.cardDescription)},[E(T(`span`,null,[x(n(a(h).baseText(`workflows.item.updated`))+` `,1),c(ot,{date:String(e.data.updatedAt)},null,8,[`date`]),o[1]||=x(` | `,-1)],512),[[C,e.data]]),E(T(`span`,null,[x(n(a(h).baseText(`workflows.item.created`))+` `+n(Te.value)+` `,1),u.isMcpEnabled&&V.value?(y(),r(`span`,Q,`|`)):i(``,!0)],512),[[C,e.data]]),E(T(`span`,{class:w([t.$style[`description-cell`],t.$style[`description-cell--mcp`]]),"data-test-id":`workflow-card-mcp`},[c(a(A),{placement:`right`,content:a(h).baseText(`workflows.item.availableInMCP`),"data-test-id":`workflow-card-mcp-tooltip`},{default:v(()=>[c(a(M),{icon:`mcp`,size:`medium`})]),_:1},8,[`content`])],2),[[C,u.isMcpEnabled&&V.value]]),u.areTagsEnabled&&e.data.tags&&e.data.tags.length>0?E((y(),r(`span`,{key:0,class:w(t.$style.cardTags)},[c(a(re),{tags:G.value,"truncate-at":3,truncate:``,"data-test-id":`workflow-card-tags`,"onClick:tag":Pe,onExpand:Re},null,8,[`tags`])],2)),[[C,e.data]]):i(``,!0)],2)]),_:1},8,[`class`]))}}),[[`__cssModules`,{$style:{cardLink:`_cardLink_fcosa_125`,cardHeading:`_cardHeading_fcosa_135`,cardHeadingArchived:`_cardHeadingArchived_fcosa_143`,"description-popper":`_description-popper_fcosa_147`,cardDescription:`_cardDescription_fcosa_151`,cardTags:`_cardTags_fcosa_161`,cardActions:`_cardActions_fcosa_166`,cardBadge:`_cardBadge_fcosa_177`,"with-breadcrumbs":`_with-breadcrumbs_fcosa_181`,cardArchived:`_cardArchived_fcosa_188`,"description-cell--mcp":`_description-cell--mcp_fcosa_194`,dynamicBadgeText:`_dynamicBadgeText_fcosa_202`,resolverMissingBadge:`_resolverMissingBadge_fcosa_210`,tooltipContent:`_tooltipContent_fcosa_218`,publishIndicator:`_publishIndicator_fcosa_224`,publishIndicatorDot:`_publishIndicatorDot_fcosa_237`,breadcrumbs:`_breadcrumbs_fcosa_256`}}]]),Nt=80,Pt=20;function Ft(e){let t,n=0,r=e.edgeSize??Nt,i=e.maxSpeed??Pt,a=()=>{n=0,t!==void 0&&(cancelAnimationFrame(t),t=void 0)},o=()=>{let r=e.container.value;if(!r||n===0){t=void 0;return}r.scrollBy({top:n}),t=requestAnimationFrame(o)},s=e=>{n=e,t??=requestAnimationFrame(o)},c=t=>{let n=e.container.value;if(!n){a();return}let{scrollHeight:o,clientHeight:c}=n;if(o<=c){a();return}let l=n.getBoundingClientRect(),u=t.clientY,d=0,f=0;if(u<l.top)d=-1,f=r;else if(u>l.bottom)d=1,f=r;else{let e=u-l.top,t=l.bottom-u,n=e<r,i=t<r;(n||i)&&(!i||e<=t?(d=-1,f=r-Math.min(e,r)):(d=1,f=r-Math.min(t,r)))}if(d===0){a();return}let p=Math.min(f/r,1);s(d*Math.max(2,p*i))},u=()=>{window.addEventListener(`mousemove`,c)},d=()=>{window.removeEventListener(`mousemove`,c)};h([e.isActive,e.container],([e,t],n,r)=>{d(),a(),e&&t&&u(),r(()=>{d(),a()})},{immediate:!0}),l(()=>{d(),a()})}function It(e){return e.type===`folder`||e.type===`project`}function Lt(e){return[`folder`,`workflow`,`project`].includes(e)}function Rt(){let e=D(),n=et(),r=t(()=>n.draggedElement!==null);function i(t){return Te.test(t)?e.baseText(`folders.invalidName.invalidCharacters.message`,{interpolate:{illegalChars:V.join(` `)}}):R.test(t)?e.baseText(`folders.invalidName.only.dots.message`):t.startsWith(`.`)?e.baseText(`folders.invalidName.starts.with.dot..message`):t.trim()===``?e.baseText(`folders.invalidName.empty.message`):t.length>128?e.baseText(`folders.invalidName.tooLong.message`,{interpolate:{maxLength:128}}):!0}function a(e){let t=e.closest(`[data-target]`);if(!t)return;let r=l(t);r&&(r.type===`folder`||r.type===`workflow`)&&(n.draggedElement={type:r.type,id:r.id,name:r.name},document.body.classList.add(`dragging-resource`))}function o(){n.draggedElement=null,n.activeDropTarget=null,document.body.classList.remove(`dragging-resource`)}function s(e){let t=e.target;if(!t||!r.value)return;e.preventDefault(),e.stopPropagation();let i=l(t);!i||i.type!==`folder`||(n.activeDropTarget={type:i.type,id:i.id,name:i.name})}function c(){n.activeDropTarget=null}function l(e){let t=e.closest(`[data-target]`);if(!t)return null;let n=t.dataset.target,r=t.dataset.resourceid,i=t.dataset.resourcename;return!n||!r||!i||!Lt(n)?null:{type:n,id:r,name:i}}function u(e){let t=e.target;if(!t||!r.value)return{};e.preventDefault();let i=n.draggedElement?.id,a=n.draggedElement?.type,s=n.draggedElement?.name;if(!i||!a||!s)return{};o();let c=l(t);return!c||!It(c)?{}:{draggedResource:{type:a,id:i,name:s},dropTarget:{type:c.type,id:c.id,name:c.name}}}return{validateFolderName:i,onDragStart:a,onDragEnd:o,onDragEnter:s,resetDropTarget:c,handleDrop:u}}var zt=[6270,5271,2178],Bt={"n8n-nodes-base.gmail":[5678,4722,5694],"n8n-nodes-base.googleSheets":[5694,5690,5906],"n8n-nodes-base.telegram":[5626,2114,4875],"@n8n/n8n-nodes-langchain.openAi":[2462,2722,2178],"@n8n/n8n-nodes-langchain.googleGemini":[5993,6270,5677],"n8n-nodes-base.googleCalendar":[2328,3393,2110],"n8n-nodes-base.youTube":[3188,4846,4506],"n8n-nodes-base.airtable":[3053,2700,2579]};function Vt(e){return Object.keys(Bt).filter(t=>e.includes(t)).reduce((e,t)=>[...e,...Bt[t]],[])}function Ht(e){if(e.length===0)return zt;let t=Vt(e);return t.length>0?t:[]}function Ut(e){return e.length<=3?e:Array.from(new Map(e.map(e=>[e.id,e])).values()).sort((e,t)=>t.totalViews-e.totalViews).slice(0,3)}const Wt=Xe(ke.PERSONALIZED_TEMPLATES,()=>{let e=Se(),n=z(),r=Me(),i=Be(),a=o([]),s=be(Ge),c=t(()=>s.value?He(s.value,{fallbackValue:[]}):[]),l=t(()=>a.value.filter(({id:e})=>!c.value.includes(e))),u=e=>{s.value=JSON.stringify([...c.value??[],e])},d=()=>n.getVariant(We.name)===We.variantSuggestedTemplates&&r.userIsTrialing,f=t=>{e.track(`User was recommended personalized templates`,{templateIds:t})},p=t=>{e.track(`User clicked on personalized template callout`,{templateId:t})},m=t=>{e.track(`User dismissed personalized template callout`,{templateId:t})},g=async(e,t)=>{if(d())try{if(e===1){let e=Ht(t);if(e.length>0){let t=e.map(async e=>await i.fetchTemplateById(e.toString())),n=Ut(await Promise.all(t));a.value=n,f(n.map(e=>e.id));return}}let n=(await i.getWorkflows({categories:[],search:``,sort:`rank:desc`,nodes:t.length>0?t:void 0,combineWith:`or`})).slice(0,3).map(e=>e.id).map(async e=>await i.fetchTemplateById(e.toString())),r=Ut(await Promise.all(n));a.value=r,f(r.map(e=>e.id))}catch{}};return h(()=>r.currentUserCloudInfo,async e=>{if(!e)return;let t=r.codingSkill;await g(t,r.selectedApps??[])}),{isFeatureEnabled:d,suggestedWorkflows:l,dismissSuggestedWorkflow:u,trackUserClickedOnPersonalizedTemplate:p,trackUserDismissedCallout:m,getTemplateRoute:e=>({name:J.TEMPLATE,params:{id:e}})}});var Gt=L(u({__name:`SuggestedWorkflowCard`,props:{data:{}},setup(e){let{data:t}=e,{dismissSuggestedWorkflow:r,getTemplateRoute:i,trackUserClickedOnPersonalizedTemplate:o,trackUserDismissedCallout:s}=Wt(),l=D(),u=()=>{s(t.id),r(t.id)},d=()=>{o(t.id),r(t.id)};return(e,r)=>(y(),f(a(ae),{theme:`secondary`,iconless:!0,class:w(e.$style[`suggested-workflow-callout`]),slim:!0},{trailingContent:v(()=>[T(`div`,{class:w(e.$style[`callout-trailing-content`])},[c(a(pe),{"data-test-id":`suggested-workflow-button`,size:`small`,to:a(i)(a(t).id),onClick:d},{default:v(()=>[x(n(a(l).baseText(`workflows.itemSuggestion.try`)),1)]),_:1},8,[`to`]),c(a(M),{size:`small`,icon:`x`,title:a(l).baseText(`generic.dismiss`),class:`clickable`,onClick:u},null,8,[`title`])],2)]),default:v(()=>[T(`div`,{class:w(e.$style[`callout-content`])},n(a(t).name),3)]),_:1},8,[`class`]))}}),[[`__cssModules`,{$style:{"suggested-workflow-callout":`_suggested-workflow-callout_1wrxf_125`,"callout-content":`_callout-content_1wrxf_131`,"callout-trailing-content":`_callout-trailing-content_1wrxf_135`}}]]),Kt={"suggested-workflows":`_suggested-workflows_15lpu_125`},qt={},Jt={class:`suggested-workflows`,"data-test-id":`suggested-workflows`};function Yt(e,t){return y(),r(`div`,Jt,[g(e.$slots,`default`)])}var Xt=L(qt,[[`render`,Yt],[`__cssModules`,{$style:Kt}]]),Zt=L(u({__name:`NodeRecommendationCard`,props:{nodeName:{}},setup(e){let i=e,o=Fe(),s=ve(),{trackMinicardClick:l}=dt(),u=t(()=>s.getNodeType(i.nodeName)),d=()=>{l(u.value?.displayName??i.nodeName),o.openModalWithData({name:qe,data:{nodeName:i.nodeName}})};return p(async()=>{await s.loadNodeTypesIfNotLoaded()}),(e,t)=>(y(),r(`div`,null,[c(a(P),{class:w(e.$style.nodeCard),hoverable:``,onClick:d},{default:v(()=>[T(`div`,{class:w(e.$style.emptyStateCardContent)},[c(at,{"node-type":u.value,class:w(e.$style.nodeIcon),"stroke-width":1.5},null,8,[`node-type`,`class`]),c(a(N),{size:`xsmall`,class:`mt-xs pl-2xs pr-2xs`,bold:!0},{default:v(()=>[x(n(u.value?.displayName),1)]),_:1})],2)]),_:1},8,[`class`])]))}}),[[`__cssModules`,{$style:{nodeCard:`_nodeCard_tubis_125`,nodeIcon:`_nodeIcon_tubis_135`,emptyStateCardContent:`_emptyStateCardContent_tubis_139`}}]]),Qt={key:0,class:`text-center mt-3xl`,"data-test-id":`list-empty-state`},$t=L(u({__name:`TemplateRecommendationV2`,setup(e){let t=dt(),o=D();return(e,s)=>a(t).nodes.length?(y(),r(`div`,Qt,[c(a(I),{tag:`h2`,size:`medium`,class:`mb-2xs`,color:`text-light`},{default:v(()=>[x(n(a(o).baseText(`workflows.templateRecoV2.exploreTemplates`)),1)]),_:1}),T(`div`,{class:w(e.$style.nodeCardsContainer)},[(y(!0),r(m,null,b(a(t).nodes,e=>(y(),f(Zt,{key:e,"node-name":e},null,8,[`node-name`]))),128))],2)])):i(``,!0)}}),[[`__cssModules`,{$style:{nodeCardsContainer:`_nodeCardsContainer_1seru_125`}}]]),en=L(u({__name:`NodeRecommendationCard`,props:{nodeName:{}},setup(e){let i=e,o=Fe(),s=ve(),{trackPersonalizationCardClick:l,markTemplateRecommendationInteraction:u}=ut(),d=t(()=>s.getNodeType(i.nodeName)),f=()=>{l(),u(),o.openModalWithData({name:Je,data:{nodeName:i.nodeName}})};return p(async()=>{await s.loadNodeTypesIfNotLoaded()}),(e,t)=>(y(),r(`div`,null,[c(a(P),{class:w(e.$style.nodeCard),hoverable:``,onClick:f},{default:v(()=>[T(`div`,{class:w(e.$style.emptyStateCardContent)},[c(at,{"node-type":d.value,class:w(e.$style.nodeIcon),"stroke-width":1.5},null,8,[`node-type`,`class`]),c(a(N),{size:`xsmall`,class:`mt-xs pl-2xs pr-2xs`,bold:!0},{default:v(()=>[x(n(d.value?.displayName),1)]),_:1})],2)]),_:1},8,[`class`])]))}}),[[`__cssModules`,{$style:{nodeCard:`_nodeCard_tubis_125`,nodeIcon:`_nodeIcon_tubis_135`,emptyStateCardContent:`_emptyStateCardContent_tubis_139`}}]]),tn={key:0,class:`text-center mt-3xl`,"data-test-id":`list-empty-state`},nn=L(u({__name:`TemplateRecommendationV3`,setup(e){let t=ut(),o=D();return(e,s)=>a(t).hasChosenHubSpot?(y(),r(`div`,tn,[c(a(I),{tag:`h2`,size:`medium`,class:`mb-2xs`,color:`text-light`},{default:v(()=>[x(n(a(o).baseText(`experiments.personalizedTemplatesV3.exploreTemplates`)),1)]),_:1}),T(`div`,{class:w(e.$style.nodeCardsContainer)},[c(en,{"node-name":`n8n-nodes-base.hubspot`})],2)])):i(``,!0)}}),[[`__cssModules`,{$style:{nodeCardsContainer:`_nodeCardsContainer_1seru_125`}}]]),rn=L(u({__name:`SkeletonTemplateCard`,setup(e){return(e,t)=>(y(),f(a(P),{class:w(e.$style.card),"aria-hidden":`true`},{default:v(()=>[T(`div`,{class:w(e.$style.cardContent)},[T(`div`,{class:w(e.$style.widthRow)},[T(`div`,{class:w(e.$style.widthBlock)},null,2),T(`div`,{class:w(e.$style.widthBlock)},null,2),T(`div`,{class:w(e.$style.widthBlock)},null,2)],2),T(`div`,{class:w(e.$style.nodes)},[T(`div`,{class:w(e.$style.nodeIcon)},[c(a(O),{variant:`custom`})],2),T(`div`,{class:w(e.$style.nodeIcon)},[c(a(O),{variant:`custom`})],2)],2),T(`div`,{class:w(e.$style.title)},[c(a(O),{variant:`custom`})],2),T(`div`,{class:w(e.$style.title)},[c(a(O),{variant:`custom`})],2),T(`div`,{class:w(e.$style.title)},[c(a(O),{variant:`custom`})],2),T(`div`,{class:w(e.$style.stats)},[T(`div`,{class:w(e.$style.statItem)},[c(a(O),{variant:`custom`})],2)],2)],2)]),_:1},8,[`class`]))}}),[[`__cssModules`,{$style:{card:`_card_1pphi_125`,widthRow:`_widthRow_1pphi_133`,widthBlock:`_widthBlock_1pphi_140`,cardContent:`_cardContent_1pphi_146`,nodes:`_nodes_1pphi_153`,nodeIcon:`_nodeIcon_1pphi_158`,title:`_title_1pphi_168`,stats:`_stats_1pphi_175`,statItem:`_statItem_1pphi_179`}}]]),an=L(u({__name:`RecommendedTemplatesSection`,setup(e){let t=D(),i=Tt(),{websiteTemplateRepositoryURL:s}=Ye(Be()),l=o([]),u=o(!1);return p(async()=>{u.value=!0;try{l.value=await i.loadRecommendedTemplates()}finally{u.value=!1}}),(e,i)=>(y(),r(`section`,{class:w(e.$style.container),"data-test-id":`recommended-templates-section`},[T(`div`,{class:w(e.$style.header)},[c(a(N),{tag:`h2`,size:`large`,bold:!0},{default:v(()=>[x(n(a(t).baseText(`workflows.empty.startWithTemplate`)),1)]),_:1}),c(a(pe),{href:a(s),class:w(e.$style.allTemplatesLink)},{default:v(()=>[x(n(a(t).baseText(`templates.featured.seeMore`)),1)]),_:1},8,[`href`,`class`])],2),u.value?(y(),r(`div`,{key:0,class:w(e.$style.suggestions)},[(y(!0),r(m,null,b(a(6),e=>(y(),f(rn,{key:e}))),128))],2)):(y(),r(`div`,{key:1,class:w(e.$style.suggestions)},[(y(!0),r(m,null,b(l.value,(e,t)=>(y(),f(Et,{key:e.id,template:e,"tile-number":t+1,clickable:!0},null,8,[`template`,`tile-number`]))),128))],2))],2))}}),[[`__cssModules`,{$style:{container:`_container_d40wj_125`,header:`_header_d40wj_131`,allTemplatesLink:`_allTemplatesLink_d40wj_147`,suggestions:`_suggestions_d40wj_151`}}]]);function on(){let e=D(),n=Le(),r=ye(),i=Re(),a=Tt(),o=Z(),s=t(()=>n.currentUser??{}),c=t(()=>r.personalProject),l=t(()=>i.preferences.branchReadOnly),u=t(()=>q(r.currentProject?.scopes??c.value?.scopes)),d=t(()=>!l.value&&u.value.workflow.create),f=t(()=>a.isFeatureEnabled&&!l.value&&u.value.workflow.create);return{showBuilderPrompt:t(()=>o.isFeatureEnabled&&!l.value&&u.value.workflow.create),showRecommendedTemplatesInline:f,builderHeading:t(()=>{let t=s.value.firstName;return t?e.baseText(`workflows.empty.heading.builder`,{interpolate:{name:t}}):e.baseText(`workflows.empty.heading.builder.userNotSetup`)}),emptyStateHeading:t(()=>{let t=s.value.firstName;return f.value?t?e.baseText(`workflows.empty.heading`,{interpolate:{name:t}}):e.baseText(`workflows.empty.heading.userNotSetup`):t?e.baseText(`workflows.empty.headingWithIcon`,{interpolate:{name:t}}):e.baseText(`workflows.empty.headingWithIcon.userNotSetup`)}),emptyStateDescription:t(()=>l.value?e.baseText(`workflows.empty.description.readOnlyEnv`):u.value.workflow.create?e.baseText(`workflows.empty.description`):e.baseText(`workflows.empty.description.noPermission`)),canCreateWorkflow:d,readOnlyEnv:l,projectPermissions:u}}const sn=[{id:`multi-agent-research`,summary:`a multi-agent research workflow`,prompt:'Create a multi-agent AI workflow using `gpt-4.1-mini` where several agents work together to research a topic, fact-check the findings, and write a report that\'s sent as an HTML email. One agent should gather recent, credible information about the topic. Another agent should verify the facts and only mark something as "verified" if it appears in at least two independent sources. A third agent should combine the verified information into a clear, well-written report under 1,000 words. A final agent should edit and format the report to make it look clean and professional in the body of the email. Use Gmail to send the report.'},{id:`email-summary`,summary:`an email summary workflow`,prompt:"Create an automation that runs on Monday mornings. It reads my Gmail inbox from the weekend, analyzes them with `gpt-4.1-mini` to find action items and priorities, and emails me a structured email using Gmail."},{id:`ai-news-digest`,summary:`a daily AI news digest workflow`,prompt:'Build an automation that runs every night 8pm. Use the NewsAPI "/everything" endpoint to search for AI-related news from the day. Pick the top 5 articles and use OpenAI `gpt-4.1-mini` to summarize each in two sentences. Generate an image using OpenAI based on the top article\'s summary. Send a structured Telegram message.'},{id:`daily-weather-report`,summary:`a daily weather report workflow`,prompt:"Create an automation that checks the weather for my location every morning at 5 a.m using OpenWeather. Send me a short weather report by email using Gmail. Use OpenAI `gpt-4.1-mini` to write a short, fun formatted email body by adding personality when describing the weather and how the day might feel. Include all details relevant to decide on my plans and clothes for the day."},{id:`invoice-pipeline`,summary:`an invoice processing workflow`,prompt:"Create an invoice processing workflow using an n8n Form. When a user submits an invoice file (PDF or image) with their email address, use OpenAI `gpt-4.1-mini` to extract invoice data. Then, validate the date format is correct, the currency is valid, and the total amount is greater than zero. If validation fails, email the user a clear error message that explains which check failed from my Gmail. If the data passes validation, store the structured result in a datatable plus email the user. Every Monday morning, generate a weekly spending report using `gpt-4.1-mini` based on stored invoices and send a clean email using Gmail."},{id:`rag-assistant`,summary:`a RAG knowledge agent`,prompt:"Build an automation that creates a document-to-chat RAG pipeline. The workflow starts with an n8n Form where a user uploads one or more files (PDF, CSV, or JSON). Each upload should trigger a process that reads the file, splits it into chunks, and generates embeddings using OpenAI `gpt-4.1-mini` model, saved in one Pinecone table. Add a second part of the workflow for querying: use a Chat Message Trigger to act as a chatbot interface. When a user sends a question, retrieve the top 5 most relevant chunks from Pinecone, pass them into `gpt-4.1-mini` as context, and have it answer naturally using only the retrieved information. If a question can't be answered confidently, the bot should respond with: \"I couldn't find that in the uploaded documents.\" Log each chat interaction in a Data Table with the user query, matched file(s), and timestamp. Send a daily summary email through Gmail showing total questions asked, top files referenced, and any failed lookups."},{id:`lead-qualification`,summary:`a lead qualification workflow`,prompt:`Create an n8n form with a lead generation form I can embed on my website homepage. Build an automation that processes form submissions, uses AI to qualify the lead, sends data to an n8n data table. For high-score leads, it should also email them to offer to schedule a 15-min call in a free slot in my calendar.`},{id:`youtube-auto-chapters`,summary:`a YouTube chapter generator workflow`,prompt:`Build an n8n workflow that automatically generates YouTube chapter timestamps from video captions. Use the n8n chat trigger for me to enter the URL of the YouTube video. Use the YouTube Get a video node to get the video title, description, and existing metadata. Use the YouTube Captions API to download the transcript for the given video ID. Send the transcript to AI agent using Anthropic's Claude model. Prompt the model to identify topic shifts and return structured output in timestamp - chapter format. Append the generated chapter list to the existing video description. Use the YouTube Update a video node to update the video description. Respond back with the updates using the respond to chat node.`}];var cn=e(ft(),1),ln=40,un=25,$=1500,dn=300,fn=`Build `;function pn(e,n){let r=o(0),i=o(``),a=null,s=t(()=>{let t=e.value;return t.length===0?``:t[r.value%t.length]?.summary??``}),c=t(()=>fn+i.value);function l(){a!==null&&(clearTimeout(a),a=null)}function u(){if(!n.value||e.value.length===0)return;let t=s.value;i.value.length<t.length?(i.value=t.slice(0,i.value.length+1),a=setTimeout(u,ln)):a=setTimeout(f,$)}function f(){p()}function p(){n.value&&e.value.length!==0&&(i.value.length>0?(i.value=i.value.slice(0,-1),a=setTimeout(p,un)):(r.value=(r.value+1)%e.value.length,a=setTimeout(u,dn)))}function m(){l(),u()}function g(){l()}return h(n,e=>{e?m():g()},{immediate:!0}),d(()=>{l()}),{placeholder:c}}var mn=L(u({__name:`EmptyStateBuilderPrompt`,props:{projectId:{},parentFolderId:{}},emits:[`submit`,`startFromScratch`],setup(e,{emit:i}){let s=e,l=_e(),u=Ve(),d=D(),f=Se(),p=Z(),m=i,h=o(``),g=o(),_=o(null),{placeholder:ee}=pn(t(()=>(0,cn.default)(sn).slice(0,6)),t(()=>h.value.length===0));function b(){h.value.trim()&&m(`submit`,h.value)}function te(){f.track(`User clicked from scratch in empty state`),m(`startFromScratch`)}function ne(){Ae(Ne.emptyStateBuilderPrompt),l.push({name:J.TEMPLATES})}function S(){_.value?.click()}function C(){let e=_.value;if(!e?.files?.length)return;let t=new FileReader;t.onload=async()=>{let n=t.result;if(typeof n!=`string`){e.value=``;return}let r;try{r=JSON.parse(n)}catch{u.showMessage({title:d.baseText(`mainSidebar.showMessage.handleFileImport.title`),message:d.baseText(`mainSidebar.showMessage.handleFileImport.message`),type:`error`}),e.value=``;return}try{await p.createWorkflowFromImport(r,s.projectId,s.parentFolderId)}catch{u.showError(Error(d.baseText(`nodeView.couldntLoadWorkflow.invalidWorkflowObject`)),d.baseText(`nodeView.couldntImportWorkflow`))}finally{e.value=``}},t.readAsText(e.files[0])}return(e,t)=>(y(),r(`div`,{class:w(e.$style.container)},[T(`input`,{ref_key:`importFileRef`,ref:_,type:`file`,accept:`.json`,style:{display:`none`},onChange:C},null,544),T(`p`,{class:w(e.$style.subtitle)},n(a(d).baseText(`emptyStateBuilderPrompt.subtitle`)),3),T(`div`,{class:w(e.$style.promptInput)},[c(a(F),{ref_key:`promptInputRef`,ref:g,modelValue:h.value,"onUpdate:modelValue":t[0]||=e=>h.value=e,placeholder:a(ee),"min-lines":4,"button-label":a(d).baseText(`emptyStateBuilderPrompt.buildWorkflow`),"data-test-id":`empty-state-builder-prompt-input`,autofocus:``,onSubmit:b},null,8,[`modelValue`,`placeholder`,`button-label`])],2),T(`div`,{class:w(e.$style.footer)},[T(`div`,{class:w(e.$style.alternativeActions)},[T(`span`,{class:w(e.$style.startWithText)},n(a(d).baseText(`emptyStateBuilderPrompt.orStartWith`)),3),c(a(A),{content:a(d).baseText(`emptyStateBuilderPrompt.fromScratchTooltip`)},{default:v(()=>[c(a(k),{variant:`subtle`,size:`small`,icon:`play`,onClick:te},{default:v(()=>[x(n(a(d).baseText(`emptyStateBuilderPrompt.fromScratch`)),1)]),_:1})]),_:1},8,[`content`]),c(a(A),{content:a(d).baseText(`emptyStateBuilderPrompt.templateTooltip`)},{default:v(()=>[c(a(k),{variant:`subtle`,size:`small`,icon:`layout-template`,onClick:ne},{default:v(()=>[x(n(a(d).baseText(`emptyStateBuilderPrompt.template`)),1)]),_:1})]),_:1},8,[`content`]),c(a(A),{content:a(d).baseText(`emptyStateBuilderPrompt.importFromFileTooltip`)},{default:v(()=>[c(a(k),{variant:`subtle`,size:`small`,icon:`upload`,onClick:S},{default:v(()=>[x(n(a(d).baseText(`emptyStateBuilderPrompt.importFromFile`)),1)]),_:1})]),_:1},8,[`content`])],2)],2)],2))}}),[[`__cssModules`,{$style:{container:`_container_1wank_125`,subtitle:`_subtitle_1wank_133`,promptInput:`_promptInput_1wank_139`,"el-tooltip__trigger":`_el-tooltip__trigger_1wank_143`,footer:`_footer_1wank_148`,alternativeActions:`_alternativeActions_1wank_155`,startWithText:`_startWithText_1wank_163`}}]]),hn=L(u({__name:`EmptyStateLayout`,emits:[`click:add`],setup(e,{emit:o}){let s=o,l=D(),u=se(),d=Ze(),p=ye(),h=mt(),g=Z(),ee=ht(),{showBuilderPrompt:b,showRecommendedTemplatesInline:te,builderHeading:ne,emptyStateHeading:S,emptyStateDescription:C,canCreateWorkflow:E}=on(),re=()=>{s(`click:add`)},ie=t(()=>ee.userCanClaimOpenAiCredits&&E.value),ae=async()=>{try{await ee.claimCreditsAndOpenWorkflow(`card`,A.value,O.value)}catch{}},oe=t(()=>({minHeight:`calc(100vh - ${d.bannersHeight}px)`})),O=t(()=>h.isOverviewSubPage?p.personalProject?.id:u.params.projectId),A=t(()=>u.params.folderId),ce=async e=>{await g.createWorkflowWithPrompt(e,O.value,A.value)};return(e,t)=>(y(),r(`div`,{class:w([e.$style.emptyStateLayout,{[e.$style.noTemplatesContent]:!a(te)&&!a(b),[e.$style.builderLayout]:a(b)}]),style:_(oe.value)},[T(`div`,{class:w([e.$style.content,{[e.$style.builderContent]:a(b)}])},[a(b)?(y(),r(m,{key:0},[T(`div`,{class:w(e.$style.welcomeBuilder)},[c(a(I),{tag:`h1`,size:`xlarge`},{default:v(()=>[x(n(a(ne)),1)]),_:1})],2),c(mn,{"data-test-id":`empty-state-builder-prompt`,"project-id":O.value,"parent-folder-id":A.value,onSubmit:ce,onStartFromScratch:re},null,8,[`project-id`,`parent-folder-id`])],64)):a(te)?(y(),r(m,{key:1},[c(a(I),{tag:`h1`,size:`2xlarge`,bold:``,class:w(e.$style.welcomeTitle)},{default:v(()=>[x(n(a(S)),1)]),_:1},8,[`class`]),T(`div`,{class:w(e.$style.templatesSection)},[c(an),T(`div`,{class:w(e.$style.orDivider)},[c(a(N),{size:`large`},{default:v(()=>[x(n(a(l).baseText(`generic.or`)),1)]),_:1})],2),T(`div`,{class:w(e.$style.actionButtons)},[c(xt,{type:`secondary`,size:`large`}),c(a(k),{variant:`subtle`,icon:`file`,size:`large`,"data-test-id":`start-from-scratch-button`,onClick:re},{default:v(()=>[x(n(a(l).baseText(`workflows.empty.startFromScratch`)),1)]),_:1})],2)],2)],64)):(y(),r(m,{key:2},[c(a(I),{tag:`h1`,size:`2xlarge`,bold:``,class:w(e.$style.welcomeTitle)},{default:v(()=>[x(n(a(S)),1)]),_:1},8,[`class`]),T(`div`,{class:w(e.$style.fallbackContent)},[c(a(N),{tag:`p`,size:`large`,color:`text-base`},{default:v(()=>[x(n(a(C)),1)]),_:1}),a(E)?(y(),r(`div`,{key:0,class:w([e.$style.actionCardsContainer,{[e.$style.singleCard]:!ie.value}])},[ie.value?(y(),f(a(P),{key:0,class:w(e.$style.actionCard),hoverable:``,"data-test-id":`ready-to-run-card`,onClick:ae},{default:v(()=>[T(`div`,{class:w(e.$style.cardContent)},[c(a(M),{class:w(e.$style.cardIcon),icon:`zap`,color:`foreground-dark`,"stroke-width":1.5},null,8,[`class`]),c(a(N),{size:`large`,class:`mt-xs`},{default:v(()=>[x(n(a(l).baseText(`workflows.empty.tryAiWorkflow`)),1)]),_:1})],2)]),_:1},8,[`class`])):i(``,!0),c(a(P),{class:w(e.$style.actionCard),hoverable:``,"data-test-id":`new-workflow-card`,onClick:re},{default:v(()=>[T(`div`,{class:w(e.$style.cardContent)},[c(a(M),{class:w(e.$style.cardIcon),icon:`file`,color:`foreground-dark`,"stroke-width":1.5},null,8,[`class`]),c(a(N),{size:`large`,class:`mt-xs`},{default:v(()=>[x(n(a(l).baseText(`workflows.empty.startFromScratch`)),1)]),_:1})],2)]),_:1},8,[`class`])],2)):i(``,!0)],2)],64))],2)],6))}}),[[`__cssModules`,{$style:{emptyStateLayout:`_emptyStateLayout_1bn4b_125`,noTemplatesContent:`_noTemplatesContent_1bn4b_136`,builderLayout:`_builderLayout_1bn4b_139`,content:`_content_1bn4b_147`,builderContent:`_builderContent_1bn4b_154`,welcomeBuilder:`_welcomeBuilder_1bn4b_159`,welcomeTitle:`_welcomeTitle_1bn4b_163`,templatesSection:`_templatesSection_1bn4b_167`,fallbackContent:`_fallbackContent_1bn4b_171`,actionCardsContainer:`_actionCardsContainer_1bn4b_178`,singleCard:`_singleCard_1bn4b_185`,actionCard:`_actionCard_1bn4b_178`,cardIcon:`_cardIcon_1bn4b_209`,cardContent:`_cardContent_1bn4b_213`,orDivider:`_orDivider_1bn4b_229`,actionButtons:`_actionButtons_1bn4b_234`}}]]),gn=e(Qe(),1),_n={key:1},vn={class:`text-center mt-s`},yn={key:0,class:`mb-s`},bn={class:`mb-s`},xn={class:`mb-s`},Sn=300,Cn=100,wn=L(u({__name:`WorkflowsView`,setup(e){let l={ALL:``,ACTIVE:`active`,DEACTIVATED:`deactivated`},u={lastUpdated:`updatedAt:desc`,lastCreated:`createdAt:desc`,nameAsc:`name:asc`,nameDesc:`name:desc`},d=D(),g=se(),_=_e(),ee=Oe(),S=Ve(),C=Rt(),E=Re(),re=Le(),ie=Ie(),oe=Ee(),j=ze(),F=ye(),L=Se(),R=Fe(),ve=we(),z=et(),be=nt(),Ce=ct(),Te=gt(),De=Wt(),V=_t(),ke=dt(),Ae=ut(),Me=ht(),Ne=je(),{callDebounced:Be}=$e(),H=mt(),{showRecommendedTemplatesInline:He,emptyStateHeading:Ue,emptyStateDescription:We,readOnlyEnv:U,projectPermissions:Ge}=on(),W=o(!0),qe=o(!1),G=o({search:``,homeProject:``,status:l.ALL,showArchived:!1,tags:[]}),K=ue(),Je=ne(`resourcesListLayout`),Y=o([]),Ye=o(1),Xe=o(50),Ze=o(`updatedAt:desc`),X=o(null),Qe=o(!1),tt=t(()=>[{label:d.baseText(`generic.open`),value:B.OPEN,disabled:!1,onlyAvailableOn:`card`},{label:d.baseText(`folders.actions.create`),value:B.CREATE,disabled:U.value||!Et.value},{label:d.baseText(`folders.actions.create.workflow`),value:B.CREATE_WORKFLOW,disabled:U.value||!jt.value},{label:d.baseText(`generic.rename`),value:B.RENAME,disabled:U.value||!Ot.value},{label:d.baseText(`folders.actions.moveToFolder`),value:B.MOVE,disabled:U.value||!Ot.value},{label:d.baseText(`generic.delete`),value:B.DELETE,disabled:U.value||!kt.value}]),rt=t(()=>tt.value.filter(e=>!e.onlyAvailableOn||e.onlyAvailableOn===`card`)),at=t(()=>tt.value.filter(e=>!e.onlyAvailableOn||e.onlyAvailableOn===`mainBreadcrumbs`)),ot=t(()=>j.isEnterpriseFeatureEnabled[Ke.Sharing]),lt=t(()=>j.isFoldersFeatureEnabled),ft=t(()=>j.isModuleActive(`mcp`)&&j.moduleSettings.mcp?.mcpAccessEnabled),pt=t(()=>lt.value&&!H.isOverviewSubPage&&!H.isSharedSubPage),Z=t(()=>X.value?z.breadcrumbsCache[X.value]:null),xt=t(()=>Z.value?.parentFolder?z.breadcrumbsCache[Z.value.parentFolder]:null),Ct=t(()=>z.draggedElement!==null),wt=t(()=>!U.value&&Ot.value),Tt=t(()=>Je.value?.getScrollContainer?.()??null);Ft({isActive:t(()=>Ct.value&&wt.value),container:Tt});let Et=t(()=>Q.value?q(Q.value.scopes).folder.create===!0:!1),Ot=t(()=>Q.value?q(Q.value.scopes).folder.update===!0:!1),kt=t(()=>Q.value?q(Q.value.scopes).folder.delete===!0:!1),jt=t(()=>Q.value?q(Q.value.scopes).workflow.create===!0:!1),Q=t(()=>F.currentProject),Nt=t(()=>Q.value?.type===xe.Personal?d.baseText(`projects.menu.personal`):Q.value?.name),Pt=t(()=>Z.value?Z.value.name:Nt.value),It=t(()=>F.personalProject),Lt=t(()=>(Y.value||[]).map(e=>e.resource===`folder`?{resourceType:`folder`,id:e.id,name:e.name,createdAt:e.createdAt.toString(),updatedAt:e.updatedAt.toString(),homeProject:e.homeProject,workflowCount:e.workflowCount,subFolderCount:e.subFolderCount,parentFolder:e.parentFolder}:{resourceType:`workflow`,id:e.id,name:e.name,description:e.description,active:e.active??!1,activeVersionId:e.activeVersionId,isArchived:e.isArchived,updatedAt:e.updatedAt.toString(),createdAt:e.createdAt.toString(),homeProject:e.homeProject,scopes:e.scopes,sharedWithProjects:e.sharedWithProjects,readOnly:!q(e.scopes).workflow.update,tags:e.tags,parentFolder:e.parentFolder,settings:e.settings,hasResolvableCredentials:e.hasResolvableCredentials})),zt=t(()=>[{label:d.baseText(`workflows.filters.status.all`),value:l.ALL},{label:d.baseText(`workflows.filters.status.active`),value:l.ACTIVE},{label:d.baseText(`workflows.filters.status.deactivated`),value:l.DEACTIVATED}]),Bt=t(()=>{let e=V.isFeatureEnabled,t=V.isCalloutDismissed;return e&&!t&&!W.value&&!U.value&&(H.isOverviewSubPage||Et.value&&jt.value)}),Vt=t(()=>!!(G.value.search||G.value.status!==l.ALL||G.value.showArchived||G.value.tags.length)),Ht=t(()=>Y.value.length===0&&!Vt.value&&!G.value.showArchived&&z.totalWorkflowCount>0),Ut=t(()=>j.deploymentType===`default`),Kt=t(()=>q(re.currentUser?.globalScopes).community.register),qt=t(()=>Ut.value&&!lt.value&&Kt.value),Jt=t(()=>!W.value&&Te.isFeatureEnabled&&!Te.calloutDismissed&&!U.value&&(H.isOverviewSubPage||Et.value&&jt.value)),Yt=t(()=>!W.value&&De.isFeatureEnabled()),Zt=t(()=>!W.value&&Me.getSimplifiedLayoutVisibility(g)),Qt=t(()=>Jt.value||Yt.value||Bt.value),en=t(()=>!W.value&&!He.value&&!U.value&&Ge.value.workflow.create);h([()=>g.params?.projectId,()=>g.name],async()=>{W.value=!0}),h(()=>g.params?.folderId,async e=>{X.value=e,G.value.search=``,Tn(),await Promise.all([$(),z.fetchTotalWorkflowsAndFoldersCount(g.params.projectId,X.value??void 0)])}),E.$onAction(({name:e,after:t})=>{e===`pullWorkfolder`&&t(async()=>await un())});let tn=async()=>{await Promise.all([$(),z.fetchTotalWorkflowsAndFoldersCount(g.params.projectId,X.value??void 0)])},rn=async e=>{let t=z.getCachedFolder(e.folderId);z.deleteFoldersFromCache([e.folderId,t?.parentFolder??``]);let n=X.value===e.folderId?t?.parentFolder??null:X.value;await z.fetchTotalWorkflowsAndFoldersCount(g.params.projectId,n??void 0),X.value===e.folderId?_.push({name:J.PROJECTS_FOLDERS,params:{projectId:g.params.projectId,folderId:t?.parentFolder??``}}):await $(),L.track(`User deleted folder`,{folder_id:e.folderId,deleted_sub_folders:e.folderCount,deleted_sub_workflows:e.workflowCount})},sn=t(()=>H.isOverviewSubPage&&Ce.isSummaryEnabled&&(Lt.value.length>0||!ke.isFeatureEnabled()&&!Ae.isFeatureEnabled())),cn=t(()=>ke.isFeatureEnabled()&&!W.value),ln=t(()=>Ae.isFeatureEnabled()&&!W.value);p(async()=>{Ne.set(d.baseText(`workflows.heading`)),re.showPersonalizationSurvey(),K.on(`resource-moved`,$),K.on(`workflow-duplicated`,$),K.on(`folder-deleted`,rn),K.on(`folder-moved`,Xn),K.on(`folder-transferred`,Zn),K.on(`workflow-moved`,er),K.on(`workflow-transferred`,$n)}),s(()=>{K.off(`resource-moved`,$),K.off(`workflow-duplicated`,$),K.off(`folder-deleted`,rn),K.off(`folder-moved`,Xn),K.off(`folder-transferred`,Zn),K.off(`workflow-moved`,er),K.off(`workflow-transferred`,$n)});let un=async()=>{W.value=!0,await En(),X.value=g.params.folderId;let[e]=await Promise.all([$(),oe.fetchActiveWorkflows(),be.getLicenseInfo(),z.fetchTotalWorkflowsAndFoldersCount(g.params.projectId,X.value??void 0)]);qe.value=!1,Y.value=e,W.value=!1},$=async()=>{let e=(0,gn.default)(()=>{W.value=!0},300),t=g.params?.projectId,n=G.value.homeProject||void 0,r=g.params?.folderId||void 0,i=G.value.tags.length?G.value.tags.map(e=>ve.tagsById[e]?.name):[],a=G.value.status===l.ALL?void 0:G.value.status===l.ACTIVE,o=G.value.showArchived?void 0:!1,s=pt.value&&!i.length&&a===void 0;try{let e=await oe.fetchWorkflowsPage(t??n,Ye.value,Xe.value,Ze.value,{query:G.value.search||void 0,active:a,isArchived:o,tags:i.length?i:void 0,parentFolderId:dn(r)},s,H.isSharedSubPage);z.cacheFolders(e.filter(e=>e.resource===`folder`).map(e=>({id:e.id,name:e.name,parentFolder:e.parentFolder?.id})));let c=z.breadcrumbsCache[r??``]!==void 0;return r&&!c&&t&&(qe.value=!0,await z.getFolderPath(t,r),qe.value=!1),Y.value=e,Qe.value=H.isOverviewSubPage||H.isSharedSubPage||G.value.search!==``,e}catch(e){return S.showError(e,d.baseText(`workflows.list.error.fetching`)),_.push({name:J.PROJECTS_FOLDERS,params:{projectId:t}}),[]}finally{e.cancel(),W.value=!1,qe.value&&=!1}},dn=e=>{if(e!=null)return e;if(!(H.isOverviewSubPage||H.isSharedSubPage||G?.value.search))return`0`},fn=async()=>{Ye.value=1,Tn(),W.value||await Be($,{debounceTime:Cn,trailing:!0})},pn=async e=>{Ye.value=1,Tn(),e?await Be($,{debounceTime:Sn,trailing:!0}):await $()},mn=async e=>{e.page&&(Ye.value=e.page),e.pageSize&&(Xe.value=e.pageSize),e.sort&&(Ze.value=u[e.sort]??`updatedAt:desc`),W.value||await Be($,{debounceTime:Cn,trailing:!0})},wn=async e=>{G.value.tags.includes(e)||(G.value.tags.push(e),Ye.value=1,Tn(),await $())},Tn=()=>{let e={...g.query};G.value.search?e.search=G.value.search:delete e.search,G.value.status===l.ALL?delete e.status:e.status=(G.value.status===l.ACTIVE).toString(),G.value.showArchived?e.showArchived=`true`:delete e.showArchived,G.value.tags.length?e.tags=G.value.tags.join(`,`):delete e.tags,G.value.homeProject?e.homeProject=G.value.homeProject:delete e.homeProject,_.replace({query:Object.keys(e).length?e:void 0})},En=async()=>{let e={...g.query},{tags:t,status:n,search:r,homeProject:i,sort:a,showArchived:o}=g.query??{},s=e=>typeof e==`string`&&e.trim().length>0;if(s(i)?(await F.getAvailableProjects(),kn(i)?(e.homeProject=i,G.value.homeProject=i):delete e.homeProject):delete e.homeProject,s(r)?(e.search=r,G.value.search=r):delete e.search,s(t)){await ve.fetchAll();let n=t.split(`,`).filter(e=>ve.allTags.map(e=>e.id).includes(e));n.length?(e.tags=n.join(`,`),G.value.tags=n):delete e.tags}else delete e.tags;if(s(n)?(e.status=n,G.value.status=n===`true`?l.ACTIVE:l.DEACTIVATED):delete e.status,s(a)){let t=u[a]??`updatedAt:desc`;e.sort=a,Ze.value=t}else delete e.sort;s(o)?(e.showArchived=o,G.value.showArchived=o===`true`):(delete e.showArchived,G.value.showArchived=!1),_.replace({query:e})},Dn=()=>{R.nodeViewInitialized=!1,_.push({name:J.NEW_WORKFLOW,query:{projectId:g.params?.projectId,parentFolderId:g.params?.folderId}}),L.track(`User clicked add workflow button`,{source:`Workflows list`}),On(`blank`)},On=e=>{L.track(`User clicked empty page option`,{option:e})};function kn(e){return F.availableProjects.some(t=>t.id===e)}let An=async e=>{try{let t=H.isOverviewSubPage?It.value?.id:g.params.projectId;if(typeof t!=`string`){S.showError(Error(),d.baseText(`workflows.ai.starter.collection.error`));return}let n=await Te.createStarterWorkflows(t,X.value??void 0);H.isOverviewSubPage?await _.push({name:J.PROJECTS_FOLDERS,params:{projectId:t,folderId:n.id}}):Y.value.unshift({id:n.id,name:n.name,resource:`folder`,createdAt:n.createdAt,updatedAt:n.updatedAt,subFolderCount:0,workflowCount:3,parentFolder:n.parentFolder}),Te.trackUserCreatedStarterCollection(e)}catch(e){S.showError(e,d.baseText(`workflows.ai.starter.collection.error`));return}},jn=async e=>{try{let t=H.isOverviewSubPage?It.value?.id:g.params.projectId;if(typeof t!=`string`){S.showError(Error(),d.baseText(`workflows.readyToRunWorkflows.error`));return}let n=await V.createWorkflows(t,X.value??void 0);V.trackCreateWorkflows(e),H.isOverviewSubPage?await _.push({name:J.PROJECTS_FOLDERS,params:{projectId:t,folderId:n.id}}):Y.value.unshift({id:n.id,name:n.name,resource:`folder`,createdAt:n.createdAt,updatedAt:n.updatedAt,subFolderCount:0,workflowCount:4,parentFolder:n.parentFolder})}catch(e){S.showError(e,d.baseText(`workflows.readyToRunWorkflows.error`));return}},Mn=()=>{Te.dismissCallout(),Te.trackUserDismissedCallout()},Nn=async()=>{G.value.showArchived=!0,await fn()},Pn=()=>{V.dismissCallout(),V.trackDismissCallout()},Fn=async e=>{let t=Y.value.find(t=>t.id===e.id);if(t){t.active=e.active,t.activeVersionId=e.active?t.versionId:null;try{let n=await oe.fetchWorkflow(e.id);n.settings&&(t.settings=n.settings)}catch(e){S.showError(e,d.baseText(`workflows.list.error.fetching.one`))}}},In=async e=>{let t=Y.value.find(t=>t.id===e.id);t&&(t.activeVersionId=null)},Ln=e=>Y.value.find(t=>t.resource===`folder`&&t.id===e),Rn=async e=>{let t=Ln(e);if(t)return{workflowCount:t.workflowCount,subFolderCount:t.subFolderCount};try{let t=await z.fetchFolderContent(Q.value?.id??``,e);return{workflowCount:t.totalWorkflows,subFolderCount:t.totalSubFolders}}catch{return S.showMessage({title:d.baseText(`folders.delete.error.message`),message:d.baseText(`folders.not.found.message`),type:`error`}),{workflowCount:0,subFolderCount:0}}},zn=async e=>{let{draggedResource:t,dropTarget:n}=C.handleDrop(e);!t||!n||await Hn(t,n)},Bn=async e=>{z.draggedElement&&(await Hn({id:z.draggedElement.id,type:z.draggedElement.type,name:z.draggedElement.name},{id:e.id,type:`folder`,name:e.label}),C.onDragEnd())},Vn=async(e,t)=>{z.draggedElement&&(await Hn({id:z.draggedElement.id,type:z.draggedElement.type,name:z.draggedElement.name},{id:e,type:`project`,name:t}),C.onDragEnd())},Hn=async(e,t)=>{if(e.type===`folder`){await Xn({folder:{id:e.id,name:e.name},newParent:{id:t.id,name:t.name,type:t.type},options:{skipFetch:!0,skipNavigation:!0}}),Y.value=Y.value.filter(t=>t.id!==e.id);let n=Ln(t.id);n&&(n.subFolderCount+=1)}else if(e.type===`workflow`){await er({workflow:{id:e.id,name:e.name,oldParentId:X.value??``},newParent:{id:t.id,name:t.name,type:t.type},options:{skipFetch:!0}}),Y.value=Y.value.filter(t=>t.id!==e.id);let n=Ln(t.id);n&&(n.workflowCount+=1)}},Un=e=>{e.href&&(W.value=!0,_.push(e.href).then(()=>{X.value=e.id,W.value=!1}).catch(e=>{S.showError(e,d.baseText(`folders.open.error.title`))}))},Wn=async e=>{switch(e){case B.CREATE:if(!g.params.projectId)return;let e=Z.value?.name||Nt.value;if(!e)return;await Kn({id:g.params.folderId??`-1`,name:e,type:Z.value?`folder`:`project`});break;case B.CREATE_WORKFLOW:Dn();break;case B.DELETE:if(!g.params.folderId)return;let t=await Rn(g.params.folderId);await Yn(g.params.folderId,t.workflowCount,t.subFolderCount);break;case B.RENAME:rr();break;case B.MOVE:if(!Z.value)return;R.openMoveToFolderModal(`folder`,{id:Z.value?.id,name:Z.value?.name,parentFolderId:Z.value?.parentFolder},K);break;default:break}},Gn=async e=>{let t=z.getCachedFolder(e.folderId);if(t)switch(e.action){case B.CREATE:await Kn({id:t.id,name:t.name,type:`folder`},{openAfterCreate:!0});break;case B.CREATE_WORKFLOW:X.value=t.id,_.push({name:J.NEW_WORKFLOW,query:{projectId:g.params?.projectId,parentFolderId:t.id}});break;case B.DELETE:{let e=await Rn(t.id);await Yn(t.id,e.workflowCount,e.subFolderCount);break}case B.RENAME:await qn(t.id);break;case B.MOVE:R.openMoveToFolderModal(`folder`,{id:t.id,name:t.name,parentFolderId:t.parentFolder},K);break;default:break}},Kn=async(e,t={openAfterCreate:!1})=>{let n=await ee.prompt(d.baseText(`folders.add.to.parent.message`,{interpolate:{parent:e.name}}),{confirmButtonText:d.baseText(`generic.create`),cancelButtonText:d.baseText(`generic.cancel`),inputValidator:C.validateFolderName,customClass:`add-folder-modal`});if(n.action===`confirm`){let r=n.value;try{let n=await z.createFolder(r,g.params.projectId,e.type===`folder`?e.id:void 0),i=_.resolve({name:J.PROJECTS_FOLDERS,params:{projectId:g.params.projectId,folderId:n.id}}).href;S.showToast({title:d.baseText(`folders.add.success.title`),message:d.baseText(`folders.add.success.message`,{interpolate:{link:i,folderName:n.name}}),onClick:e=>{e?.target instanceof HTMLAnchorElement&&(e.preventDefault(),_.push(i))},type:`success`}),L.track(`User created folder`,{folder_id:n.id}),t.openAfterCreate?await _.push({name:J.PROJECTS_FOLDERS,params:{projectId:g.params.projectId,folderId:e.id}}):Y.value.length?await $():(Y.value=[{id:n.id,name:n.name,resource:`folder`,createdAt:n.createdAt,updatedAt:n.updatedAt,homeProject:F.currentProject,workflowCount:0,subFolderCount:0}],z.cacheFolders([{id:n.id,name:n.name,parentFolder:Z.value?.id}]))}catch(e){S.showError(e,d.baseText(`folders.create.error.title`))}}},qn=async e=>{let t=z.getCachedFolder(e);if(!t||!Q.value)return;let n=await ee.prompt(d.baseText(`folders.rename.message`,{interpolate:{folderName:t.name}}),{confirmButtonText:d.baseText(`generic.rename`),cancelButtonText:d.baseText(`generic.cancel`),inputValue:t.name,customClass:`rename-folder-modal`,inputValidator:C.validateFolderName});if(n.action===`confirm`){let t=n.value;try{await z.renameFolder(Q.value?.id,e,t),z.breadcrumbsCache[e].name=t,S.showMessage({title:d.baseText(`folders.rename.success.message`,{interpolate:{folderName:t}}),type:`success`}),await $(),L.track(`User renamed folder`,{folder_id:e})}catch(e){S.showError(e,d.baseText(`folders.rename.error.title`))}}},Jn=async()=>{if(qt.value){R.openModalWithData({name:Pe,data:{customHeading:d.baseText(`folders.registeredCommunity.cta.heading`)}});return}if(!g.params.projectId)return;let e=Z.value?.name||Nt.value;e&&await Kn({id:g.params.folderId??`-1`,name:e,type:Z.value?`folder`:`project`})},Yn=async(e,t,n)=>{n||t?R.openDeleteFolderModal(e,K,{workflowCount:t,subFolderCount:n}):(await z.deleteFolder(g.params.projectId,e),S.showMessage({title:d.baseText(`folders.delete.success.message`),type:`success`}),await rn({folderId:e,workflowCount:t,folderCount:n}))},Xn=async e=>{if(g.params.projectId){W.value=!0;try{e.options?.skipApiCall||await z.moveFolder(g.params.projectId,e.folder.id,e.newParent.type===`folder`?e.newParent.id:`0`);let t=X.value===e.folder.id,n=_.resolve({name:J.PROJECTS_FOLDERS,params:{projectId:g.params.projectId,folderId:e.newParent.type===`folder`?e.newParent.id:void 0}}).href;t&&!e.options?.skipNavigation?(_.push(n),S.showMessage({title:d.baseText(`folders.move.success.title`),message:d.baseText(`folders.move.success.messageNoAccess`,{interpolate:{folderName:e.folder.name,newFolderName:e.newParent.name}}),type:`success`})):(S.showToast({title:d.baseText(`folders.move.success.title`),message:d.baseText(`folders.move.success.message`,{interpolate:{folderName:e.folder.name,newFolderName:e.newParent.name}}),onClick:e=>{e?.target instanceof HTMLAnchorElement&&(e.preventDefault(),_.push(n))},type:`success`}),e.options?.skipFetch||await $())}catch(e){S.showError(e,d.baseText(`folders.move.error.title`))}finally{W.value=!1}}},Zn=async e=>{W.value=!0;try{let t=X.value===e.source.folder.id,n=_.resolve({name:J.PROJECTS_FOLDERS,params:{projectId:e.destination.canAccess?e.destination.projectId:e.source.projectId,folderId:e.destination.canAccess?e.source.folder.id:void 0}}).href;t?e.destination.canAccess?_.push(n):_.push({name:J.PROJECTS_WORKFLOWS,params:{projectId:e.source.projectId}}):(await tn(),e.destination.canAccess?S.showToast({title:d.baseText(`folders.move.success.title`),message:d.baseText(`folders.move.success.message`,{interpolate:{folderName:e.source.folder.name,newFolderName:e.destination.parentFolder.name}}),onClick:e=>{e?.target instanceof HTMLAnchorElement&&(e.preventDefault(),_.push(n))},type:`success`}):S.showToast({title:d.baseText(`folders.move.success.title`),message:d.baseText(`folders.move.success.messageNoAccess`,{interpolate:{folderName:e.source.folder.name,newFolderName:e.destination.parentFolder.name}}),type:`success`}))}catch(e){S.showError(e,d.baseText(`folders.move.error.title`))}finally{W.value=!1}},Qn=async e=>{if(qt.value){R.openModalWithData({name:Pe,data:{customHeading:d.baseText(`folders.registeredCommunity.cta.heading`)}});return}R.openMoveToFolderModal(`workflow`,{id:e.id,name:e.name,parentFolderId:e.parentFolderId,sharedWithProjects:e.sharedWithProjects,homeProjectId:e.homeProjectId},K)},$n=async e=>{W.value=!0;try{await tn(),e.destination.canAccess?S.showToast({title:d.baseText(`folders.move.workflow.success.title`),message:d.baseText(`folders.move.workflow.success.message`,{interpolate:{workflowName:e.source.workflow.name,newFolderName:e.destination.parentFolder.name}}),onClick:t=>{t?.target instanceof HTMLAnchorElement&&(t.preventDefault(),_.push({name:J.PROJECTS_FOLDERS,params:{projectId:e.destination.projectId,folderId:e.destination.parentFolder.id}}))},type:`success`}):S.showToast({title:d.baseText(`folders.move.workflow.success.title`),message:d.baseText(`folders.move.workflow.success.messageNoAccess`,{interpolate:{workflowName:e.source.workflow.name,newFolderName:e.destination.parentFolder.name}}),type:`success`})}catch(e){S.showError(e,d.baseText(`folders.move.workflow.error.title`))}finally{W.value=!1}},er=async e=>{if(g.params.projectId){W.value=!0;try{let t=_.resolve({name:J.PROJECTS_FOLDERS,params:{projectId:g.params.projectId,folderId:e.newParent.type===`folder`?e.newParent.id:void 0}}).href;if(!e.options?.skipApiCall){let t=Y.value.find(t=>t.id===e.workflow.id);await ie.updateWorkflow(e.workflow.id,{parentFolderId:e.newParent.type===`folder`?e.newParent.id:`0`,versionId:t?.versionId})}e.options?.skipFetch||await $(),S.showToast({title:d.baseText(`folders.move.workflow.success.title`),message:d.baseText(`folders.move.workflow.success.message`,{interpolate:{workflowName:e.workflow.name,newFolderName:e.newParent.name}}),onClick:e=>{e?.target instanceof HTMLAnchorElement&&(e.preventDefault(),_.push(t))},type:`success`}),L.track(`User moved content`,{workflow_id:e.workflow.id,source_folder_id:e.workflow.oldParentId,destination_folder_id:e.newParent.id})}catch(e){S.showError(e,d.baseText(`folders.move.workflow.error.title`))}finally{W.value=!1}}},tr=()=>{_.push({name:J.NEW_WORKFLOW,query:{projectId:Q.value?.id,parentFolderId:g.params.folderId}})},nr=ne(`renameInput`);function rr(){setTimeout(()=>{nr.value?.forceFocus&&nr.value.forceFocus()},0)}let ir=async e=>{if(!Z.value||!Q.value)return;let t=e.trim();if(!t){S.showMessage({title:d.baseText(`renameAction.emptyName.title`),message:d.baseText(`renameAction.emptyName.message`),type:`error`});return}if(t===Z.value.name){nr.value?.forceCancel();return}let n=C.validateFolderName(t);if(typeof n==`string`){S.showMessage({title:d.baseText(`renameAction.invalidName.title`),message:n,type:`error`}),nr.value?.forceCancel();return}else try{await z.renameFolder(Q.value?.id,Z.value.id,t),z.breadcrumbsCache[Z.value.id].name=t,S.showMessage({title:d.baseText(`folders.rename.success.message`,{interpolate:{folderName:t}}),type:`success`}),L.track(`User renamed folder`,{folder_id:Z.value.id})}catch(e){S.showError(e,d.baseText(`folders.rename.error.title`)),nr.value?.forceCancel()}};return(e,t)=>Zt.value?(y(),f(hn,{key:0,"onClick:add":Dn})):(y(),f(bt,{key:1,ref:`resourcesListLayout`,filters:G.value,"onUpdate:filters":[t[3]||=e=>G.value=e,fn],"resource-key":`workflows`,type:`list-paginated`,resources:Lt.value,"type-props":{itemSize:80},shareable:ot.value,initialize:un,disabled:a(U)||!a(Ge).workflow.create,loading:!1,"resources-refreshing":W.value,"custom-page-size":a(50),"total-items":a(oe).totalWorkflowCount,"dont-perform-sorting-and-filtering":!0,"has-empty-state":a(z).totalWorkflowCount===0&&!X.value,"onClick:add":Dn,"onUpdate:search":pn,"onUpdate:paginationAndSort":mn,onMouseleave:a(C).resetDropTarget},te({header:v(()=>[c(St,{"has-active-callouts":Qt.value,onCreateFolder:Jn},{default:v(()=>[sn.value?(y(),f(Dt,{key:0,loading:a(Ce).weeklySummary.isLoading,summary:a(Ce).weeklySummary.state,"time-range":`week`},null,8,[`loading`,`summary`])):i(``,!0)]),_:1},8,[`has-active-callouts`])]),callout:v(()=>[Jt.value?(y(),f(a(ae),{key:0,theme:`secondary`,icon:`gift`,class:w(e.$style[`easy-ai-workflow-callout`])},{trailingContent:v(()=>[T(`div`,{class:w(e.$style[`callout-trailing-content`])},[c(a(k),{variant:`subtle`,"data-test-id":`easy-ai-button`,size:`small`,onClick:t[0]||=e=>An(`callout`)},{default:v(()=>[x(n(a(d).baseText(`generic.startNow`)),1)]),_:1}),c(a(M),{size:`small`,icon:`x`,title:a(d).baseText(`generic.dismiss`),class:`clickable`,onClick:Mn},null,8,[`title`])],2)]),default:v(()=>[x(n(a(d).baseText(`workflows.ai.starter.collection.callout`))+` `,1)]),_:1},8,[`class`])):Yt.value?(y(),f(Xt,{key:1},{default:v(()=>[(y(!0),r(m,null,b(a(De).suggestedWorkflows,e=>(y(),f(Gt,{key:e.id,"data-test-id":`resource-list-item-suggested-workflow`,data:{id:e.id,name:e.name}},null,8,[`data`]))),128))]),_:1})):i(``,!0),Bt.value?(y(),f(a(ae),{key:2,theme:`secondary`,icon:`bolt-filled`,class:w(e.$style[`easy-ai-workflow-callout`])},{trailingContent:v(()=>[T(`div`,{class:w(e.$style[`callout-trailing-content`])},[c(a(k),{variant:`subtle`,"data-test-id":`easy-ai-button`,size:`small`,onClick:t[1]||=e=>jn(`callout`)},{default:v(()=>[x(n(a(d).baseText(`generic.startNow`)),1)]),_:1}),c(a(M),{size:`small`,icon:`x`,title:a(d).baseText(`generic.dismiss`),class:`clickable`,onClick:Pn},null,8,[`title`])],2)]),default:v(()=>[x(n(a(V).getCalloutText())+` `,1)]),_:1},8,[`class`])):i(``,!0)]),breadcrumbs:v(()=>[qe.value?(y(),r(`div`,{key:0,class:w(e.$style[`breadcrumbs-loading`])},[c(a(O),{loading:qe.value,rows:1,variant:`p`},null,8,[`loading`])],2)):pt.value&&Z.value?(y(),r(`div`,{key:1,class:w(e.$style[`breadcrumbs-container`]),"data-test-id":`main-breadcrumbs`},[c(vt,{"current-folder":xt.value,actions:at.value,"hidden-items-trigger":Ct.value?`hover`:`click`,"current-folder-as-link":!0,onItemSelected:Un,onAction:Wn,onItemDrop:Bn,onProjectDrop:Vn},{append:v(()=>[T(`span`,{class:w(e.$style[`path-separator`])},`/`,2),(y(),f(a(de),{ref_key:`renameInput`,ref:nr,key:Z.value?.id,"data-test-id":`breadcrumbs-item-current`,placeholder:a(d).baseText(`folders.rename.placeholder`),"model-value":Z.value.name,"max-length":30,"read-only":a(U)||!Ot.value,class:w({[e.$style.name]:!0,[e.$style[`pointer-disabled`]]:Ct.value}),"onUpdate:modelValue":ir},null,8,[`placeholder`,`model-value`,`read-only`,`class`]))]),_:1},8,[`current-folder`,`actions`,`hidden-items-trigger`])],2)):i(``,!0)]),item:v(({item:r,index:i})=>[r.resourceType===`folder`?(y(),f(it,{key:`folder-${i}`,disabled:!wt.value,type:`move`,"target-data-key":`folder`,onDragstart:a(C).onDragStart,onDragend:a(C).onDragEnd},{preview:v(()=>[c(a(P),null,{default:v(()=>[c(a(N),{tag:`h2`,bold:``},{default:v(()=>[x(n(r.name),1)]),_:2},1024)]),_:2},1024)]),default:v(()=>[c(At,{data:r,actions:rt.value,"read-only":a(U)||!kt.value&&!Et.value,"personal-project":It.value,"data-resourceid":r.id,"data-resourcename":r.name,class:w([{"mb-2xs":!0,[e.$style[`drag-active`]]:Ct.value,[e.$style.dragging]:a(z).draggedElement?.type===`folder`&&a(z).draggedElement?.id===r.id,[e.$style[`drop-active`]]:a(z).activeDropTarget?.id===r.id},`mb-2xs`]),"show-ownership-badge":Qe.value,"data-target":`folder`,"data-droppable":``,onAction:Gn,onMouseenter:a(C).onDragEnter,onMouseup:zn},null,8,[`data`,`actions`,`read-only`,`personal-project`,`data-resourceid`,`data-resourcename`,`class`,`show-ownership-badge`,`onMouseenter`])]),_:2},1032,[`disabled`,`onDragstart`,`onDragend`])):(y(),f(it,{key:`workflow-${i}`,disabled:!wt.value,type:`move`,"target-data-key":`workflow`,onDragstart:a(C).onDragStart,onDragend:a(C).onDragEnd},{preview:v(()=>[c(a(P),null,{default:v(()=>[c(a(N),{tag:`h2`,bold:``},{default:v(()=>[x(n(r.name),1)]),_:2},1024)]),_:2},1024)]),default:v(()=>[c(Mt,{"data-test-id":`resources-list-item-workflow`,"data-target":`workflow`,class:w({"mb-2xs":!0,[e.$style[`drag-active`]]:Ct.value,[e.$style.dragging]:a(z).draggedElement?.type===`workflow`&&a(z).draggedElement?.id===r.id}),data:r,"workflow-list-event-bus":a(K),"read-only":a(U),"data-resourceid":r.id,"data-resourcename":r.name,"show-ownership-badge":Qe.value,"are-folders-enabled":a(j).isFoldersFeatureEnabled,"are-tags-enabled":a(j).areTagsEnabled,"is-mcp-enabled":ft.value,"onClick:tag":wn,"onWorkflow:deleted":tn,"onWorkflow:archived":tn,"onWorkflow:unarchived":tn,"onWorkflow:moved":$,"onWorkflow:duplicated":$,"onWorkflow:unpublished":In,"onWorkflow:activeToggle":Fn,"onAction:moveToFolder":Qn,onMouseenter:t[2]||=e=>Ct.value?a(C).resetDropTarget():{}},null,8,[`class`,`data`,`workflow-list-event-bus`,`read-only`,`data-resourceid`,`data-resourcename`,`show-ownership-badge`,`are-folders-enabled`,`are-tags-enabled`,`is-mcp-enabled`])]),_:2},1032,[`disabled`,`onDragstart`,`onDragend`]))]),empty:v(()=>[a(H).isSharedSubPage&&It.value?(y(),f(yt,{key:0,"personal-project":It.value,"resource-type":`workflows`},null,8,[`personal-project`])):(y(),r(`div`,_n,[a(He)?(y(),r(`div`,{key:0,class:w(e.$style.templatesContainer)},[c(an)],2)):(y(),r(`div`,{key:1,class:w(e.$style.emptyStateNoTemplates),"data-test-id":`list-empty-state`},[T(`div`,vn,[c(a(I),{tag:`h2`,size:`xlarge`,class:`mb-2xs`},{default:v(()=>[x(n(a(Ue)),1)]),_:1}),c(a(N),{size:`large`,color:`text-base`},{default:v(()=>[x(n(a(We)),1)]),_:1})]),en.value?(y(),f(a(P),{key:0,class:w(e.$style.emptyStateCard),hoverable:``,"data-test-id":`new-workflow-card`,onClick:Dn},{default:v(()=>[T(`div`,{class:w(e.$style.emptyStateCardContent)},[c(a(M),{class:w(e.$style.emptyStateCardIcon),icon:`file`,color:`foreground-dark`,"stroke-width":1.5},null,8,[`class`]),c(a(N),{size:`large`,class:`mt-xs`},{default:v(()=>[x(n(a(d).baseText(`workflows.empty.startFromScratch`)),1)]),_:1})],2)]),_:1},8,[`class`])):i(``,!0)],2)),ln.value?(y(),f(nn,{key:2})):cn.value?(y(),f($t,{key:3})):i(``,!0)]))]),filters:v(({setKeyValue:e})=>[a(j).areTagsEnabled?(y(),r(`div`,yn,[c(a(me),{label:a(d).baseText(`workflows.filters.tags`),bold:!1,size:`small`,color:`text-base`,class:`mb-3xs`},null,8,[`label`]),c(st,{placeholder:a(d).baseText(`workflowOpen.filterWorkflows`),"model-value":G.value.tags,"create-enabled":!1,"onUpdate:modelValue":t=>e(`tags`,t)},null,8,[`placeholder`,`model-value`,`onUpdate:modelValue`])])):i(``,!0),T(`div`,bn,[c(a(me),{label:a(d).baseText(`workflows.filters.status`),bold:!1,size:`small`,color:`text-base`,class:`mb-3xs`},null,8,[`label`]),c(a(fe),{"data-test-id":`status-dropdown`,"model-value":G.value.status,"onUpdate:modelValue":t=>e(`status`,t)},{default:v(()=>[(y(!0),r(m,null,b(zt.value,e=>(y(),f(a(he),{key:e.label,label:e.label,value:e.value,"data-test-id":`status`},null,8,[`label`,`value`]))),128))]),_:1},8,[`model-value`,`onUpdate:modelValue`])]),T(`div`,xn,[c(a(ge),{label:a(d).baseText(`workflows.filters.showArchived`),"model-value":G.value.showArchived||!1,"data-test-id":`show-archived-checkbox`,"onUpdate:modelValue":t=>e(`showArchived`,t)},null,8,[`label`,`model-value`,`onUpdate:modelValue`])])]),postamble:v(()=>[Y.value.length===0&&!Vt.value?(y(),r(`div`,{key:0,class:w(e.$style[`empty-folder-container`]),"data-test-id":`empty-folder-container`},[Ht.value?(y(),f(a(le),{key:0,bold:!1},{default:v(()=>[x(n(a(d).baseText(`workflows.archivedOnly.hint`))+` `,1),c(a(pe),{size:`small`,"data-test-id":`show-archived-link`,onClick:Nn},{default:v(()=>[x(n(a(d).baseText(`workflows.archivedOnly.hint.link`)),1)]),_:1})]),_:1})):i(``,!0),a(H).isSharedSubPage&&It.value?(y(),f(yt,{key:1,"personal-project":It.value,"resource-type":`workflows`},null,8,[`personal-project`])):Z.value?(y(),f(a(ce),{key:2,"data-test-id":`empty-folder-action-box`,heading:a(d).baseText(`folders.empty.actionbox.title`,{interpolate:{folderName:Z.value.name}}),"button-text":a(d).baseText(`generic.create.workflow`),"button-type":`secondary`,"button-disabled":a(U)||!a(Ge).workflow.create,"onClick:button":tr},{disabledButtonTooltip:v(()=>[x(n(a(U)?a(d).baseText(`readOnlyEnv.cantAdd.workflow`):a(d).baseText(`generic.missing.permissions`)),1)]),_:1},8,[`heading`,`button-text`,`button-disabled`])):i(``,!0)],2)):i(``,!0),a(He)&&Ht.value?(y(),r(`div`,{key:1,class:w(e.$style.templatesContainer)},[c(an)],2)):i(``,!0)]),_:2},[pt.value||qt.value?{name:`add-button`,fn:v(()=>[c(a(A),{placement:`top`,disabled:!qt.value&&(a(U)||!Et.value)},{content:v(()=>[T(`span`,null,n(Pt.value?a(d).baseText(`folders.add.to.parent.message`,{interpolate:{parent:Pt.value}}):a(d).baseText(`folders.add.here.message`)),1)]),default:v(()=>[c(a(k),{variant:`outline`,size:`small`,iconOnly:``,icon:`folder-plus`,"data-test-id":`add-folder-button`,class:w(e.$style[`add-folder-button`]),disabled:!qt.value&&(a(U)||!Et.value),onClick:Jn},null,8,[`class`,`disabled`])]),_:1},8,[`disabled`])]),key:`0`}:void 0]),1032,[`filters`,`resources`,`shareable`,`disabled`,`resources-refreshing`,`custom-page-size`,`total-items`,`has-empty-state`,`onMouseleave`]))}}),[[`__cssModules`,{$style:{templatesContainer:`_templatesContainer_152id_125`,"easy-ai-workflow-callout":`_easy-ai-workflow-callout_152id_134`,"callout-trailing-content":`_callout-trailing-content_152id_139`,emptyStateCard:`_emptyStateCard_152id_145`,emptyStateCardContent:`_emptyStateCardContent_152id_158`,emptyStateCardIcon:`_emptyStateCardIcon_152id_165`,emptyStateNoTemplates:`_emptyStateNoTemplates_152id_172`,"add-folder-button":`_add-folder-button_152id_180`,"breadcrumbs-container":`_breadcrumbs-container_152id_185`,"breadcrumbs-loading":`_breadcrumbs-loading_152id_191`,"empty-folder-container":`_empty-folder-container_152id_197`,"drag-active":`_drag-active_152id_201`,dragging:`_dragging_152id_206`,"drop-active":`_drop-active_152id_213`,"path-separator":`_path-separator_152id_218`,name:`_name_152id_224`,"pointer-disabled":`_pointer-disabled_152id_230`}}]]);export{wn as default};
//# sourceMappingURL=WorkflowsView-CtZOJ_08.js.map