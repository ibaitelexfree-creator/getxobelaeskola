(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`2336d1de-d329-4c53-aaaf-9266485ed3f9`,e._sentryDebugIdIdentifier=`sentry-dbid-2336d1de-d329-4c53-aaaf-9266485ed3f9`)})()}catch{}import{C as e,E as t,G as n,Gt as r,J as i,P as a,T as o,Z as s,_t as c,et as l}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as u}from"./_MapCache-DjbOQyB7.js";import{Ci as d,Hi as f}from"./src-CppJvwzX.js";import"./sanitize-html-K63Olwt_.js";import{C as p,Fr as m,Vt as h,gn as g,r as _,s as v}from"./users.store-pCkD7Zo0.js";import{Ds as y,Jc as b}from"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import"./_baseOrderBy-El3qbNHQ.js";import"./dateformat-BhE5sUDK.js";import"./useDebounce-D6lADr4O.js";import"./folders.store-CS_gIPIm.js";import{n as x}from"./nodeTransforms-CG9uauaw.js";import{t as S}from"./readyToRun.store-DM7AW4os.js";import{t as C}from"./setupPanel.store-BkfXtNZF.js";var w=a({__name:`SetupWorkflowCredentialsButton`,setup(a){let w=v(),T=S(),E=h(),D=p(),O=m(),k=_(),A=g(),j=C(),M=u(),N=d(),P=e(()=>N.query.templateId!==void 0),F=e(()=>!!w.workflow?.meta?.templateCredsSetupCompleted),I=e(()=>{if(F.value)return!0;let e=w.getNodes();return e.length?e.every(e=>x(D,e)):!0}),L=e(()=>O.getVariant(b.name)===b.variant),R=e(()=>j.isFeatureEnabled),z=e(()=>w.workflow?.meta?.templateId?R.value?w.getNodes().length>0:F.value?!1:!I.value:!1),B=e(()=>R.value&&A.focusPanelActive&&A.selectedTab===`setup`),V=c(I,e=>{e&&(E.addToWorkflowMetadata({templateCredsSetupCompleted:!0}),V())}),H=()=>{A.setSelectedTab(`setup`),A.openFocusPanel()},U=()=>{k.openModal(y)},W=()=>{R.value?H():U()};return i(()=>{k.closeModal(y)}),s(async()=>{await n();let e=w.workflow?.meta?.templateId,t=T.isReadyToRunTemplateId(e);L.value&&z.value&&!t&&P.value&&W()}),(e,n)=>z.value?(l(),o(r(f),{key:0,variant:`subtle`,label:r(M).baseText(`nodeView.setupTemplate`),disabled:B.value,"data-test-id":`setup-credentials-button`,size:`large`,icon:`package-open`,onClick:n[0]||=e=>W()},null,8,[`label`,`disabled`])):t(``,!0)}});export{w as default};
//# sourceMappingURL=SetupWorkflowCredentialsButton--TsWCmDa.js.map