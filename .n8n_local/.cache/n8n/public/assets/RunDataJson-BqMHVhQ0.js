const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RunDataJsonActions-DfZ3Ah2j.js","assets/_plugin-vue_export-helper-B_J4Khre.js","assets/src-CppJvwzX.js","assets/CalendarDate-CR2L-kBx.js","assets/_MapCache-DjbOQyB7.js","assets/vue.runtime.esm-bundler-1e_FtHOF.js","assets/chunk-Din3qlHY.js","assets/sanitize-html-K63Olwt_.js","assets/en-CTDtIhP1.js","assets/src-By0uoI3W.css","assets/constants-D1jZwsUK.js","assets/merge-CKxbv8m_.js","assets/users.store-pCkD7Zo0.js","assets/_baseOrderBy-El3qbNHQ.js","assets/dateformat-BhE5sUDK.js","assets/useDebounce-D6lADr4O.js","assets/useClipboard-Duc7LjuO.js","assets/usePinnedData-C6FFXoty.js","assets/RunDataJsonActions-D7jFZ_fA.css"])))=>i.map(i=>d[i]);
(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`1d2ca83a-e28e-4b93-9f09-88454cc5eb8b`,e._sentryDebugIdIdentifier=`sentry-dbid-1d2ca83a-e28e-4b93-9f09-88454cc5eb8b`)})()}catch{}import{C as e,D as t,E as n,Gt as r,It as i,M as a,N as o,P as s,T as c,bt as l,et as u,vn as d,y as f}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{D as p}from"./_MapCache-DjbOQyB7.js";import{Ki as m}from"./src-CppJvwzX.js";import{t as h}from"./_plugin-vue_export-helper-B_J4Khre.js";import"./sanitize-html-K63Olwt_.js";import{Bt as g,Lt as _,Oi as v,dt as y,s as b,ti as x,ua as S,xr as C}from"./users.store-pCkD7Zo0.js";import{B as w}from"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import"./_baseOrderBy-El3qbNHQ.js";import"./dateformat-BhE5sUDK.js";import"./useDebounce-D6lADr4O.js";import{t as T}from"./Draggable-YWqutRc8.js";import{t as E}from"./TextWithHighlights-FXXrxJMD.js";import{n as D,t as O}from"./useTelemetryContext-Dq1_6uNp.js";import{t as k}from"./vue-json-pretty-CT_xxsnb.js";var A=h(s({__name:`RunDataJson`,props:{editMode:{default:()=>({})},pushRef:{},paneType:{},node:{},inputData:{},mappingEnabled:{type:Boolean},distanceFromActive:{},outputIndex:{},runIndex:{},totalRuns:{},search:{},compact:{type:Boolean},execution:{}},setup(s){let h=o(async()=>await m(()=>import(`./RunDataJsonActions-DfZ3Ah2j.js`),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),A=s,j=g(),M=C(),N=_(),P=O(),F=b(),I=i(w),L=i(null),R=i(null),{height:z}=p(R),B=e(()=>v(A.inputData)),V=e(()=>j.highlightDraggables),H=e=>e?S(e.dataset.name??``,16,2):``,U=e=>{let t=e.replace(/^(\["?\d"?])/,``);return y({nodeName:A.node.name,distanceFromActive:A.distanceFromActive,path:t,binaryMode:F.workflow.settings?.binaryMode})},W=e(()=>j.canDraggableDrop),G=e(()=>j.draggableStickyPos),K=(e,t)=>{e?.dataset.path&&(L.value=e.dataset.path),j.draggableStartDragging({type:`mapping`,data:t??``,dimensions:e?.getBoundingClientRect()??null}),j.resetMappingTelemetry()},q=e=>{j.draggableStopDragging(),L.value=null;let t=j.mappingTelemetry,n={src_node_type:A.node.type,src_field_name:e.dataset.name??``,src_nodes_back:A.distanceFromActive,src_run_index:A.runIndex,src_runs_total:A.totalRuns,src_field_nest_level:e.dataset.depth??0,src_view:`json`,src_element:e,success:!1,view_shown:P.view_shown,...t};setTimeout(()=>{M.run(`runDataJson.onDragEnd`,n),N.track(`User dragged data for mapping`,n)},1e3)},J=e=>x(e)?`"${e}"`:JSON.stringify(e),Y=e=>JSON.stringify(e),X=e=>e.replace(/^(\["?\d"?]\.?)/g,``);return(e,i)=>(u(),t(`div`,{ref_key:`jsonDataContainer`,ref:R,class:d([e.$style.jsonDisplay,{[e.$style.highlight]:V.value,[e.$style.compact]:A.compact}])},[(u(),c(f,null,{default:l(()=>[s.editMode.enabled?n(``,!0):(u(),c(r(h),{key:0,node:s.node,"pane-type":s.paneType,"push-ref":s.pushRef,"distance-from-active":s.distanceFromActive,"selected-json-path":I.value,"json-data":B.value,"output-index":s.outputIndex,"run-index":s.runIndex,execution:s.execution},null,8,[`node`,`pane-type`,`push-ref`,`distance-from-active`,`selected-json-path`,`json-data`,`output-index`,`run-index`,`execution`]))]),_:1})),a(T,{type:`mapping`,"target-data-key":`mappable`,disabled:!s.mappingEnabled,"can-drop":W.value,"sticky-position":G.value,onDragstart:K,onDragend:q},{preview:l(({canDrop:e,el:t})=>[t?(u(),c(D,{key:0,html:H(t),"can-drop":e},null,8,[`html`,`can-drop`])):n(``,!0)]),default:l(()=>[a(r(k),{data:B.value,deep:10,"show-length":!0,"selected-value":I.value,"root-path":``,"selectable-type":`single`,class:`json-data`,virtual:!0,height:r(z),"onUpdate:selectedValue":i[0]||=e=>I.value=e},{renderNodeKey:l(({node:t})=>[a(E,{content:J(t.key),search:s.search,"data-target":`mappable`,"data-value":U(t.path),"data-name":t.key,"data-path":t.path,"data-depth":t.level,class:d({[e.$style.mappable]:s.mappingEnabled,[e.$style.dragged]:L.value===t.path})},null,8,[`content`,`search`,`data-value`,`data-name`,`data-path`,`data-depth`,`class`])]),renderNodeValue:l(({node:t})=>[a(E,{content:Y(t.content),search:s.search,"data-target":`mappable`,"data-value":U(t.path),"data-name":X(t.path),"data-path":t.path,"data-depth":t.level,class:d([{[e.$style.mappable]:s.mappingEnabled,[e.$style.dragged]:L.value===t.path},`ph-no-capture`])},null,8,[`content`,`search`,`data-value`,`data-name`,`data-path`,`data-depth`,`class`])]),_:1},8,[`data`,`selected-value`,`height`])]),_:1},8,[`disabled`,`can-drop`,`sticky-position`])],2))}}),[[`__cssModules`,{$style:{jsonDisplay:`_jsonDisplay_twg9l_125`,mappable:`_mappable_twg9l_142`,highlight:`_highlight_twg9l_148`,dragged:`_dragged_twg9l_149`,compact:`_compact_twg9l_154`}}]]);export{A as default};
//# sourceMappingURL=RunDataJson-BqMHVhQ0.js.map