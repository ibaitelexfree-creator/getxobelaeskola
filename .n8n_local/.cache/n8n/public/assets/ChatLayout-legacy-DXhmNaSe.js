!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./MainSidebarHeader-legacy-fQV6qyAC.js","./BaseLayout-legacy-i7T0-7rf.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./canvas.utils-legacy-BQnUeqx3.js","./CredentialIcon-legacy-CaQiQjuK.js","./KeyboardShortcutTooltip-legacy-C9k84nly.js","./constants-legacy-CLWGezV2.js","./useKeybindings-legacy-Ba2t_Uzp.js","./useGlobalEntityCreation-legacy-zUUPbY_v.js","./chat.store-legacy-BiASMOEd.js","./useSettingsItems-legacy-D8YlORgn.js","./ChatAgentAvatar-legacy-D6I_tkAP.js"],(function(e,t){var n,s,a,i,o,l,c,r,d,m,u,_,p,h,g,f,v,y,b,x,w,k,C,T,I,$,R,S,j,z,M,D,H,L,A,E,B,K,V,N,P,G,U,O,q,F,J,W,X,Y,Z,Q,ee,te,ne,se,ae,ie,oe,le,ce,re,de,me,ue,_e;function pe(e,t){return v(),a("div",{class:T(e.$style.skeletonItem)},[I("div",{class:T(e.$style.skeletonAvatar)},null,2),I("div",{class:T(e.$style.skeletonText)},null,2)],2)}return{setters:[function(e){n=e.C,s=e.Cn,a=e.D,i=e.E,o=e.G,l=e.Gt,c=e.It,r=e.M,d=e.P,m=e.T,u=e.Z,_=e._,p=e._t,h=e.at,g=e.bn,f=e.bt,v=e.et,y=e.h,b=e.it,x=e.j,w=e.k,k=e.mt,C=e.ot,T=e.vn,I=e.w},function(e){$=e.yt},function(e){R=e.Ci,S=e.Dt,j=e.I,z=e.Mi,M=e.Ui,D=e.Vi,H=e.ji,L=e.q,A=e.u,E=e.wi},function(e){B=e.t},function(e){},function(e){K=e.Lt,V=e.Tr,N=e.rt,P=e.yr},function(e){G=e.n,U=e.r,O=e.t},function(e){q=e.t},function(e){e.Ss,F=e.rs},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){J=e.t},function(e){W=e.a,X=e.l,Y=e.n,Z=e.u},function(e){Q=e.t},function(e){},function(e){ee=e.b,te=e.t,ne=e.u},function(e){se=e.t},function(e){ae=e.t}],execute:function(){(ie=document.createElement("style")).textContent="._menuItem_1mhhm_125{border-radius:var(--spacing--4xs);align-items:center;padding-right:0;display:flex}._menuItem_1mhhm_125:focus-within,._menuItem_1mhhm_125._active_1mhhm_131,._menuItem_1mhhm_125:hover{background-color:var(--color--background--light-1)}._menuItem_1mhhm_125:has([aria-expanded=true]){background-color:var(--color--background--light-1)}._menuItemLink_1mhhm_135{padding:var(--spacing--4xs);align-items:center;gap:var(--spacing--4xs);cursor:pointer;color:var(--color--text);outline:none;flex:1;min-width:0;text-decoration:none;display:flex}._menuItemLink_1mhhm_135._compact_1mhhm_147{margin-left:-1px}._menuItemLink_1mhhm_135:active{color:var(--color--text--shade-1)}._textContainer_1mhhm_154{flex-direction:column;min-width:0;display:flex}._label_1mhhm_160{white-space:nowrap;text-overflow:ellipsis;line-height:var(--line-height--xl);flex:1;min-width:0;overflow:hidden}._title_1mhhm_169{white-space:nowrap;text-overflow:ellipsis;flex:1;min-width:0;line-height:20px;overflow:hidden}._actionDropdown_1mhhm_178{opacity:0;flex-shrink:0;width:0;overflow:hidden}._menuItem_1mhhm_125:hover ._actionDropdown_1mhhm_178,._active_1mhhm_131 ._actionDropdown_1mhhm_178{opacity:1;width:auto}._menuItem_1mhhm_125:has([aria-expanded=true]) ._actionDropdown_1mhhm_178{opacity:1;width:auto}._menuItem_1mhhm_125:has(:focus) ._actionDropdown_1mhhm_178{opacity:1;width:auto}._actionDropdownTrigger_1mhhm_189{box-shadow:none!important;outline:none!important}._avatar_1006s_125{width:var(--spacing--lg);height:var(--spacing--lg);min-width:var(--spacing--lg)}._skeletonItem_rwi4t_125{padding:var(--spacing--3xs)var(--spacing--2xs);align-items:center;gap:var(--spacing--2xs);border-radius:var(--spacing--4xs);height:30px;display:flex}._skeletonAvatar_rwi4t_134,._skeletonText_rwi4t_135{background:var(--color--foreground);animation:1s ease-in-out infinite _skeleton-pulse_rwi4t_1}._skeletonAvatar_rwi4t_134{border-radius:50%;flex-shrink:0;width:16px;height:16px}._skeletonText_rwi4t_135{border-radius:var(--radius--sm);width:80%;height:14px}@keyframes _skeleton-pulse_rwi4t_1{0%,to{opacity:.6}50%{opacity:.3}}._logoContainer_1vnf8_125{align-items:center;gap:var(--spacing--4xs);display:flex}._component_1vnf8_131{flex-direction:column;align-items:stretch;display:flex}._header_1vnf8_137{height:56px;padding-inline:var(--spacing--xs);justify-content:space-between;align-items:center;gap:var(--spacing--2xs);flex-grow:0;flex-shrink:0;display:flex}._logo_1vnf8_125{margin-top:-4px}._links_1vnf8_153{padding:var(--spacing--2xs)var(--spacing--3xs);flex-direction:column;display:flex}._links_1vnf8_153._collapsed_1vnf8_158{border-bottom:var(--border)}._historySections_1vnf8_162{padding:var(--spacing--2xs)var(--spacing--3xs)var(--spacing--2xs);gap:var(--spacing--sm);flex-direction:column;display:flex}._historySections_1vnf8_162._collapsed_1vnf8_158{gap:0}._group_1vnf8_172{flex-direction:column;gap:2px;display:flex}._groupHeader_1vnf8_178{padding:0 var(--spacing--4xs)var(--spacing--3xs)var(--spacing--4xs)}._loading_1vnf8_182,._empty_1vnf8_183{padding:var(--spacing--xs);text-align:center}._sideMenu_nzvda_125{border-right:var(--border);background-color:var(--menu--color--background,var(--color--background--light-2));flex-direction:column;height:100%;display:flex;position:relative}._sideMenu_nzvda_125._sideMenuCollapsed_nzvda_133{width:42px;min-width:auto}._scrollArea_nzvda_138{flex-direction:column;height:100%;display:flex}\n/*$vite$:1*/",document.head.appendChild(ie);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(he=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[he]="650962f9-8a13-4445-8ed6-24495043c7af",t._sentryDebugIdIdentifier="sentry-dbid-650962f9-8a13-4445-8ed6-24495043c7af")}catch(t){}var t,he;oe=d({__name:"ChatSidebarLink",props:{active:{type:Boolean,default:!1},to:{},label:{},title:{},menuItems:{default:()=>[]},icon:{},compact:{type:Boolean}},emits:["actionSelect","click"],setup(e,{emit:t}){const n=t;return(t,o)=>{const c=C("RouterLink");return v(),a("div",{class:T([t.$style.menuItem,{[t.$style.active]:e.active}])},[t.$slots.default?h(t.$slots,"default",{key:0}):(v(),a(_,{key:1},[r(c,{to:e.to,class:T([t.$style.menuItemLink,{[t.$style.compact]:e.compact}]),title:e.title,onClick:o[0]||(o[0]=e=>n("click",e))},{default:f((()=>[h(t.$slots,"icon",{},(()=>[e.icon?(v(),m(l(M),{key:0,size:"large",icon:e.icon},null,8,["icon"])):i("",!0)])),e.compact?i("",!0):(v(),a("div",{key:0,class:T(t.$style.textContainer)},[r(l(D),{class:T(t.$style.label),size:"small",color:"text-light"},{default:f((()=>[x(s(e.label),1)])),_:1},8,["class"]),r(l(D),{class:T(t.$style.title),size:"medium",color:"text-dark"},{default:f((()=>[x(s(e.title),1)])),_:1},8,["class"])],2))])),_:3},8,["to","class","title"]),!e.compact&&e.menuItems.length>0?(v(),m(l(S),{key:0,items:e.menuItems,class:T(t.$style.actionDropdown),placement:"bottom-start",onSelect:o[1]||(o[1]=e=>n("actionSelect",e)),onClick:o[2]||(o[2]=y((()=>{}),["stop"]))},{activator:f((()=>[r(l(z),{variant:"ghost",icon:"ellipsis-vertical",class:T(t.$style.actionDropdownTrigger)},null,8,["class"])])),_:1},8,["items","class"])):i("",!0)],64))],2)}}}),le=B(oe,[["__cssModules",{$style:{menuItem:"_menuItem_1mhhm_125",active:"_active_1mhhm_131",menuItemLink:"_menuItemLink_1mhhm_135",compact:"_compact_1mhhm_147",textContainer:"_textContainer_1mhhm_154",label:"_label_1mhhm_160",title:"_title_1mhhm_169",actionDropdown:"_actionDropdown_1mhhm_178",actionDropdownTrigger:"_actionDropdownTrigger_1mhhm_189"}}]]),ce=d({__name:"ChatSessionMenuItem",props:{session:{},isRenaming:{type:Boolean},active:{type:Boolean},compact:{type:Boolean}},emits:["startRename","cancelRename","confirmRename","delete"],setup(e,{emit:t}){const s=t,a=k("input"),i=c(""),d=te(),u=$(),_=n((()=>{const t=ee(e.session);return t?d.getAgent(t,{name:e.session.agentName,icon:e.session.agentIcon}):null})),h=n((()=>[{id:"rename",label:u.baseText("chatHub.session.actions.rename"),icon:"pencil"},{id:"delete",label:u.baseText("chatHub.session.actions.delete"),icon:"trash-2"}]));function g(t){"rename"===t?(i.value=e.session.title,s("startRename",e.session.id)):"delete"===t&&s("delete",e.session.id)}function y(){const t=i.value.trim();t&&t!==e.session.title?s("confirmRename",e.session.id,t):s("cancelRename")}function b(e){"Escape"!==e.key?"Enter"!==e.key||e.isComposing||y():s("cancelRename")}return p((()=>e.isRenaming),(async t=>{t?(i.value=e.session.title,await o(),a.value?.focus(),a.value?.select()):i.value=""}),{immediate:!0}),(t,n)=>(v(),m(le,{to:{name:l(Y),params:{id:e.session.id}},active:e.active,compact:e.compact,"menu-items":h.value,label:e.session.agentName,title:e.session.title,onActionSelect:g},w({icon:f((()=>[r(ae,{agent:_.value,size:"sm",class:T(t.$style.avatar)},null,8,["agent","class"])])),_:2},[e.isRenaming?{name:"default",fn:f((()=>[r(l(H),{ref_key:"input",ref:a,modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=e=>i.value=e),size:"large",onBlur:y,onKeydown:b},null,8,["modelValue"])])),key:"0"}:void 0]),1032,["to","active","compact","menu-items","label","title"]))}}),re=B(ce,[["__cssModules",{$style:{avatar:"_avatar_1006s_125"}}]]),de=B({},[["render",pe],["__cssModules",{$style:{skeletonItem:"_skeletonItem_rwi4t_125",skeletonAvatar:"_skeletonAvatar_rwi4t_134",skeletonText:"_skeletonText_rwi4t_135","skeleton-pulse":"_skeleton-pulse_rwi4t_1"}}]]),me=d({__name:"ChatSidebarContent",props:{isCollapsed:{type:Boolean}},setup(e){const t=R(),o=E(),d=te(),p=P(),h=V(),g=N(),y=K(),w=n((()=>d.sessionsReady&&g.allCredentialTypes.length>0)),k=$(),C=c(),S=n((()=>"string"==typeof t.params.id?t.params.id:void 0)),j=n((()=>ne((d.sessions.ids??[]).reduce(((e,t)=>{const n=d.sessions.byId[t];return n&&e.push(n),e}),[])))),z=n((()=>({id:"new-chat",label:k.baseText("chatHub.sidebar.link.newChat"),icon:"plus",route:{to:{name:X,force:!0}}}))),M=n((()=>({id:"personal-agents",label:k.baseText("chatHub.sidebar.link.personalAgents"),icon:"message-square",route:{to:{name:W}}}))),H=n((()=>({id:"workflow-agents",label:k.baseText("chatHub.sidebar.link.workflowAgents"),icon:"robot",route:{to:{name:Z}}})));function B(e){C.value=e}function G(){C.value=void 0}async function U(e,t){try{await d.renameSession(e,t),C.value=void 0}catch(n){p.showError(n,k.baseText("chatHub.session.updateTitle.error"))}}async function O(e){if("confirm"===await h.confirm(k.baseText("chatHub.session.delete.confirm.message"),k.baseText("chatHub.session.delete.confirm.title"),{confirmButtonText:k.baseText("chatHub.session.delete.confirm.button"),cancelButtonText:k.baseText("chatHub.session.delete.cancel.button")}))try{await d.deleteSession(e),p.showMessage({type:"success",title:k.baseText("chatHub.session.delete.success")}),e===S.value&&o.push({name:X})}catch(t){p.showError(t,k.baseText("chatHub.session.delete.error"))}}function q(){y.track("User clicked new chat button",{})}return u((()=>{d.sessionsReady||d.fetchSessions(!0,{minLoadingTime:250})})),(n,o)=>(v(),a("div",{class:T(n.$style.component)},[I("div",{class:T({[n.$style.links]:!0,[n.$style.collapsed]:e.isCollapsed})},[r(J,{placement:"right",label:l(k).baseText("chatHub.sidebar.link.newChat"),"show-after":500,shortcut:{keys:["o"],metaKey:!0,shiftKey:!0}},{default:f((()=>[r(l(L),{item:z.value,compact:e.isCollapsed,active:l(t).name===l(X),onClick:q},null,8,["item","compact","active"])])),_:1},8,["label"]),r(l(L),{item:M.value,compact:e.isCollapsed,active:l(t).name===l(W)},null,8,["item","compact","active"]),r(l(L),{item:H.value,compact:e.isCollapsed,active:l(t).name===l(Z)},null,8,["item","compact","active"])],2),r(l(A),{"as-child":"",type:"scroll"},{default:f((()=>[I("div",{class:T([n.$style.historySections,{[n.$style.collapsed]:e.isCollapsed}]),"data-test-id":"chat-conversation-list"},[w.value?(v(!0),a(_,{key:1},b(j.value,((t,c)=>(v(),a("div",{key:t.group,class:T(n.$style.group)},[e.isCollapsed?i("",!0):(v(),m(l(D),{key:0,class:T(n.$style.groupHeader),size:"small",bold:"",color:"text-light"},{default:f((()=>[x(s(t.group),1)])),_:2},1032,["class"])),(v(!0),a(_,null,b(t.sessions,(t=>(v(),m(re,{key:t.id,session:t,compact:e.isCollapsed,active:S.value===t.id,"is-renaming":C.value===t.id,onStartRename:B,onCancelRename:G,onConfirmRename:U,onDelete:O},null,8,["session","compact","active","is-renaming"])))),128)),c===j.value.length-1&&l(d).sessions.hasMore&&!l(d).sessionsLoading?(v(),m(l(L),{key:1,item:{id:"load-more-sessions",label:l(k).baseText("chatHub.sidebar.loadMoreSessions"),icon:"circle-ellipsis"},compact:e.isCollapsed,onClick:o[0]||(o[0]=()=>l(d).fetchMoreSessions({minLoadingTime:250}))},null,8,["item","compact"])):i("",!0),c===j.value.length-1&&l(d).sessionsLoading?(v(),a(_,{key:2},b(10,(e=>r(de,{key:e}))),64)):i("",!0)],2)))),128)):(v(),a("div",{key:0,class:T(n.$style.group)},[(v(),a(_,null,b(10,(e=>r(de,{key:`loading-${e}`}))),64))],2))],2)])),_:1})],2))}}),ue=B(me,[["__cssModules",{$style:{logoContainer:"_logoContainer_1vnf8_125",component:"_component_1vnf8_131",header:"_header_1vnf8_137",logo:"_logo_1vnf8_125",links:"_links_1vnf8_153",collapsed:"_collapsed_1vnf8_158",historySections:"_historySections_1vnf8_162",group:"_group_1vnf8_172",groupHeader:"_groupHeader_1vnf8_178",loading:"_loading_1vnf8_182",empty:"_empty_1vnf8_183"}}]]),_e=B(d({__name:"ChatSidebar",setup(e){const t=$(),s=E(),{isCollapsed:a,sidebarWidth:i,onResizeStart:c,onResize:d,onResizeEnd:u,toggleCollapse:_}=U();function p(e){e.stopPropagation(),o((()=>{const e=new KeyboardEvent("keydown",{key:"k",code:"KeyK",metaKey:!0,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}))}const{settingsItems:h}=se(),y=n((()=>[{id:"settings",label:t.baseText("mainSidebar.settings"),icon:"settings",available:!0,children:h.value}])),b=n((()=>y.value.filter((e=>!1!==e.available))));Q({bracketleft:()=>_()});const x=()=>{s.push({name:F.SIGNOUT})};return(e,t)=>(v(),m(l(j),{id:"side-menu",class:T({[e.$style.sideMenu]:!0,[e.$style.sideMenuCollapsed]:l(a)}),width:l(i),style:g({width:`${l(i)}px`}),"supported-directions":["right"],"min-width":200,"max-width":500,"grid-size":8,onResizestart:l(c),onResize:l(d),onResizeend:l(u)},{default:f((()=>[r(O,{"hide-create":"","is-beta":"","is-collapsed":l(a),onCollapse:l(_),onOpenCommandBar:p},null,8,["is-collapsed","onCollapse"]),r(l(A),{"as-child":""},{default:f((()=>[I("div",{class:T(e.$style.scrollArea)},[r(ue,{"is-collapsed":l(a)},null,8,["is-collapsed"]),r(G,{items:b.value,"is-collapsed":l(a),onLogout:x},null,8,["items","is-collapsed"])],2)])),_:1})])),_:1},8,["class","width","style","onResizestart","onResize","onResizeend"]))}}),[["__cssModules",{$style:{sideMenu:"_sideMenu_nzvda_125",sideMenuCollapsed:"_sideMenuCollapsed_nzvda_133",scrollArea:"_scrollArea_nzvda_138"}}]]),e("default",d({__name:"ChatLayout",setup:e=>(e,t)=>{const n=C("RouterView");return v(),m(q,null,{sidebar:f((()=>[r(_e)])),default:f((()=>[r(n)])),_:1})}}))}}}));
//# sourceMappingURL=ChatLayout-legacy-DXhmNaSe.js.map