!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./exports-legacy-D4VVuJ_2.js","./semver-legacy-BKbx4Ujl.js","./useCanvasOperations-legacy-CEMGNuuE.js"],(function(e,t){var a,n,s,o,r,i,l,c,u,d,g,m,p,y,f,v,b,_,w,k,h,x,N,C,T,j,I,U,E,P,M,O,$,z,A,q,D,H,B,S,F,V,R,G,L,Q,Y,Z,J,K;function W(e){const t=R(),a=H(),s=c(void 0),o=n((()=>m(e)?.split(".")[0]??"")),r=n((()=>{const t=m(e);return!!t&&S(t)})),i=async()=>{if(o.value&&r.value)return s.value=await async function(e){const t=await R().getInstalledPackage(e),a=O().communityNodeType(e);if(t)return{...t,unverifiedUpdate:!(!t?.updateAvailable||!a)&&Y.default.gt(t.updateAvailable,a.npmVersion)}}(o.value),s.value};return f((()=>t.installedPackages[o.value]),(async e=>{o.value&&e&&await i()}),{deep:!0}),p((async()=>{o.value&&r.value&&await i()})),{installedPackage:s,isUpdateCheckAvailable:n((()=>r.value&&a.isInstanceOwner&&!s.value?.unverifiedUpdate)),isCommunityNode:r,initInstalledPackage:i}}return e({a:W,o:function(){const e=R(),t=O(),a=q(),s=D(),o=n((()=>H().isInstanceOwner)),r=c(!1),l=B(),u=L(),d=$();return{installNode:async n=>{if(!o.value){const e=new Error("User is not an owner");return l.showError(e,N.baseText("settings.communityNodes.messages.install.error")),{success:!1,error:e}}n.telemetry&&d.track("user started cnr package install",{input_string:n.packageName,has_quick_connect:n.telemetry.hasQuickConnect,source:n.telemetry.source});try{r.value=!0,"verified"===n.type?await e.installPackage(n.packageName,!0,await(async e=>{const a=await t.getCommunityNodeAttributes(e);if(a)return a.npmVersion})(n.nodeType)):await e.installPackage(n.packageName),await Promise.all([t.getNodeTypes(),t.fetchCommunityNodePreviews(),a.fetchCredentialTypes(!0)]),await i();const o=n.nodeType;if(o&&s.workflow.nodes?.length){const e=s.workflow.nodes.filter((e=>e.type===z(o)));u.initializeUnknownNodes(e)}return l.showMessage({title:N.baseText("settings.communityNodes.messages.install.success"),type:"success"}),{success:!0}}catch(c){return l.showError(c,N.baseText("settings.communityNodes.messages.install.error")),{success:!1,error:c}}finally{r.value=!1}},loading:r}}}),{setters:[function(e){a=e.o},function(e){n=e.C,s=e.Cn,o=e.D,r=e.E,i=e.G,l=e.Gt,c=e.It,u=e.M,d=e.P,g=e.T,m=e.Ut,p=e.Z,y=e._,f=e._t,v=e.bt,b=e.c,_=e.et,w=e.j,k=e.k,h=e.vn,x=e.w},function(e){N=e.gt,C=e.yt},function(e){T=e.Bi,j=e.Hi,I=e.Ui,U=e.Vi,E=e.gi,P=e.wi},function(e){M=e.t},function(e){O=e.C,$=e.Lt,z=e.R,A=e.r,q=e.rt,D=e.s,H=e.t,B=e.yr},function(e){S=e.Ua,F=e.rs},function(e){V=e.n},function(e){R=e.n,G=e.t},function(e){L=e.t}],execute:function(){(Q=document.createElement("style")).textContent="._contactOwnerHint_qnrnx_125{align-items:center;gap:var(--spacing--sm);padding:var(--spacing--xs);border-radius:.25em;display:flex}._border_qnrnx_133{border:var(--border-width)solid var(--color--foreground)}._container_b6vvo_125{justify-content:right;align-items:center;gap:var(--spacing--2xs);padding:var(--spacing--sm);display:flex}._separator_b6vvo_133{height:var(--border-width);background:var(--color--foreground);margin-right:var(--spacing--sm);margin-left:var(--spacing--sm)}\n/*$vite$:1*/",document.head.appendChild(Q);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(i=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[i]="ea4291a8-e0ab-43eb-8d0f-1caeb885d12a",t._sentryDebugIdIdentifier="sentry-dbid-ea4291a8-e0ab-43eb-8d0f-1caeb885d12a")}catch(t){}var t,i;Y=a(G(),1),Z={style:{"padding-bottom":"8px"}},J=d({__name:"ContactAdministratorToInstall",props:{box:{type:Boolean}},setup(e){const t=e,a=b(),i=H(),c=C(),d=n((()=>i.allUsers.filter((e=>e.role?.includes("owner"))).map((e=>e.email)))),m=n((()=>({[a.contactOwnerHint]:!0,[a.border]:t.box})));return p((async()=>{await i.fetchUsers({filter:{isOwner:!0}})})),(e,a)=>(_(),o("div",{class:h(m.value)},[t.box?(_(),g(l(I),{key:0,color:"text-light",icon:"info",size:"large"})):r("",!0),u(l(U),{color:"text-base",size:"medium"},{default:v((()=>[x("div",Z,s(l(c).baseText("communityNodeInfo.contact.admin")),1),d.value.length?(_(),g(l(U),{key:0,bold:""},{default:v((()=>[w(s(d.value.join(", ")),1)])),_:1})):r("",!0)])),_:1})],2))}}),e("i",M(J,[["__cssModules",{$style:{contactOwnerHint:"_contactOwnerHint_qnrnx_125",border:"_border_qnrnx_133"}}]])),K=d({__name:"CommunityNodeFooter",props:{packageName:{},showManage:{type:Boolean}},setup(e){const t=e,a=P(),n=c(`https://registry.npmjs.org/${t.packageName}`),{installedPackage:i}=W(t.packageName);async function d(){await a.push({name:F.COMMUNITY_NODES})}async function m(){n.value&&window.open(n.value,"_blank")}return p((async()=>{t.packageName&&await async function(e){const t=`https://registry.npmjs.org/${e}`;try{const e=await fetch(t);if(!e.ok)throw new Error("Could not get metadata for package");const a=await e.json();a.bugs?.url&&(n.value=a.bugs.url)}catch(a){V(a)}}(t.packageName)})),(e,a)=>(_(),o("div",null,[x("div",{class:h(e.$style.separator)},null,2),x("div",{class:h(e.$style.container)},[l(i)?(_(),g(l(U),{key:0,size:"small",color:"text-light",style:{"margin-right":"auto"}},{default:v((()=>[w(" Package version "+s(l(i).installedVersion)+" ("+s(l(i).updateAvailable&&!l(i).unverifiedUpdate?l(N).baseText("communityNodeFooter.legacy"):l(N).baseText("nodeSettings.latest"))+") ",1)])),_:1})):r("",!0),t.showManage?(_(),o(y,{key:1},[u(l(E),{theme:"text",onClick:d},{default:v((()=>[u(l(U),{size:"small",color:"primary",bold:""},{default:v((()=>[w(s(l(N).baseText("communityNodeFooter.manage")),1)])),_:1})])),_:1}),u(l(U),{size:"small",style:{color:"var(--color--foreground)"},bold:""},{default:v((()=>[...a[0]||(a[0]=[w("|",-1)])])),_:1})],64)):r("",!0),u(l(E),{theme:"text",onClick:m},{default:v((()=>[u(l(U),{size:"small",color:"primary",bold:""},{default:v((()=>[w(s(l(N).baseText("communityNodeFooter.reportIssue")),1)])),_:1})])),_:1})],2)]))}}),e("r",M(K,[["__cssModules",{$style:{container:"_container_b6vvo_125",separator:"_separator_b6vvo_133"}}]])),e("n",d({__name:"CommunityNodeUpdateInfo",props:{packageName:{},source:{}},setup(e){const t=e,{openCommunityPackageUpdateConfirmModal:a}=A(),n=()=>{t.packageName&&a(t.packageName,t.source)};return(e,a)=>(_(),g(l(T),{theme:"secondary",iconless:!0,style:{"margin-bottom":"var(--spacing--sm)"}},k({default:v((()=>[w(s(l(N).baseText("communityNodeUpdateInfo.available"))+" ",1)])),_:2},[t.packageName?{name:"trailingContent",fn:v((()=>[u(l(j),{variant:"subtle",onClick:n},{default:v((()=>[w(s(l(N).baseText("generic.update")),1)])),_:1})])),key:"0"}:void 0]),1024))}})),e("t",d({__name:"QuickConnectBanner",props:{text:{}},setup:e=>(t,a)=>(_(),g(l(T),{theme:"secondary",iconless:"","data-test-id":"quick-connect-banner"},{default:v((()=>[w(s(e.text),1)])),_:1}))}))}}}));
//# sourceMappingURL=QuickConnectBanner-legacy-D8p522S_.js.map