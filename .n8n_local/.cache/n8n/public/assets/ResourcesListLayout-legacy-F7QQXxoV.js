!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./useDebounce-legacy-BSzeAS4U.js","./readyToRun.store-legacy-CKgcGLoh.js","./ResourceFiltersDropdown-legacy-CHaOqZQ_.js"],(function(e,t){var a,s,r,i,l,o,n,d,u,c,p,f,g,v,_,h,y,m,w,b,j,x,$,k,P,S,z,F,C,L,I,E,A,D,T,O,R,U,N,W,K,V,B,M,H,q,G,Q,Z,J,Y,X,ee,te,ae,se,re,ie,le,oe,ne;function de(e,t){return m(),r("div",{class:$(e.$style.wrapper)},[h(e.$slots,"header"),k("main",{class:$(e.$style.content)},[h(e.$slots,"default")],2)],2)}return{setters:[function(e){e.o},function(e){a=e.C,s=e.Cn,r=e.D,i=e.E,l=e.G,o=e.Gt,n=e.I,d=e.It,u=e.J,c=e.M,p=e.P,f=e.T,g=e.Z,v=e._,_=e._t,h=e.at,y=e.bt,m=e.et,w=e.it,b=e.j,j=e.p,x=e.pt,$=e.vn,k=e.w,P=e.xt,S=e.yn},function(e){z=e.M,F=e.yt},function(e){C=e.Ci,L=e.Et,I=e.Nt,E=e.Pi,A=e.Q,D=e.R,T=e.Ui,O=e.Vi,R=e.ft,U=e.gi,N=e.ji,W=e.pt,K=e.ut,V=e.wi},function(e){B=e.t},function(e){M=e.Lt,H=e.Qr,q=e.Ur,G=e.ei,Q=e.t},function(e){Z=e.uc},function(e){J=e.t},function(e){Y=e.r},function(e){X=e.t}],execute:function(){(ee=document.createElement("style")).textContent="._wrapper_1bol0_125{width:100%;height:100%;max-width:var(--content-container--width);box-sizing:border-box;padding:var(--spacing--lg)var(--spacing--2xl)0;flex-direction:column;align-content:start;display:flex}@media screen and (max-width:991px){._wrapper_1bol0_125{padding:var(--spacing--sm)var(--spacing--sm)0}}._content_1bol0_141,._wrapper_mbox7_125{height:100%;display:grid}._overflow_mbox7_130 ._list_mbox7_130 ._body_mbox7_130{overflow:auto}._list_mbox7_130{grid-template-rows:auto 1fr;height:100%;display:grid}._list_mbox7_130 ._body_mbox7_130{height:100%;position:relative}._filters-row_7jrhp_125{justify-content:space-between;align-items:center;gap:var(--spacing--2xs);flex-direction:row;width:100%;display:flex}._filters_7jrhp_125{gap:var(--spacing--4xs);grid-auto-columns:1fr max-content max-content max-content;grid-auto-flow:column;justify-content:end;align-items:center;width:100%;display:grid}._filters_7jrhp_125 ._sort-and-filter_7jrhp_143{gap:var(--spacing--4xs);align-items:center;display:flex}@media screen and (max-width:767px){._filters_7jrhp_125{grid-auto-flow:row;grid-auto-columns:unset;grid-template-columns:1fr}}._search_7jrhp_156{justify-self:end;max-width:196px}._search_7jrhp_156 input{height:30px}@media screen and (max-width:991px){._search_7jrhp_156{max-width:100%}}._listWrapper_7jrhp_169{width:100%;height:100%;position:absolute}._paginatedListWrapper_7jrhp_175{gap:var(--spacing--md);flex-direction:column;height:100%;display:flex;overflow:auto}._listItems_7jrhp_183{overflow-y:auto}._listPagination_7jrhp_187{margin-bottom:var(--spacing--lg);justify-content:flex-end;display:flex}._listPagination_7jrhp_187 .el-pagination__sizes{height:100%;position:relative;top:-1px}._listPagination_7jrhp_187 .el-pagination__sizes input{height:100%;min-height:28px}._listPagination_7jrhp_187 .el-pagination__sizes .el-input__suffix{width:var(--spacing--md)}._sort-and-filter_7jrhp_143{white-space:nowrap}@media screen and (max-width:991px){._sort-and-filter_7jrhp_143{width:100%}}._datatable_7jrhp_214{padding-bottom:var(--spacing--sm)}._resourceList_7jrhp_219,._resourceList_7jrhp_219 input[role=combobox]{height:var(--spacing--xl)}.resource-list-loading[data-v-cac35f61]{width:100%;height:0;animation:10ms linear .3s forwards changeVisibility-cac35f61;position:relative;overflow:hidden}.resource-list-loading[data-v-cac35f61] .el-skeleton{width:100%;height:100%;position:absolute;overflow:hidden}.resource-list-loading[data-v-cac35f61] .el-skeleton>div>div:first-child .el-skeleton__item{height:42px;margin:0}.resource-list-loading[data-v-cac35f61] .el-skeleton .el-skeleton__item{height:69px}.resource-list-loading-instant[data-v-cac35f61]{animation:10ms linear forwards changeVisibility-cac35f61}@keyframes changeVisibility-cac35f61{0%{height:0}to{height:100%}}\n/*$vite$:1*/",document.head.appendChild(ee);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(ue=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[ue]="56961a2d-8bdd-438f-af62-67564f2f4545",t._sentryDebugIdIdentifier="sentry-dbid-56961a2d-8bdd-438f-af62-67564f2f4545")}catch(t){}var t,ue;te=B({},[["render",de],["__cssModules",{$style:{wrapper:"_wrapper_1bol0_125",content:"_content_1bol0_141"}}]]),ae=p({__name:"PageViewLayoutList",props:{overflow:{type:Boolean}},setup:e=>(t,a)=>(m(),r("div",{class:$({[t.$style.wrapper]:!0,[t.$style.overflow]:e.overflow})},[k("div",{class:$(t.$style.list)},[t.$slots.header?(m(),r("div",{key:0,class:$(t.$style.header)},[h(t.$slots,"header")],2)):i("",!0),k("div",{class:$(t.$style.body)},[h(t.$slots,"default")],2)],2)],2))}),se=B(ae,[["__cssModules",{$style:{wrapper:"_wrapper_mbox7_125",overflow:"_overflow_mbox7_130",list:"_list_mbox7_130",body:"_body_mbox7_130"}}]]),re={key:0,class:"resource-list-loading"},ie={key:0},le={key:0,class:"mt-xs","data-test-id":"resources-list-filters-applied-info"},oe={key:0,class:"resource-list-loading resource-list-loading-instant"},ne=p({__name:"ResourcesListLayout",props:{resourceKey:{},displayName:{type:Function,default:e=>e.name||""},resources:{},disabled:{type:Boolean},initialize:{type:Function,default:async()=>{}},filters:{default:()=>({search:"",homeProject:""})},additionalFiltersHandler:{type:Function,default:void 0},shareable:{type:Boolean,default:!0},sortFns:{default:()=>({})},sortOptions:{default:()=>["lastUpdated","lastCreated","nameAsc","nameDesc"]},type:{default:"list-full"},typeProps:{default:()=>({itemSize:80})},loading:{type:Boolean,default:!0},customPageSize:{default:25},availablePageSizeOptions:{default:()=>[10,25,50,100]},totalItems:{default:0},resourcesRefreshing:{type:Boolean,default:!1},dontPerformSortingAndFiltering:{type:Boolean,default:!1},hasEmptyState:{type:Boolean,default:!0},uiConfig:{default:()=>({searchEnabled:!0,showFiltersDropdown:!0,sortEnabled:!0})}},emits:["update:filters","click:add","update:pagination-and-sort","update:search"],setup(e,{expose:t,emit:p}){const B=C(),ee=V(),{callDebounced:ae}=J(),ne=Q(),de=M(),ue=function(){const e=Y(),t=t=>e.isOverviewSubPage?"home":t;return{saveProjectPreferencesToLocalStorage:(e,a,s)=>{const r=t(e);if(!r)return;const i=z(Z,{});i.value[r]||(i.value[r]={}),i.value[r][a]={...i.value[r][a],...s}},loadProjectPreferencesFromLocalStorage:(e,a)=>{const s=t(e);return s&&z("N8N_WORKFLOWS_LIST_PREFERENCES",{}).value[s]?.[a]||{}},getProjectKey:t}}(),ce=e,{getResourceText:pe}=function(e){const t=F();return{getResourceText:(a,s,r)=>{const i=`${e}.${a}`,l=`resources.${a}`,o=s?`resources.${s}`:void 0;return q(i)?t.baseText(i,{interpolate:r}):q(l)?t.baseText(l,{interpolate:r}):o&&q(o)?t.baseText(o,{interpolate:r}):a.split(".").pop()?.replace(/([A-Z])/g," $1").trim()||a}}}(ce.resourceKey),fe=d(ce.sortOptions[0]),ge=d(!1),ve=d(1),_e=d(ce.customPageSize),he=d(!1),ye=d(null),me=d(null),we=d(null),be=d(ce.customPageSize),je=d(ce.sortOptions[0]),xe=p;x();const $e=a({get:()=>ce.filters,set:e=>xe("update:filters",e)}),ke=a((()=>ce.hasEmptyState&&0===ce.resources.length&&!ge.value&&!$e.value.search&&!ce.resourcesRefreshing)),Pe=a((()=>Object.keys($e.value))),Se=a((()=>ce.dontPerformSortingAndFiltering?ce.resources:ce.resources.filter((e=>{let t=!0;if($e.value.homeProject&&G(e)&&(t=t&&!(!("homeProject"in e)||!e.homeProject||e.homeProject.id!==$e.value.homeProject)),$e.value.search){const a=$e.value.search.toLowerCase();t=t&&ce.displayName(e).toLowerCase().includes(a)}return ce.additionalFiltersHandler&&(t=ce.additionalFiltersHandler(e,$e.value,t)),t})).sort(((e,t)=>{const a=H(e)&&H(t);switch(fe.value){case"lastUpdated":return a&&"updatedAt"in e&&"updatedAt"in t?ce.sortFns.lastUpdated?ce.sortFns.lastUpdated(e,t):new Date(t.updatedAt??"").valueOf()-new Date(e.updatedAt??"").valueOf():0;case"lastCreated":return a&&"createdAt"in e&&"createdAt"in t?ce.sortFns.lastCreated?ce.sortFns.lastCreated(e,t):new Date(t.createdAt??"").valueOf()-new Date(e.createdAt??"").valueOf():0;case"nameAsc":return ce.sortFns.nameAsc?ce.sortFns.nameAsc(e,t):ce.displayName(e).trim().localeCompare(ce.displayName(t).trim());case"nameDesc":return ce.sortFns.nameDesc?ce.sortFns.nameDesc(e,t):ce.displayName(t).trim().localeCompare(ce.displayName(e).trim());default:return ce.sortFns[fe.value]?ce.sortFns[fe.value](e,t):0}}))));_((()=>ce.filters),(e=>{$e.value=e,Ie()&&(ge.value=!0)})),_((()=>$e.value.homeProject),(()=>{Te("homeProject")})),_((()=>$e.value.tags),(()=>{Te("tags")})),_((()=>$e.value.type),(()=>{Te("type")})),_((()=>$e.value.search),(()=>ae(Te,{debounceTime:1e3,trailing:!0},"search"))),_((()=>$e.value.setupNeeded),(()=>{Te("setupNeeded")})),_((()=>$e.value.incomplete),(()=>{Te("incomplete")})),_([()=>B.params?.projectId,()=>B.name],(async()=>{await Ue(),await Be(),await ce.initialize()})),g((async()=>{await Be(),await ce.initialize(),await l(),Ie()&&(ge.value=!0),window.addEventListener("keydown",ze)})),u((()=>{window.removeEventListener("keydown",ze)}));const ze=e=>{(e.ctrlKey||e.metaKey)&&"f"===e.key&&(e.preventDefault(),Fe())},Fe=()=>{ye.value&&ye.value.focus()},Ce=e=>"search"!==e&&("boolean"==typeof ce.filters[e]?ce.filters[e]:Array.isArray(ce.filters[e])?ce.filters[e].length>0:""!==ce.filters[e]),Le=a((()=>{const e=Pe.value.filter(Ce),t=["showArchived"];return e.every((e=>t.includes(e)))})),Ie=()=>!!Pe.value.find(Ce),Ee=async e=>{_e.value=e,await Ve(),xe("update:pagination-and-sort",{pageSize:e})},Ae=async(e,t=!0)=>{fe.value=e,t&&(await Ve(),Ne()),xe("update:pagination-and-sort",{sort:e})},De=async(e,t=!0)=>{ve.value=e,t&&await Ve(),xe("update:pagination-and-sort",{page:e})},Te=e=>{if(he.value){if("reset"!==e)return;setTimeout((()=>he.value=!1),1500)}const t=$e.value,a=[],s=[];Object.keys(t).forEach((e=>{t[e]&&(a.push(e),s.push("search"===e?null:t[e]))})),de.track(`User set filters in ${ce.resourceKey} list`,{filters_set:a,filter_values:s,[`${ce.resourceKey}_total_in_view`]:ce.resources.length,[`${ce.resourceKey}_after_filtering`]:Se.value.length})},Oe=e=>{xe("click:add",e)},Re=e=>{xe("update:filters",e)},Ue=async()=>{Object.keys($e.value).forEach((e=>{$e.value[e]=Array.isArray($e.value[e])?[]:""})),await De(1,!1),he.value=!0,ge.value=!1,Te("reset"),xe("update:filters",$e.value)},Ne=()=>{de.track(`User changed sorting in ${ce.resourceKey} list`,{sorting:fe.value})},We=e=>{ge.value=e>0},Ke=e=>{$e.value.search=e,xe("update:search",e)},Ve=async()=>{if("list-paginated"!==ce.type)return;const e={...B.query};1!==ve.value?e.page=ve.value.toString():delete e.page,_e.value!==be.value?(e.pageSize=_e.value.toString(),be.value=_e.value):delete e.pageSize,fe.value!==je.value?(e.sort=fe.value,je.value=fe.value):delete e.sort,ue.saveProjectPreferencesToLocalStorage(B.params.projectId??"","workflows",{sort:fe.value,pageSize:_e.value}),await ee.replace({query:Object.keys(e).length?e:void 0})},Be=async()=>{if("list-paginated"!==ce.type)return;const e=B.query,t=ue.loadProjectPreferencesFromLocalStorage(B.params.projectId??"","workflows"),a={};if(e.page){const t=parseInt(e.page,10);t>1&&(ve.value=t,a.page=t)}if(e.pageSize??t.pageSize){const r=(s=parseInt(e.pageSize||String(t.pageSize),10),ce.availablePageSizeOptions.reduce(((e,t)=>Math.abs(t-s)<Math.abs(e-s)?t:e)));_e.value=r,a.pageSize=r,be.value=r}else _e.value=ce.customPageSize,a.pageSize=ce.customPageSize;var s;e.sort?fe.value=a.sort=je.value=e.sort:t.sort?(await Ae(t.sort,!1),a.sort=t.sort,je.value=t.sort):fe.value=ce.sortOptions[0],xe("update:pagination-and-sort",a)};return t({currentPage:ve,setCurrentPage:De,getScrollContainer:()=>"list-paginated"===ce.type?we.value??null:me.value??null}),(t,a)=>(m(),f(te,null,{header:y((()=>[h(t.$slots,"header",{},void 0,!0)])),default:y((()=>[e.loading?(m(),r("div",re,[c(o(L),{rows:25,"shrink-last":!1})])):(m(),r(v,{key:1},[ke.value?(m(),r("div",ie,[h(t.$slots,"empty",{},(()=>[c(o(E),{"data-test-id":"empty-resources-list",icon:{type:"emoji",value:"ðŸ‘‹"},heading:o(pe)(o(ne).currentUser?.firstName?"empty.heading":"empty.heading.userNotSetup",o(ne).currentUser?.firstName?"empty.heading":"empty.heading.userNotSetup",{name:o(ne).currentUser?.firstName??""}),description:o(pe)("empty.description"),"button-text":o(pe)("empty.button"),"button-type":"secondary","button-disabled":e.disabled,"onClick:button":Oe},{disabledButtonTooltip:y((()=>[b(s(o(pe)("empty.button.disabled.tooltip")),1)])),_:1},8,["heading","description","button-text","button-disabled"])]),!0)])):(m(),f(se,{key:1},{header:y((()=>[k("div",{class:$(t.$style["filters-row"])},[k("div",{class:$(t.$style.filters)},[h(t.$slots,"breadcrumbs",{},void 0,!0),ce.uiConfig.searchEnabled?(m(),f(o(N),{key:0,ref_key:"search",ref:ye,"model-value":$e.value.search,class:$(t.$style.search),placeholder:o(pe)("search.placeholder","search.placeholder"),size:"small",clearable:"","data-test-id":"resources-list-search","onUpdate:modelValue":Ke},{prefix:y((()=>[c(o(T),{icon:"search"})])),_:1},8,["model-value","class","placeholder"])):i("",!0),ce.uiConfig.sortEnabled?(m(),r("div",{key:1,class:$(t.$style["sort-and-filter"])},[c(o(R),{modelValue:fe.value,"onUpdate:modelValue":a[0]||(a[0]=e=>fe.value=e),size:"small",class:$(t.$style.resourceList),"data-test-id":"resources-list-sort",onChange:a[1]||(a[1]=e=>Ae(fe.value))},{default:y((()=>[(m(!0),r(v,null,w(e.sortOptions,(e=>(m(),f(o(W),{key:e,"data-test-id":"resources-list-sort-item",value:e,label:o(pe)(`sort.${e}`,`sort.${e}`)},null,8,["value","label"])))),128))])),_:1},8,["modelValue","class"])],2)):i("",!0),ce.uiConfig.showFiltersDropdown?(m(),r("div",{key:2,class:$(t.$style["sort-and-filter"])},[c(X,{keys:Pe.value,reset:Ue,"model-value":$e.value,shareable:e.shareable,"just-icon":!0,"onUpdate:modelValue":Re,"onUpdate:filtersLength":We},{default:y((e=>[h(t.$slots,"filters",S(n(e)),void 0,!0)])),_:3},8,["keys","model-value","shareable"]),h(t.$slots,"add-button",{},void 0,!0)],2)):i("",!0)],2)],2),h(t.$slots,"callout",{},void 0,!0),ce.uiConfig.showFiltersDropdown?P((m(),r("div",le,[c(o(A),{bold:!1},{default:y((()=>[b(s(Le.value?o(pe)("filters.active.shortText","filters.active.shortText"):o(pe)("filters.active","filters.active"))+" ",1),c(o(U),{"data-test-id":"workflows-filter-reset",size:"small",onClick:Ue},{default:y((()=>[b(s(o(pe)("filters.active.reset","filters.active.reset")),1)])),_:1})])),_:1})],512)),[[j,ge.value]]):i("",!0),a[4]||(a[4]=k("div",{class:"pb-xs"},null,-1))])),default:y((()=>[h(t.$slots,"preamble",{},void 0,!0),e.resourcesRefreshing?(m(),r("div",oe,[c(o(L),{rows:_e.value,"shrink-last":!1},null,8,["rows"])])):Se.value.length>0?(m(),r("div",{key:1,ref_key:"listWrapperRef",ref:me,"data-test-id":"resources-list-wrapper",class:$(t.$style.listWrapper)},["list-full"===e.type?(m(),f(o(D),{key:0,"data-test-id":"resources-list",items:Se.value,"item-size":"itemSize"in ce.typeProps?ce.typeProps.itemSize:0,"item-key":"id"},{default:y((({item:e,updateItemSize:a})=>[h(t.$slots,"default",{data:e,updateItemSize:a},void 0,!0)])),_:3},8,["items","item-size"])):"list-paginated"===e.type?(m(),r("div",{key:1,class:$(t.$style.paginatedListWrapper),"data-test-id":"paginated-list"},[k("div",{ref_key:"listItemsRef",ref:we,class:$(t.$style.listItems)},[(m(!0),r(v,null,w(e.resources,((e,a)=>(m(),r("div",{key:a,class:$(t.$style.listItem)},[h(t.$slots,"item",{item:e,index:a},(()=>[b(s(e),1)]),!0)],2)))),128))],2),k("div",{class:$(t.$style.listPagination)},[c(o(I),{"current-page":ve.value,"onUpdate:currentPage":[a[2]||(a[2]=e=>ve.value=e),De],"page-size":_e.value,"onUpdate:pageSize":a[3]||(a[3]=e=>_e.value=e),background:"",total:e.totalItems,"page-sizes":e.availablePageSizeOptions,layout:"total, prev, pager, next, sizes","data-test-id":"resources-list-pagination",onSizeChange:Ee},null,8,["current-page","page-size","total","page-sizes"])],2)],2)):i("",!0),"datatable"===e.type?(m(),f(o(K),{key:2,"data-test-id":"resources-table",class:$(t.$style.datatable),columns:"columns"in ce.typeProps?ce.typeProps.columns:[],rows:Se.value,"current-page":ve.value,"rows-per-page":_e.value,"onUpdate:currentPage":De,"onUpdate:rowsPerPage":Ee},{row:y((({columns:e,row:a})=>[h(t.$slots,"default",{data:a,columns:e},void 0,!0)])),postdata:y((()=>[h(t.$slots,"postdata",{},void 0,!0)])),_:3},8,["class","columns","rows","current-page","rows-per-page"])):i("",!0)],2)):Ie()||""!==$e.value.search?(m(),f(o(O),{key:2,color:"text-base",size:"medium","data-test-id":"resources-list-empty"},{default:y((()=>[b(s(o(pe)("noResults","noResults")),1)])),_:1})):i("",!0),h(t.$slots,"postamble",{},void 0,!0)])),_:3}))],64))])),_:3}))}}),e("t",B(ne,[["__cssModules",{$style:{"filters-row":"_filters-row_7jrhp_125",filters:"_filters_7jrhp_125","sort-and-filter":"_sort-and-filter_7jrhp_143",search:"_search_7jrhp_156",listWrapper:"_listWrapper_7jrhp_169",paginatedListWrapper:"_paginatedListWrapper_7jrhp_175",listItems:"_listItems_7jrhp_183",listPagination:"_listPagination_7jrhp_187",datatable:"_datatable_7jrhp_214",resourceList:"_resourceList_7jrhp_219"}}],["__scopeId","data-v-cac35f61"]]))}}}));
//# sourceMappingURL=ResourcesListLayout-legacy-F7QQXxoV.js.map