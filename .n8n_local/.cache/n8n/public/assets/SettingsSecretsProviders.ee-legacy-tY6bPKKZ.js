!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./ProjectIcon-legacy-j5-RLKs-.js","./SecretsProviderImage.ee-legacy-B5ua--WJ.js","./useSecretsProvidersList.ee-legacy-BTTXJGpb.js"],(function(e,t){var a,n,r,s,i,o,l,c,d,u,p,v,g,y,_,m,f,b,h,x,C,T,w,S,j,k,P,$,E,I,B,A,L,D,z,M,R,N,O,U,H,V,G,J,K,W,Z,F,Q,Y,q,X,ee,te,ae,ne,re,se,ie,oe,le,ce,de,ue;return{setters:[function(e){a=e.C,n=e.Cn,r=e.D,s=e.E,i=e.Gt,o=e.It,l=e.M,c=e.P,d=e.Q,u=e.T,p=e.Vt,v=e.Z,g=e._,y=e.bt,_=e.et,m=e.it,f=e.j,b=e.k,h=e.st,x=e.vn,C=e.w,T=e.xt},function(e){w=e.bt,S=e.yt},function(e){j=e.At,k=e.Et,P=e.Hi,$=e.Oi,E=e.Pi,I=e.Tt,B=e.Ui,A=e.Vi,L=e.bt,D=e.gi,z=e.zi},function(e){M=e.t},function(e){},function(e){R=e.Di,N=e.Gt,O=e.Jr,U=e._r,H=e.fn,V=e.r,G=e.yr},function(e){J=e.Es,K=e.oo,W=e.us},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){Z=e.t},function(e){F=e.n,Q=e.t},function(e){Y=e.t},function(e){q=e.t}],execute:function(){(X=document.createElement("style")).textContent="._card_1yi5y_2{--card--padding:var(--spacing--2xs);padding-left:var(--spacing--sm)}._providerImage_1yi5y_7{width:100%;height:100%}._headerContainer_1yi5y_12{align-items:center;gap:var(--spacing--3xs);display:flex}._cardBadge_1yi5y_18{margin-right:var(--spacing--3xs)}._badge_1yi5y_22{padding:var(--spacing--4xs)var(--spacing--2xs);background-color:var(--color--background--light-3);border-color:var(--color--foreground);height:23px}._badge_1yi5y_22>span{gap:var(--spacing--3xs);align-items:center;display:flex}._nowrap_1yi5y_35{white-space:nowrap!important}._iconCardContainer_mo660_2{margin-bottom:var(--spacing--lg);justify-content:center;align-items:center;display:flex}._iconCard_mo660_2{border:1px solid var(--color--neutral-100);background:var(--color--background--light-2);width:2.5rem;height:2.5rem;box-shadow:var(--shadow--dark);border-radius:var(--radius);justify-content:center;align-items:center;display:flex;overflow:hidden}._iconCard_mo660_2:first-child{transform:rotate(-8deg)}._iconCard_mo660_2:nth-child(2){z-index:1;margin-top:-.3rem}._iconCard_mo660_2:nth-child(3){transform:rotate(8deg)}._iconCard_mo660_2 img,._iconCard_mo660_2 svg{width:var(--spacing--lg);height:var(--spacing--lg)}._providerLogo_mo660_41{width:var(--spacing--lg);height:var(--spacing--lg);object-fit:contain;opacity:1;filter:blur();transition:opacity .3s ease-in-out,filter .3s ease-in-out}._fading_mo660_52{opacity:0;filter:blur(4px)}._container_wm73r_2{padding-bottom:var(--spacing--xl);max-width:702px;margin:0 auto}._headerContainer_wm73r_8{justify-content:space-between;align-items:center;display:flex}._headerTitle_wm73r_14{gap:var(--spacing--2xs);flex-direction:column;display:flex}._addButton_wm73r_20{margin-top:var(--spacing--lg);align-self:flex-end}._link_wm73r_25{text-transform:lowercase;align-items:center;display:inline-flex}\n/*$vite$:1*/",document.head.appendChild(X);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(pe=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[pe]="51323add-c176-4634-808d-bf1063258733",t._sentryDebugIdIdentifier="sentry-dbid-51323add-c176-4634-808d-bf1063258733")}catch(t){}var t,pe;ee={"data-test-id":"secrets-provider-display-name"},te={"data-test-id":"secrets-provider-secrets-count"},ae={"data-test-id":"secrets-provider-created-at"},ne={key:1},re=c({__name:"SecretsProviderConnectionCard.ee",props:{provider:{},providerTypeInfo:{},project:{},canUpdate:{type:Boolean}},emits:["edit","share","delete"],setup(e,{emit:t}){const o=S(),c=U(),d=e,v=t,g=p(d,"provider"),m=p(d,"providerTypeInfo"),w=a((()=>K.fromISO(O(g.value.createdAt)?g.value.createdAt.toISOString():g.value.createdAt||(new Date).toISOString()).toFormat("dd LLL yyyy"))),k=a((()=>"error"===g.value.state)),P=a((()=>c.hasScope("externalSecretsProvider:delete"))),E=a((()=>0===g.value.projects.length)),B=a((()=>{if(d.project){const{name:e,email:t}=R(d.project.name??void 0);return e??t??""}return""})),D=a((()=>E.value?{type:"icon",value:"globe"}:F(d.project?.icon)?d.project.icon:{type:"icon",value:"layers"})),M=a((()=>E.value?o.baseText("settings.secretsProviderConnections.badge.tooltip.global"):o.baseText("settings.secretsProviderConnections.badge.tooltip.project",{interpolate:{projectName:B.value}}))),N=a((()=>{if(!d.canUpdate)return[];const e=[{label:o.baseText("generic.edit"),value:"edit"},{label:o.baseText("settings.secretsProviderConnections.actions.share"),value:"share"}];return P.value&&e.push({label:o.baseText("generic.delete"),value:"delete"}),e}));function H(e){"edit"===e?v("edit",g.value.name):"share"===e?v("share",g.value.name):"delete"===e&&v("delete",g.value.name)}return(e,t)=>{const a=h("n8n-truncate");return _(),u(i(L),{class:x(e.$style.card),hoverable:""},b({header:y((()=>[C("div",{class:x(e.$style.headerContainer)},[l(i(z),{tag:"h2",bold:"","data-test-id":"secrets-provider-name"},{default:y((()=>[f(n(g.value.name),1)])),_:1}),k.value?(_(),u(i(j),{key:0,theme:"warning",bold:!1,size:"xsmall","data-test-id":"disconnected-badge"},{default:y((()=>[f(n(i(o).baseText("settings.secretsProviderConnections.state.disconnected")),1)])),_:1})):s("",!0)],2)])),default:y((()=>[l(i(A),{class:"pb-4xs",color:"text-light",size:"small"},{default:y((()=>[C("span",ee,n(m.value?.displayName??g.value.type),1),t[0]||(t[0]=f(" | ",-1)),C("span",te,n(1===g.value.secretsCount?i(o).baseText("settings.externalSecrets.card.secretCount",{interpolate:{count:`${g.value.secretsCount}`}}):i(o).baseText("settings.externalSecrets.card.secretsCount",{interpolate:{count:`${g.value.secretsCount}`}})),1),t[1]||(t[1]=f(" | ",-1)),C("span",ae,n(i(o).baseText("settings.secretsProviderConnections.card.createdAt",{interpolate:{date:w.value}})),1)])),_:1})])),append:y((()=>[l(i($),{class:x(e.$style.cardBadge),placement:"top"},{content:y((()=>[f(n(M.value),1)])),default:y((()=>[l(i(j),{class:x(e.$style.badge),theme:"tertiary","data-test-id":E.value?"secrets-provider-global-badge":"secrets-provider-project-badge"},{default:y((()=>[l(Q,{icon:D.value,"border-less":!0,size:"mini"},null,8,["icon"]),E.value?(_(),r("span",ne,n(i(o).baseText("projects.badge.global")),1)):T((_(),r("span",{key:0,class:x(e.$style.nowrap)},[f(n(B.value),1)],2)),[[a,B.value,"20"]])])),_:1},8,["class","data-test-id"])])),_:1},8,["class"]),l(i(I),{actions:N.value,"data-test-id":"secrets-provider-action-toggle",onAction:H},null,8,["actions"])])),_:2},[m.value?{name:"prepend",fn:y((()=>[l(Y,{class:x(e.$style.providerImage),provider:m.value,"data-test-id":"secrets-provider-image"},null,8,["class","provider"])])),key:"0"}:void 0]),1032,["class"])}}}),se=M(re,[["__cssModules",{$style:{card:"_card_1yi5y_2",providerImage:"_providerImage_1yi5y_7",headerContainer:"_headerContainer_1yi5y_12",cardBadge:"_cardBadge_1yi5y_18",badge:"_badge_1yi5y_22",nowrap:"_nowrap_1yi5y_35"}}]]),ie=c({__name:"SecretsProvidersEmptyState.ee",props:{providerTypes:{},canCreate:{type:Boolean}},emits:["addSecretsStore"],setup(e,{emit:t}){const c=S(),g=p(e,"providerTypes"),m=a((()=>g.value??[])),b=t,h=o(0),T=o(2),w=o(!1),j=o(!1);let k=null;function $(){b("addSecretsStore")}return v((()=>{k=setInterval((()=>{w.value=!0,setTimeout((()=>{h.value=(h.value+1)%m.value.length,w.value=!1}),300),setTimeout((()=>{j.value=!0,setTimeout((()=>{T.value=(T.value+1)%m.value.length,j.value=!1}),300)}),1500)}),3e3)})),d((()=>{k&&clearInterval(k)})),(t,a)=>(_(),u(i(E),{class:"mt-2xl mb-l",description:"yes","data-test-id":"secrets-provider-connections-empty-state"},{description:y((()=>[C("div",{class:x(t.$style.iconCardContainer)},[m.value?.[h.value]?(_(),r("div",{key:0,class:x(t.$style.iconCard)},[l(Y,{provider:m.value?.[h.value],class:x([t.$style.providerLogo,{[t.$style.fading]:w.value}])},null,8,["provider","class"])],2)):s("",!0),C("div",{class:x(t.$style.iconCard)},[l(i(B),{icon:"vault"})],2),m.value?.[T.value]?(_(),r("div",{key:1,class:x(t.$style.iconCard)},[l(Y,{provider:m.value?.[T.value],class:x([t.$style.providerLogo,{[t.$style.fading]:j.value}])},null,8,["provider","class"])],2)):s("",!0)],2),l(i(z),{tag:"h2",size:"medium",align:"center",class:"mb-2xs"},{default:y((()=>[f(n(i(c).baseText("settings.secretsProviderConnections.emptyState.heading")),1)])),_:1}),C("div",null,n(i(c).baseText("settings.secretsProviderConnections.emptyState.description")),1)])),additionalContent:y((()=>[l(i(P),{variant:"ghost",class:"mr-2xs n8n-button--highlight",href:i(c).baseText("settings.externalSecrets.docs"),target:"_blank","data-test-id":"secrets-provider-connections-learn-more"},{default:y((()=>[f(n(i(c).baseText("generic.learnMore"))+" ",1),l(i(B),{icon:"arrow-up-right"})])),_:1},8,["href"]),e.canCreate?(_(),u(i(P),{key:0,variant:"solid",onClick:$},{default:y((()=>[f(n(i(c).baseText("settings.secretsProviderConnections.buttons.addSecretsStore")),1)])),_:1})):s("",!0)])),_:1}))}}),oe=M(ie,[["__cssModules",{$style:{iconCardContainer:"_iconCardContainer_mo660_2",iconCard:"_iconCard_mo660_2",providerLogo:"_providerLogo_mo660_41",fading:"_fading_mo660_52"}}]]),le={key:0,"data-test-id":"secrets-provider-connections-content-licensed"},ce={key:0,"data-test-id":"secrets-providers-loading"},de={key:2},ue=["href"],e("default",M(c({__name:"SettingsSecretsProviders.ee",setup(e){const t=S(),o=q(),c=N(),d=G(),p=H(),b=Z(),h=V(),T=a((()=>o.activeProviders.value.length>0));function j(e){return e&&0!==e.projects.length?c.projects.find((t=>t.id===e.projects[0].id))??null:null}function $(e,t="connection"){const a=o.activeProviders.value.map((e=>e.name));h.openModalWithData({name:J,data:{activeTab:t,providerKey:e,providerTypes:o.providerTypes.value,existingProviderNames:a,onClose:async()=>{await o.fetchActiveConnections()}}})}function I(e){$(e,"connection")}function L(e){$(e,"sharing")}function M(e){const t=o.activeProviders.value.find((t=>t.name===e));t&&h.openModalWithData({name:W,data:{providerKey:t.name,providerName:t.name,secretsCount:t.secretsCount??0,onConfirm:async()=>{await o.fetchActiveConnections()}}})}function R(){b.goToUpgrade("external-secrets","upgrade-external-secrets")}return v((async()=>{if(p.set(t.baseText("settings.secretsProviderConnections.title")),o.isEnterpriseExternalSecretsEnabled.value)try{await Promise.all([o.fetchProviderTypes(),o.fetchActiveConnections(),c.getAllProjects()])}catch(e){d.showError(e,t.baseText("error"))}})),(e,a)=>(_(),r("div",{class:x(e.$style.container)},[C("div",{class:x(["mb-xl",e.$style.headerContainer])},[C("div",{class:x(e.$style.headerTitle)},[l(i(z),{tag:"h1",size:"2xlarge"},{default:y((()=>[f(n(i(t).baseText("settings.secretsProviderConnections.title")),1)])),_:1}),i(o).isEnterpriseExternalSecretsEnabled.value&&T.value?(_(),u(i(A),{key:0,color:"text-base",size:"medium"},{default:y((()=>[f(n(i(t).baseText("settings.secretsProviderConnections.description"))+" "+n(i(t).baseText("credentialResolver.view.learnMore"))+" ",1),l(i(D),{theme:"text",href:i(t).baseText("settings.externalSecrets.docs"),size:"medium","new-window":""},{default:y((()=>[C("span",{class:x(e.$style.link)},[f(n(i(t).baseText("generic.documentation"))+" ",1),l(i(B),{icon:"arrow-up-right"})],2)])),_:1},8,["href"])])),_:1})):s("",!0),T.value&&i(o).canCreate.value?(_(),u(i(P),{key:1,class:x(e.$style.addButton),type:"primary",onClick:a[0]||(a[0]=e=>$())},{default:y((()=>[l(i(B),{icon:"plus"}),f(" "+n(i(t).baseText("settings.secretsProviderConnections.buttons.addSecretsStore")),1)])),_:1},8,["class"])):s("",!0)],2)],2),i(o).isEnterpriseExternalSecretsEnabled.value?(_(),r("div",le,[i(o).isLoading.value&&!T.value?(_(),r("div",ce,[(_(),r(g,null,m(3,(e=>C("div",{key:e,class:"mb-2xs"},[l(i(k),{variant:"p",rows:1})]))),64))])):T.value?(_(),r("div",de,[(_(!0),r(g,null,m(i(o).activeProviders.value,(e=>{return _(),u(se,{key:e.name,class:"mb-2xs",provider:e,"provider-type-info":(t=e.type,o.providerTypes.value.find((e=>e.type===t))),project:j(e),"can-update":i(o).canUpdate.value,onClick:t=>{$(e.name,"connection")},onEdit:I,onShare:L,onDelete:M},null,8,["provider","provider-type-info","project","can-update","onClick"]);var t})),128))])):(_(),u(oe,{key:1,"provider-types":i(o).providerTypes.value,"can-create":i(o).canCreate.value,onAddSecretsStore:a[1]||(a[1]=e=>$())},null,8,["provider-types","can-create"]))])):(_(),u(i(E),{key:1,class:"mt-2xl mb-l","data-test-id":"secrets-provider-connections-content-unlicensed","button-text":i(t).baseText("settings.externalSecrets.actionBox.buttonText"),onClick:R},{heading:y((()=>[C("span",null,n(i(t).baseText("settings.externalSecrets.actionBox.title")),1)])),description:y((()=>[l(i(w),{keypath:"settings.externalSecrets.actionBox.description",scope:"global"},{link:y((()=>[C("a",{href:i(t).baseText("settings.externalSecrets.docs"),target:"_blank"},n(i(t).baseText("settings.externalSecrets.actionBox.description.link")),9,ue)])),_:1})])),_:1},8,["button-text"]))],2))}}),[["__cssModules",{$style:{container:"_container_wm73r_2",headerContainer:"_headerContainer_wm73r_8",headerTitle:"_headerTitle_wm73r_14",addButton:"_addButton_wm73r_20",link:"_link_wm73r_25"}}]]))}}}));
//# sourceMappingURL=SettingsSecretsProviders.ee-legacy-tY6bPKKZ.js.map