!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./mcp.constants-legacy-DUR_mUvx.js"],(function(e,t){var n,a,s,l,o,i,r,c,d,u,g,_,f,p,y,v,b,h,x,w,m,k,T,j,C,$,E,V,z,D,N,I,S,L;return{setters:[function(e){n=e.C,a=e.Cn,s=e.D,l=e.E,o=e.Gt,i=e.It,r=e.M,c=e.P,d=e.T,u=e.Z,g=e.bt,_=e.et,f=e.j,p=e.st,y=e.vn,v=e.w,b=e.xt},function(e){h=e.yt},function(e){x=e.Hi,w=e.U,m=e.Ui,k=e.Vi,T=e.X,j=e.zi},function(e){C=e.t},function(e){},function(e){$=e.Wc,E=e.fn,V=e.yr},function(e){},function(e){},function(e){z=e.d,D=e.j,N=e.r},function(e){},function(e){},function(e){I=e.a}],execute:function(){(S=document.createElement("style")).textContent="._overlay_k3net_125{z-index:1000;background-color:rgba(71,69,84,.75);justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:fixed;top:0;left:0}._consent-dialog_k3net_138{min-width:500px;max-width:70%;padding:var(--spacing--lg);background-color:var(--color--background--light-3);border:var(--border);border-radius:var(--radius--lg);flex-direction:column;align-items:center;display:flex;position:relative}._header_k3net_151{align-items:center;gap:var(--spacing--xs);display:flex}._logo_k3net_157{width:var(--spacing--2xl);height:var(--spacing--2xl);border:var(--border);border-radius:var(--radius);justify-content:center;align-items:center;display:flex}._logo_k3net_157._n8n_k3net_166>div{bottom:var(--spacing--5xs);position:relative}._content_k3net_171{padding:var(--spacing--lg);gap:var(--spacing--sm);flex-direction:column;display:flex}._success_k3net_178{padding:var(--spacing--xl);align-items:center;gap:var(--spacing--2xs);text-align:center;flex-direction:column;display:flex}._text-content_k3net_187{gap:var(--spacing--sm);flex-direction:column;display:flex}._permission-list_k3net_193{gap:var(--spacing--2xs);padding-left:var(--spacing--lg);flex-direction:column;list-style-type:disc;display:flex}._permission-list_k3net_193 li,._docs-link_k3net_205{color:var(--color--text);font-size:var(--font-size--2xs)}._footer_k3net_210{justify-content:center;gap:var(--spacing--sm);flex-direction:column;width:100%;display:flex}._footer_k3net_210 .notice{margin:0}._footer_k3net_210 ._button-group_k3net_220{justify-content:center;gap:var(--spacing--2xs);display:flex}\n/*$vite$:1*/",document.head.appendChild(S);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(U=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[U]="d21a443f-974e-46f3-93d8-1efb1d8af62b",t._sentryDebugIdIdentifier="sentry-dbid-d21a443f-974e-46f3-93d8-1efb1d8af62b")}catch(t){}var t,U;L=D($.CONSENT,(()=>{const e=i(null),t=i(!1),n=i(null),a=N();return{fetchConsentDetails:async()=>{t.value=!0,n.value=null;try{return e.value=await async function(e){return await z(e,"GET","/consent/details")}(a.restApiContext),e.value}catch(s){throw n.value=s instanceof Error?s.message:"Failed to load consent details",s}finally{t.value=!1}},approveConsent:async e=>{t.value=!0,n.value=null;try{return await async function(e,t){return await z(e,"POST","/consent/approve",{approved:t})}(a.restApiContext,e)}catch(s){throw n.value=s instanceof Error?s.message:"Failed to process consent",s}finally{t.value=!1}},resetState:()=>{e.value=null,t.value=!1,n.value=null},consentDetails:e,isLoading:t,error:n}})),e("default",C(c({__name:"OAuthConsentView",setup(e){const t=["claude","mcp inspector"],c=["lovable"],C=L(),$=h(),z=E(),D=V(),N=i(!1),S=n((()=>C.error)),U=n((()=>C.isLoading)),A=n((()=>C.consentDetails)),M=n((()=>{const e=A.value?.clientName?.toLowerCase()??"";return t.some((t=>e.includes(t)))?"anthropic":c.some((t=>e.includes(t)))?"lovable":"mcp"})),O=async()=>{try{const e=await C.approveConsent(!0);N.value=!0,window.location.href=e.redirectUrl}catch(e){D.showError(e,$.baseText("oauth.consentView.error.allow"))}},P=async()=>{try{const e=await C.approveConsent(!1);window.location.href=e.redirectUrl}catch(e){D.showError(e,$.baseText("oauth.consentView.error.deny"))}};return u((async()=>{z.set($.baseText("oauth.consentView.title"));try{await C.fetchConsentDetails()}catch(e){D.showError(e,$.baseText("oauth.consentView.error.fetchDetails"))}})),(e,t)=>{const n=p("n8n-html");return _(),s("div",{class:y(e.$style.overlay)},[v("div",{class:y(e.$style["consent-dialog"])},[v("header",{class:y(e.$style.header)},[v("div",{class:y([e.$style.logo,e.$style.n8n])},[r(o(T),{size:"small",collapsed:!0,"release-channel":"stable"})],2),v("div",{class:y(e.$style.arrow)},[r(o(m),{icon:"arrow-right",size:"large",color:"text-light"})],2),v("div",{class:y(e.$style.logo)},[r(o(m),{icon:M.value,size:"xlarge",color:"text-dark"},null,8,["icon"])],2)],2),N.value?(_(),s("div",{key:0,class:y(e.$style.success),"data-test-id":"consent-success-screen"},[r(o(j),{tag:"h2",size:"large",bold:!0},{default:g((()=>[f(a(o($).baseText("oauth.consentView.success.title")),1)])),_:1}),r(o(k),{color:"text-base"},{default:g((()=>[f(a(o($).baseText("oauth.consentView.success.description")),1)])),_:1})],2)):(_(),s("div",{key:1,class:y(e.$style.content),"data-test-id":"consent-content"},[r(o(j),{tag:"h2",size:"large",bold:!0},{default:g((()=>[f(a(o($).baseText("oauth.consentView.heading",{interpolate:{clientName:A.value?.clientName??""}})),1)])),_:1}),v("div",{class:y(e.$style["text-content"])},[r(o(k),{color:"text-base",size:"small"},{default:g((()=>[f(a(o($).baseText("oauth.consentView.description",{interpolate:{clientName:A.value?.clientName??""}})),1)])),_:1}),v("ul",{class:y(e.$style["permission-list"])},[v("li",null,a(o($).baseText("oauth.consentView.action.listWorkflows")),1),v("li",null,a(o($).baseText("oauth.consentView.action.workflowDetails")),1),v("li",null,a(o($).baseText("oauth.consentView.action.executeWorkflows")),1)],2),v("p",{class:y(e.$style["docs-link"])},[b(v("span",null,null,512),[[n,o($).baseText("oauth.consentView.readMore",{interpolate:{docsUrl:o(I)}})]])],2)],2)],2)),N.value?l("",!0):(_(),s("footer",{key:2,class:y(e.$style.footer)},[S.value?(_(),d(o(w),{key:0,theme:"danger","data-test-id":"consent-error-notice",content:S.value},null,8,["content"])):l("",!0),v("div",{class:y(e.$style["button-group"])},[r(o(x),{variant:"subtle","data-test-id":"consent-deny-button",size:"large",loading:U.value,disabled:U.value||null!==S.value,onClick:P},{default:g((()=>[f(a(o($).baseText("generic.deny")),1)])),_:1},8,["loading","disabled"]),r(o(x),{variant:"solid","data-test-id":"consent-allow-button",size:"large",loading:U.value,disabled:U.value||null!==S.value,onClick:O},{default:g((()=>[f(a(o($).baseText("generic.allow")),1)])),_:1},8,["loading","disabled"])],2)],2))],2)],2)}}}),[["__cssModules",{$style:{overlay:"_overlay_k3net_125","consent-dialog":"_consent-dialog_k3net_138",header:"_header_k3net_151",logo:"_logo_k3net_157",n8n:"_n8n_k3net_166",content:"_content_k3net_171",success:"_success_k3net_178","text-content":"_text-content_k3net_187","permission-list":"_permission-list_k3net_193","docs-link":"_docs-link_k3net_205",footer:"_footer_k3net_210","button-group":"_button-group_k3net_220"}}]]))}}}));
//# sourceMappingURL=OAuthConsentView-legacy-BFv4G5QP.js.map