(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`2aed790c-3e10-4f3d-9d73-c47d72e3efaf`,e._sentryDebugIdIdentifier=`sentry-dbid-2aed790c-3e10-4f3d-9d73-c47d72e3efaf`)})()}catch{}import{C as e,Cn as t,E as n,Gt as r,It as i,J as a,M as o,P as s,T as c,Z as l,_t as u,bt as d,et as f,h as p,j as m,k as h,vn as g,w as _}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as v}from"./_MapCache-DjbOQyB7.js";import{Ci as y,Hi as b,Vi as x,Y as S,wi as C}from"./src-CppJvwzX.js";import{t as w}from"./_plugin-vue_export-helper-B_J4Khre.js";import"./sanitize-html-K63Olwt_.js";import{C as T,Lt as E,fn as D,xn as O,xr as k}from"./users.store-pCkD7Zo0.js";import"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import"./_baseOrderBy-El3qbNHQ.js";import"./dateformat-BhE5sUDK.js";import"./useDebounce-D6lADr4O.js";import"./executions.store-DnLtKXBA.js";import"./uniqBy-Bd2DEoH8.js";import"./nodeIcon--7uU1Imq.js";import"./NodeIcon-Dv1e4Lvu.js";import"./nodeTransforms-CG9uauaw.js";import"./templateTransforms-u0_D8fwP.js";import"./values-B1M_mAMY.js";import{t as A}from"./RecommendedTemplateCard-DkYsGwkL.js";import{t as j}from"./WorkflowPreview-CJf5czT0.js";import{n as M}from"./templateActions-mFhFI7hF.js";import{t as N}from"./TemplatesView-C8R65plk.js";var P=w(s({__name:`TemplatesWorkflowView`,setup(s){let w=k(),P=O(),F=T(),I=y(),L=C(),R=E(),z=v(),B=D(),V=i(!0),H=i(!0),U=i(!1),W=i(!0),G=i(null),K=null,q=e(()=>Array.isArray(I.params.id)?I.params.id[0]:I.params.id),J=e(()=>P.getFullTemplateById(q.value)),Y=async(e,t)=>{await M({router:L,templateId:e,inNewBrowserTab:t.metaKey||t.ctrlKey,externalHooks:w,nodeTypesStore:F,telemetry:R,templatesStore:P,source:`template_preview`})},X=()=>{H.value=!1},Z=()=>{let e=document.getElementById(`content`);e&&e.scrollTo({top:0})};u(()=>J.value,e=>{e?B.set(`Template template: ${e.name}`):B.set(`Templates`)}),u(G,e=>{K&&=(K.disconnect(),null),e&&(K=new IntersectionObserver(e=>{for(let t of e)W.value=t.isIntersecting},{threshold:0}),K.observe(e))},{immediate:!0}),l(async()=>{if(Z(),J.value?.full){V.value=!1;return}try{await P.fetchTemplateById(q.value)}catch{U.value=!0}V.value=!1}),a(()=>{K&&=(K.disconnect(),null)});let Q=e(()=>{if(J.value?.workflow)return J.value.readyToDemo?J.value.workflow:{...J.value.workflow,pinData:{}}});return(e,i)=>(f(),c(N,{"full-width":!0},h({_:2},[U.value?{name:`header`,fn:d(()=>[_(`div`,{class:g(e.$style.notFound)},[o(r(x),{color:`text-base`},{default:d(()=>[m(t(r(z).baseText(`templates.workflowsNotFound`)),1)]),_:1})],2)]),key:`0`}:void 0,U.value?void 0:{name:`content`,fn:d(()=>[_(`div`,{class:g(e.$style.previewWrapper)},[_(`div`,{class:g(e.$style.image)},[H.value?(f(),c(j,{key:0,loading:V.value,workflow:Q.value,onClose:X},null,8,[`loading`,`workflow`])):n(``,!0)],2)],2),_(`div`,{class:g(e.$style.contentContainer)},[_(`div`,{class:g(e.$style.content)},[_(`div`,{class:g(e.$style.templateCard)},[J.value?(f(),c(A,{key:0,template:J.value,"show-details":!0},{belowContent:d(()=>[o(r(b),{"data-test-id":`use-template-button`,label:r(z).baseText(`template.buttons.tryTemplate`),size:`large`,onClick:i[0]||=p(e=>Y(q.value,e),[`stop`])},null,8,[`label`])]),_:1},8,[`template`])):n(``,!0)],2),_(`div`,{class:g(e.$style.markdown),"data-test-id":`template-description`},[o(r(S),{content:J.value?.description,images:J.value?.image,loading:V.value},null,8,[`content`,`images`,`loading`])],2)],2)],2)]),key:`1`}]),1024))}}),[[`__cssModules`,{$style:{notFound:`_notFound_1t3tp_125`,previewWrapper:`_previewWrapper_1t3tp_129`,image:`_image_1t3tp_133`,button:`_button_1t3tp_143`,contentContainer:`_contentContainer_1t3tp_151`,content:`_content_1t3tp_151`,templateCard:`_templateCard_1t3tp_167`,markdown:`_markdown_1t3tp_182`}}]]);export{P as default};
//# sourceMappingURL=TemplatesWorkflowView-KiIA2UKP.js.map