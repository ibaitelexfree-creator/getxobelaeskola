!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./useEnvFeatureFlag-legacy-D1JgdFvC.js","./externalSecrets.ee.store-legacy-iYi_lGhf.js","./ExternalSecretsProviderConnectionSwitch.ee-legacy-BTlIz38O.js"],(function(e,t){var n,a,s,r,i,c,l,o,d,u,g,p,y,f,x,_,b,v,m,h,S,w,T,k,E,j,z,C,I,A,$,B,D,P,L,M,O,W,R,V,F,G,H,N,U,J,Y;return{setters:[function(e){n=e.C,a=e.Cn,s=e.D,r=e.E,i=e.G,c=e.Gt,l=e.M,o=e.P,d=e.T,u=e.Vt,g=e.Z,p=e._,y=e.bt,f=e.et,x=e.it,_=e.j,b=e.vn,v=e.w},function(e){m=e.bt,h=e.yt},function(e){S=e.At,w=e.Bi,T=e.Hi,k=e.Pi,E=e.Tt,j=e.Ui,z=e.Vi,C=e.bt,I=e.zi},function(e){A=e.t},function(e){},function(e){$=e.Jr,B=e.fn,D=e.r,P=e.yr},function(e){L=e.ms,M=e.oo},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){O=e.t},function(e){},function(e){W=e.t},function(e){R=e.n,V=e.r,F=e.t}],execute:function(){(G=document.createElement("style")).textContent="._card_184zs_125{margin-bottom:var(--spacing--2xs);position:relative}._cardImage_184zs_130{width:28px;height:28px}._cardBody_184zs_135{flex-direction:row;align-items:center;display:flex}._cardContent_184zs_141{margin-left:var(--spacing--sm);flex-direction:column;flex-grow:1;display:flex}._cardActions_184zs_148{margin-left:var(--spacing--sm);flex-direction:row;align-items:center;display:flex}._deprecationWarning_184zs_155{display:flex}._warningTriangle_184zs_159{color:var(--color--warning);margin-right:var(--spacing--2xs)}\n/*$vite$:1*/",document.head.appendChild(G);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(Z=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[Z]="c56a8978-010b-400d-987a-608de8051b81",t._sentryDebugIdIdentifier="sentry-dbid-c56a8978-010b-400d-987a-608de8051b81")}catch(t){}var t,Z;H=A(o({__name:"ExternalSecretsProviderCard.ee",props:{provider:{}},setup(e){const t=e,o=W(),p=h(),x=D(),m=P(),w=u(t,"provider"),k=n((()=>w.value.data??{})),{connectionState:I,testConnection:A,setConnectionState:B}=V(w,k),O=n((()=>[{value:"setup",label:p.baseText("settings.externalSecrets.card.actionDropdown.setup")},...t.provider.connected?[{value:"reload",label:p.baseText("settings.externalSecrets.card.actionDropdown.reload")}]:[]])),G=n((()=>t.provider.connected||Object.keys(k.value).length>0)),H=n((()=>M.fromISO($(w.value.connectedAt)?w.value.connectedAt.toISOString():w.value.connectedAt||(new Date).toISOString()).toFormat("dd LLL yyyy")));async function N(){return!!t.provider.connected||(await o.getProvider(t.provider.name),await i(),"error"!==await A())}function U(){x.openModalWithData({name:L,data:{name:t.provider.name}})}async function J(e){switch(e){case"setup":U();break;case"reload":await async function(){try{await o.reloadProvider(t.provider.name),m.showMessage({title:p.baseText("settings.externalSecrets.card.reload.success.title"),message:p.baseText("settings.externalSecrets.card.reload.success.description",{interpolate:{provider:t.provider.displayName}}),type:"success"})}catch(e){m.showError(e,p.baseText("error"))}}()}}return g((()=>{B(t.provider.state)})),(e,t)=>(f(),d(c(C),{class:b(e.$style.card)},{default:y((()=>[v("div",{class:b(e.$style.cardBody)},[l(R,{class:b(e.$style.cardImage),provider:w.value},null,8,["class","provider"]),v("div",{class:b(e.$style.cardContent)},[l(c(z),{bold:""},{default:y((()=>[_(a(w.value.displayName),1)])),_:1}),w.value.connected?(f(),d(c(z),{key:0,color:"text-light",size:"small"},{default:y((()=>[v("span",null,a(c(p).baseText("settings.externalSecrets.card.secretsCount",{interpolate:{count:`${c(o).secrets[w.value.name]?.length}`}})),1),t[1]||(t[1]=_(" | ",-1)),v("span",null,a(c(p).baseText("settings.externalSecrets.card.connectedAt",{interpolate:{date:H.value}})),1)])),_:1})):r("",!0)],2),"infisical"===w.value.name?(f(),s("div",{key:0,class:b(e.$style.deprecationWarning)},[l(c(j),{class:b(e.$style.warningTriangle),icon:"triangle-alert"},null,8,["class"]),l(c(S),{class:"mr-xs",theme:"tertiary",bold:"","data-test-id":"card-badge"},{default:y((()=>[_(a(c(p).baseText("settings.externalSecrets.card.deprecated")),1)])),_:1})],2)):r("",!0),G.value?(f(),s("div",{key:1,class:b(e.$style.cardActions)},[l(F,{provider:w.value,"before-update":N,disabled:"error"===c(I)&&!w.value.connected},null,8,["provider","disabled"]),l(c(E),{class:"ml-s",theme:"dark",actions:O.value,onAction:J},null,8,["actions"])],2)):(f(),d(c(T),{key:2,variant:"subtle",onClick:t[0]||(t[0]=e=>U())},{default:y((()=>[_(a(c(p).baseText("settings.externalSecrets.card.setUp")),1)])),_:1}))],2)])),_:1},8,["class"]))}}),[["__cssModules",{$style:{card:"_card_184zs_125",cardImage:"_cardImage_184zs_130",cardBody:"_cardBody_184zs_135",cardContent:"_cardContent_184zs_141",cardActions:"_cardActions_184zs_148",deprecationWarning:"_deprecationWarning_184zs_155",warningTriangle:"_warningTriangle_184zs_159"}}]]),N={class:"pb-3xl"},U={key:0,"data-test-id":"external-secrets-content-licensed"},J={href:"https://docs.n8n.io/external-secrets/",target:"_blank"},Y={href:"https://docs.n8n.io/external-secrets/",target:"_blank"},e("default",o({__name:"SettingsExternalSecrets",setup(e){const t=h(),r=W(),i=P(),o=B(),u=O(),b=n((()=>[...r.providers].sort(((e,t)=>t.name.localeCompare(e.name)))));function S(){u.goToUpgrade("external-secrets","upgrade-external-secrets")}return g((()=>{if(o.set(t.baseText("settings.externalSecrets.title")),r.isEnterpriseExternalSecretsEnabled)try{r.fetchGlobalSecrets(),r.getProviders()}catch(e){i.showError(e,t.baseText("error"))}})),(e,n)=>(f(),s("div",N,[l(c(I),{size:"2xlarge"},{default:y((()=>[_(a(c(t).baseText("settings.externalSecrets.title")),1)])),_:1}),c(r).isEnterpriseExternalSecretsEnabled?(f(),s("div",U,[l(c(w),{theme:"secondary",class:"mt-2xl mb-l"},{default:y((()=>[_(a(c(t).baseText("settings.externalSecrets.info"))+" ",1),v("a",J,a(c(t).baseText("settings.externalSecrets.info.link")),1)])),_:1}),(f(!0),s(p,null,x(b.value,(e=>(f(),d(H,{key:e.name,provider:e},null,8,["provider"])))),128))])):(f(),d(c(k),{key:1,class:"mt-2xl mb-l","data-test-id":"external-secrets-content-unlicensed","button-text":c(t).baseText("settings.externalSecrets.actionBox.buttonText"),onClick:S},{heading:y((()=>[v("span",null,a(c(t).baseText("settings.externalSecrets.actionBox.title")),1)])),description:y((()=>[l(c(m),{keypath:"settings.externalSecrets.actionBox.description",scope:"global"},{link:y((()=>[v("a",Y,a(c(t).baseText("settings.externalSecrets.actionBox.description.link")),1)])),_:1})])),_:1},8,["button-text"]))]))}}))}}}));
//# sourceMappingURL=SettingsExternalSecrets-legacy-ClLP-4Tu.js.map