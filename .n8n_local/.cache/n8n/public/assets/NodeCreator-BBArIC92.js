(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`4e728be7-3758-4473-823a-c04698b444cc`,e._sentryDebugIdIdentifier=`sentry-dbid-4e728be7-3758-4473-823a-c04698b444cc`)})()}catch{}import{o as e}from"./chunk-Din3qlHY.js";import{A as t,C as n,Cn as r,D as i,E as a,Gt as o,Ht as s,I as c,It as l,J as u,M as d,P as f,Pt as p,Q as m,St as h,T as g,W as _,Z as v,_ as y,_t as b,at as x,bn as S,bt as C,c as w,et as T,h as E,it as D,j as O,k,n as A,p as j,st as M,vn as N,w as P,xt as F,yn as I}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{g as ee,gt as L,yt as R}from"./_MapCache-DjbOQyB7.js";import{Bi as z,Et as B,G as V,Hi as H,Mi as te,Oi as U,Q as ne,U as W,Ui as G,Vi as K,W as q,gi as re}from"./src-CppJvwzX.js";import{t as J}from"./_plugin-vue_export-helper-B_J4Khre.js";import"./sanitize-html-K63Olwt_.js";import{A as ie,B as ae,C as Y,E as oe,Ea as se,In as ce,L as le,Lt as ue,O as de,P as fe,R as pe,Tn as me,U as he,j as ge,r as _e,rt as ve,s as ye,t as be,w as xe,xr as Se}from"./users.store-pCkD7Zo0.js";import{Cr as Ce,Ct as we,I as Te,Kn as Ee,Mt as De,Ot as Oe,R as ke,St as Ae,Ua as je,Zt as Me,bn as Ne,dt as Pe,ft as Fe,ht as Ie,kt as Le,qn as Re,ut as ze,yt as Be}from"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import"./_baseOrderBy-El3qbNHQ.js";import{t as Ve}from"./banners.store-Ce6ZTWqJ.js";import"./dateformat-BhE5sUDK.js";import{t as He}from"./useDebounce-D6lADr4O.js";import"./executions.store-DnLtKXBA.js";import"./assistant.store-BGYzebcZ.js";import{t as Ue}from"./chatPanel.store-YdM_XYGp.js";import{n as We}from"./exports--h7UC0Af.js";import"./semver-DulOjSKL.js";import{n as Ge}from"./usePinnedData-C6FFXoty.js";import{t as Ke}from"./nodeIcon--7uU1Imq.js";import"./canvas.utils-C8dCdoZZ.js";import{a as qe,c as Je,i as X,l as Ye,n as Z,o as Xe,s as Ze,t as Q,u as Qe}from"./nodeCreator.store-KD9kt9dE.js";import"./useCanvasOperations-BHGWcL34.js";import"./folders.store-CS_gIPIm.js";import{a as $e,i as et,n as tt,o as nt,r as rt,t as it}from"./QuickConnectBanner-zXpJTy1t.js";import{t as at}from"./useQuickConnect-D8uMNvJo.js";import{t as $}from"./NodeIcon-Dv1e4Lvu.js";import{t as ot}from"./useCalloutHelpers-BqZQxC7j.js";import{t as st}from"./useActions-C_2-IL4P.js";import{t as ct}from"./SlideTransition-B2CvVl70.js";var lt={viewBox:`0 0 24 24`,width:`1.2em`,height:`1.2em`};function ut(e,t){return T(),i(`svg`,lt,[...t[0]||=[P(`path`,{fill:`currentColor`,d:`m23 12l-2.44-2.78l.34-3.68l-3.61-.82l-1.89-3.18L12 3L8.6 1.54L6.71 4.72l-3.61.81l.34 3.68L1 12l2.44 2.78l-.34 3.69l3.61.82l1.89 3.18L12 21l3.4 1.46l1.89-3.18l3.61-.82l-.34-3.68zm-13 5l-4-4l1.41-1.41L10 14.17l6.59-6.59L18 9z`},null,-1)]])}var dt={name:`mdi-verified`,render:ut},ft=J(f({__name:`NodeItem`,props:{nodeType:{},subcategory:{default:void 0},active:{type:Boolean,default:!1}},setup(e){let t=e,s=R(),c=ue(),{actions:u}=Q(),{getAddedNodesAndConnections:f}=st(),{activeViewStack:p}=Z(),{isSubNodeType:m}=Ge({nodeType:t.nodeType}),h=Y(),_=l(!1),v=l({x:-100,y:-100}),y=l(null),b=n(()=>B.value?t.nodeType.description:w.value||t.subcategory===`*`&&!t.nodeType.name.startsWith(`n8n-creds-base`)?``:s.headerText({key:`headers.${ee.value}.description`,fallback:t.nodeType.description})),x=n(()=>ae(z.value,p)?!0:A.value&&!w.value),w=n(()=>p.subcategory===`Human in the Loop`||p.rootView===`HITL`),D=n(()=>A.value?`node-creator-action-item`:`node-creator-node-item`),A=n(()=>I.value.length>1&&!p.hideActions),I=n(()=>u[t.nodeType.name]||[]),ee=n(()=>s.shortNodeType(t.nodeType.name)||``),L=n(()=>({top:`${v.value.y}px`,left:`${v.value.x}px`})),z=n(()=>je(t.nodeType.name)),B=n(()=>fe(t.nodeType.name)),H=n(()=>{let e=t.nodeType.displayName.trimEnd();return s.headerText({key:`headers.${ee.value}.displayName`,fallback:A.value?e.replace(`Trigger`,``):e})}),te=n(()=>t.nodeType.group.includes(`trigger`)&&!A.value),ne=n(()=>h.communityNodeType(pe(t.nodeType.name))),W=n(()=>ne.value?.isOfficialNode??!1),K=n(()=>ne.value?.displayName??H.value),q=n(()=>{if(t.nodeType.tag)return t.nodeType.tag;if(b.value.toLowerCase().includes(`deprecated`))return{text:s.baseText(`nodeCreator.nodeItem.deprecated`),type:`info`}});function re(e){e.dataTransfer&&(e.dataTransfer.effectAllowed=`copy`,e.dataTransfer.dropEffect=`copy`,e.dataTransfer.setDragImage(y.value,0,0),e.dataTransfer.setData(ke,JSON.stringify(f([{type:t.nodeType.name}])))),_.value=!0}function J(){_.value=!1,setTimeout(()=>{v.value={x:-100,y:-100}},300)}function ie(e){e.target.localName===`a`&&c.track(`user clicked cnr docs link`,{source:`nodes panel node`})}return(t,n)=>{let c=M(`n8n-html`);return T(),g(o(V),{draggable:!x.value,class:N(t.$style.nodeItem),description:b.value,title:H.value,"show-action-arrow":x.value,"is-trigger":te.value,"is-official":W.value,"data-test-id":D.value,tag:q.value,onDragstart:re,onDragend:J},k({icon:C(()=>[o(m)?(T(),i(`div`,{key:0,class:N(t.$style.subNodeBackground)},null,2)):a(``,!0),d($,{class:N(t.$style.nodeIcon),"node-type":e.nodeType,"color-default":`var(--color--foreground--shade-2)`},null,8,[`class`,`node-type`])]),dragContent:C(()=>[F(P(`div`,{ref_key:`draggableDataTransfer`,ref:y,class:N(t.$style.draggable),style:S(L.value)},[d($,{"node-type":e.nodeType,size:40,shrink:!1,"color-default":`var(--color--foreground--shade-2)`,onClickCapture:n[0]||=E(()=>{},[`stop`])},null,8,[`node-type`])],6),[[j,_.value]])]),_:2},[W.value?{name:`extraDetails`,fn:C(()=>[d(o(U),{placement:`top`,"show-after":500},{content:C(()=>[O(r(o(s).baseText(`generic.officialNode.tooltip`,{interpolate:{author:K.value}})),1)]),default:C(()=>[d(o(dt),{class:N([t.$style.icon,t.$style.official])},null,8,[`class`])]),_:1})]),key:`0`}:z.value&&!B.value&&!o(p)?.communityNodeDetails?{name:`extraDetails`,fn:C(()=>[d(o(U),{placement:`top`,"show-after":500},{content:C(()=>[F(P(`p`,{class:N(t.$style.communityNodeIcon),onClick:ie},null,2),[[c,o(s).baseText(`generic.communityNode.tooltip`,{interpolate:{packageName:e.nodeType.name.split(`.`)[0],docURL:o(se)}})]])]),default:C(()=>[d(o(G),{size:`small`,class:N(t.$style.icon),icon:`box`},null,8,[`class`])]),_:1})]),key:`1`}:void 0]),1032,[`draggable`,`class`,`description`,`title`,`show-action-arrow`,`is-trigger`,`is-official`,`data-test-id`,`tag`])}}}),[[`__cssModules`,{$style:{nodeItem:`_nodeItem_1w6xz_125`,nodeIcon:`_nodeIcon_1w6xz_133`,subNodeBackground:`_subNodeBackground_1w6xz_137`,communityNodeIcon:`_communityNodeIcon_1w6xz_147`,draggable:`_draggable_1w6xz_151`,draggableDataTransfer:`_draggableDataTransfer_1w6xz_165`,icon:`_icon_1w6xz_170`,official:`_official_1w6xz_175`}}]]),pt=e(Qe(),1),mt=J(f({__name:`SubcategoryItem`,props:{item:{}},setup(e){let t=e,r=R(),i=n(()=>(0,pt.default)(t.item.subcategory||t.item.title));return(t,n)=>(T(),g(o(V),{class:N(t.$style.subCategory),title:o(r).baseText(`nodeCreator.subcategoryNames.${i.value}`),"is-trigger":!1,description:o(r).baseText(`nodeCreator.subcategoryDescriptions.${i.value}`),"show-action-arrow":!0,"is-new":e.item.new},{icon:C(()=>[d(o(q),_({type:`icon`,name:e.item.icon,circle:!1,"show-tooltip":!1},e.item.iconProps),null,16,[`name`])]),_:1},8,[`class`,`title`,`description`,`is-new`]))}}),[[`__cssModules`,{$style:{subCategory:`_subCategory_1dknb_125`}}]]),ht=[`textContent`],gt=J(f({__name:`LabelItem`,props:{item:{}},setup(e){return(t,n)=>(T(),i(`div`,{class:N(t.$style.label)},[P(`span`,{class:N(t.$style.name),textContent:r(e.item.key)},null,10,ht)],2))}}),[[`__cssModules`,{$style:{label:`_label_1vlxx_125`}}]]),_t=J(f({__name:`ActionItem`,props:{nodeType:{},action:{}},setup(e){let t=e,r=ue(),{getActionData:i,getAddedNodesAndConnections:a,setAddedNodeActionParameters:c}=st(),{activeViewStack:l}=Z(),u=p({dragging:!1,draggablePosition:{x:-100,y:-100},storeWatcher:null,draggableDataTransfer:null}),f=n(()=>({top:`${u.draggablePosition.y}px`,left:`${u.draggablePosition.x}px`})),m=n(()=>i(t.action)),h=e=>e.name?.toLowerCase().includes(`trigger`)||e.name===`n8n-nodes-base.webhook`;function _(e){document.body.addEventListener(`dragover`,v);let{pageX:t,pageY:n}=e;e.dataTransfer&&m.value.key&&(e.dataTransfer.effectAllowed=`copy`,e.dataTransfer.dropEffect=`copy`,e.dataTransfer.setDragImage(u.draggableDataTransfer,0,0),e.dataTransfer.setData(ke,JSON.stringify(a([{type:m.value.key}]))),r&&(u.storeWatcher=c(m.value,r,l.rootView)),document.body.addEventListener(`dragend`,y)),u.dragging=!0,u.draggablePosition={x:t,y:n}}function v(e){if(!u.dragging||e.pageX===0&&e.pageY===0)return;let[t,n]=ce([],[e.pageX-me[0]/2,e.pageY-me[1]/2]);u.draggablePosition={x:t,y:n}}function y(){u.storeWatcher&&u.storeWatcher(),document.body.removeEventListener(`dragend`,y),document.body.removeEventListener(`dragover`,v),u.dragging=!1,setTimeout(()=>{u.draggablePosition={x:-100,y:-100}},300)}let{draggableDataTransfer:b,dragging:x}=s(u);return(t,n)=>(T(),g(o(V),{draggable:``,class:N(t.$style.action),title:e.action.displayName,"is-trigger":h(e.action),"data-keyboard-nav":`true`,onDragstart:_,onDragend:y},{dragContent:C(()=>[P(`div`,{ref_key:`draggableDataTransfer`,ref:b,class:N(t.$style.draggableDataTransfer)},null,2),F(P(`div`,{class:N(t.$style.draggable),style:S(f.value)},[d($,{"node-type":e.nodeType,size:40,shrink:!1,onClickCapture:n[0]||=E(()=>{},[`stop`])},null,8,[`node-type`])],6),[[j,o(x)]])]),icon:C(()=>[d($,{"node-type":e.action},null,8,[`node-type`])]),_:1},8,[`class`,`title`,`is-trigger`]))}}),[[`__cssModules`,{$style:{action:`_action_mvs8q_125`,nodeIcon:`_nodeIcon_mvs8q_137`,draggable:`_draggable_mvs8q_141`,draggableDataTransfer:`_draggableDataTransfer_mvs8q_155`}}]]),vt=J(f({__name:`ViewItem`,props:{view:{}},setup(e){return(t,n)=>(T(),g(o(V),{class:N(t.$style.view),title:e.view.title,tag:e.view.tag,"is-trigger":!1,description:e.view.description,"show-action-arrow":!0},{icon:C(()=>[d(o(q),{type:`icon`,name:e.view.icon,circle:!1,"show-tooltip":!1},null,8,[`name`])]),_:1},8,[`class`,`title`,`tag`,`description`]))}}),[[`__cssModules`,{$style:{view:`_view_1cgml_125`}}]]),yt=J(f({__name:`LinkItem`,props:{link:{}},setup(e){return(t,n)=>(T(),g(o(V),{class:N(t.$style.creatorLink),title:e.link.title,"is-trigger":!1,description:e.link.description,tag:e.link.tag,"show-action-arrow":!0},{icon:C(()=>[d(o(q),{type:`icon`,name:e.link.icon,circle:!1,"show-tooltip":!1},null,8,[`name`])]),_:1},8,[`class`,`title`,`description`,`tag`]))}}),[[`__cssModules`,{$style:{creatorLink:`_creatorLink_lgjb3_125`}}]]),bt=J(f({__name:`CommunityNodeInstallHint`,props:{hint:{}},setup(e){let t=n(()=>be().isInstanceOwner);return(n,s)=>t.value?(T(),i(`div`,{key:0,class:N(n.$style.container)},[d(o(G),{color:`text-light`,icon:`info`,size:`large`}),d(o(K),{color:`text-base`,size:`medium`},{default:C(()=>[O(r(e.hint),1)]),_:1})],2)):a(``,!0)}}),[[`__cssModules`,{$style:{container:`_container_cosmc_125`}}]]),xt=J(f({__name:`CommunityNodeItem`,props:{isPreview:{type:Boolean}},setup(e){let t=R();return(n,r)=>(T(),i(`div`,null,[e.isPreview?(T(),g(bt,{key:0,hint:o(t).baseText(`communityNodeItem.node.hint`)},null,8,[`hint`])):(T(),i(`div`,{key:1,class:N(n.$style.marginLeft)},[d(o(H),{variant:`subtle`,size:`medium`,icon:`plus`,label:o(t).baseText(`communityNodeItem.label`),outline:``},null,8,[`label`])],2))]))}}),[[`__cssModules`,{$style:{marginLeft:`_marginLeft_oawh3_125`}}]]),St=[`textContent`],Ct=J(f({__name:`CategoryItem`,props:{expanded:{type:Boolean,default:!0},active:{type:Boolean},count:{},name:{},isTrigger:{type:Boolean}},setup(e){let t=e,s=n(()=>{let e=t.count||0;return e>0?`${t.name} (${e})`:t.name});return(t,n)=>(T(),i(`div`,_({class:t.$style.categoryWrapper},t.$attrs,{"data-keyboard-nav":`true`,"data-test-id":`node-creator-category-item`}),[P(`div`,{class:N({[t.$style.category]:!0,[t.$style.active]:e.active})},[P(`span`,{class:N(t.$style.name)},[P(`span`,{textContent:r(s.value)},null,8,St),e.isTrigger?(T(),g(o(G),{key:0,icon:`bolt-filled`,size:`xsmall`,class:N(t.$style.triggerIcon)},null,8,[`class`])):a(``,!0),x(t.$slots,`default`)],2),e.expanded?(T(),g(o(G),{key:0,icon:`chevron-down`,color:`text-light`,size:`large`})):(T(),g(o(G),{key:1,icon:`chevron-up`,color:`text-light`,size:`large`}))],2)],16))}}),[[`__cssModules`,{$style:{triggerIcon:`_triggerIcon_i18rl_125`,category:`_category_i18rl_130`,active:`_active_i18rl_151`,name:`_name_i18rl_155`}}]]),wt=[`data-category-collapsed`],Tt=J(f({__name:`CategorizedItemsRenderer`,props:{elements:{default:()=>[]},category:{},disabled:{type:Boolean},activeIndex:{},isTriggerCategory:{type:Boolean},mouseOverTooltip:{},expanded:{type:Boolean},showSeparator:{type:Boolean}},setup(e){let t=e,{popViewStack:r,activeViewStack:s}=Z(),{registerKeyHook:u}=X(),{workflowId:f}=ye(),p=Q(),m=R(),h=n(()=>X()?.activeItemId),v=n(()=>t.elements.filter(({type:e})=>e===`action`).length),y=l(t.expanded??!1),S=n(()=>s.communityNodeDetails&&!s.communityNodeDetails.installed);function E(){D(!y.value)}function D(e){let n=y.value;y.value=e,y.value&&!n&&p.onCategoryExpanded({category_name:t.category,workflow_id:f})}let O=w(),k=n(()=>({[O.categorizedItemsRenderer]:!0,[O.separator]:y.value&&t.showSeparator}));function A(){y.value||D(!0)}function j(){if(!y.value){r();return}D(!1)}return b(()=>t.elements,()=>{D(!0)}),u(`CategoryRight_${t.category}`,{keyboardKeys:[`ArrowRight`],condition:(e,n)=>e===`category`&&t.category===n,handler:A}),u(`CategoryToggle_${t.category}`,{keyboardKeys:[`Enter`],condition:(e,n)=>e===`category`&&t.category===n,handler:E}),u(`CategoryLeft_${t.category}`,{keyboardKeys:[`ArrowLeft`],condition:(e,n)=>e===`category`&&t.category===n,handler:j}),(t,n)=>{let r=M(`n8n-html`);return T(),i(`div`,{class:N(k.value),"data-category-collapsed":!y.value},[d(Ct,{class:N(o(O).categoryItem),name:e.category,disabled:e.disabled,active:h.value===e.category,count:v.value,expanded:y.value,"is-trigger":e.isTriggerCategory,"data-keyboard-nav-type":`category`,"data-keyboard-nav-id":e.category,onClick:E},{default:C(()=>[e.mouseOverTooltip?(T(),i(`span`,{key:0,class:N(o(O).mouseOverTooltip)},[d(o(U),{placement:`top`,"content-class":o(O).tooltipPopper},{content:C(()=>[F(P(`div`,null,null,512),[[r,e.mouseOverTooltip]])]),default:C(()=>[d(o(G),{icon:`circle-help`,size:`small`})]),_:1},8,[`content-class`])],2)):a(``,!0)]),_:1},8,[`class`,`name`,`disabled`,`active`,`count`,`expanded`,`is-trigger`,`data-keyboard-nav-id`]),y.value&&v.value>0&&t.$slots.default?(T(),i(`div`,{key:0,class:N(o(O).contentSlot)},[x(t.$slots,`default`)],2)):a(``,!0),S.value&&y.value?(T(),g(bt,{key:1,hint:o(m).baseText(`communityNodeItem.actions.hint`)},null,8,[`hint`])):a(``,!0),y.value?(T(),g(jt,_({key:2},t.$attrs,{elements:e.elements,"is-trigger":e.isTriggerCategory,class:[{[o(O).preview]:S.value}]}),{default:C(()=>[...n[0]||=[]]),empty:C(()=>[x(t.$slots,`empty`,I(c({elements:e.elements})))]),_:3},16,[`elements`,`is-trigger`,`class`])):a(``,!0)],10,wt)}}}),[[`__cssModules`,{$style:{mouseOverTooltip:`_mouseOverTooltip_oh2k4_125`,categorizedItemsRenderer:`_categorizedItemsRenderer_oh2k4_133`,tooltipPopper:`_tooltipPopper_oh2k4_137`,contentSlot:`_contentSlot_oh2k4_141`,separator:`_separator_oh2k4_150`,preview:`_preview_oh2k4_154`}}]]),Et=J(f({__name:`OpenTemplateItem`,props:{openTemplate:{}},setup(e){return(t,n)=>(T(),g(o(V),{class:N({[t.$style.creatorOpenTemplate]:!0,[t.$style.compact]:e.openTemplate.compact}),title:e.openTemplate.title,description:e.openTemplate.description,tag:e.openTemplate.tag,"show-action-arrow":!0,"is-trigger":!1},k({_:2},[e.openTemplate.icon?{name:`icon`,fn:C(()=>[d(o(q),{type:`icon`,name:e.openTemplate.icon,circle:!1,"show-tooltip":!1},null,8,[`name`])]),key:`0`}:void 0,e.openTemplate.nodes?{name:`extraDetails`,fn:C(()=>[(T(!0),i(y,null,D(e.openTemplate.nodes,e=>(T(),g($,{key:e.name,"node-type":e,size:16,"show-tooltip":!0},null,8,[`node-type`]))),128))]),key:`1`}:void 0]),1032,[`class`,`title`,`description`,`tag`]))}}),[[`__cssModules`,{$style:{creatorOpenTemplate:`_creatorOpenTemplate_fcb6s_125`,compact:`_compact_fcb6s_133`}}]]),Dt={key:0},Ot=[`data-keyboard-nav-type`,`data-keyboard-nav-id`,`onClick`],kt=20,At=5,jt=J(f({__name:`ItemsRenderer`,props:{elements:{default:()=>[]},activeIndex:{},disabled:{type:Boolean},lazyRender:{type:Boolean,default:!0}},emits:[`selected`,`dragstart`,`dragend`],setup(e,{emit:t}){let r=e,s=t,c=l([]),u=l(0),{activeViewStack:d}=Z(),f=n(()=>X()?.activeItemId),p=n(()=>d.mode===`community-node`),h=n(()=>p.value&&!d.communityNodeDetails?.installed),_=n(()=>!(d.communityNodeDetails&&!d.communityNodeDetails.installed));function S(){if(r.elements.length<=kt||!r.lazyRender){c.value=r.elements;return}c.value.length<r.elements.length&&(c.value.push(...r.elements.slice(c.value.length,c.value.length+At)),u.value=window.requestAnimationFrame(S))}function C(e,t,n){if(!r.disabled)switch(e){case`dragstart`:if(n){s(`dragstart`,t,n);break}case`dragend`:if(n){s(`dragend`,t,n);break}case`selected`:s(`selected`,t,n);break;default:s(e,t,n)}}function w(e){e.style.height=`0`}function E(e){e.style.height=`${e.scrollHeight}px`}function O(e){e.style.height=`${e.scrollHeight}px`}function k(e){e.style.height=`0`}return v(()=>{S()}),m(()=>{window.cancelAnimationFrame(u.value),c.value=[]}),b(()=>r.elements,()=>{window.cancelAnimationFrame(u.value),c.value=[],S()}),(t,n)=>e.elements.length>0?(T(),i(`div`,{key:0,class:N(t.$style.itemsRenderer),name:`accordion`,onBeforeEnter:w,onEnter:E,onBeforeLeave:O,onLeave:k},[x(t.$slots,`default`),(T(!0),i(y,null,D(e.elements,r=>(T(),i(`div`,{key:r.uuid},[c.value.includes(r)?(T(),i(`div`,Dt,[r.type===`section`?(T(),g(Tt,{key:0,elements:r.children,expanded:``,category:r.title,showSeparator:r.showSeparator,onSelected:n[0]||=e=>C(`selected`,e)},null,8,[`elements`,`category`,`showSeparator`])):(T(),i(`div`,{key:1,ref_for:!0,ref:`iteratorItems`,class:N({clickable:!e.disabled,[t.$style.active]:f.value===r.uuid&&_.value,[t.$style.iteratorItem]:!p.value,[t.$style[r.type]]:!0,[t.$style.preview]:h.value,[t.$style.borderless]:r.type===`view`&&r.properties.borderless===!0}),"data-test-id":`item-iterator-item`,"data-keyboard-nav-type":r.type===`label`?void 0:r.type,"data-keyboard-nav-id":r.uuid,onClick:e=>C(`selected`,r)},[r.type===`label`?(T(),g(gt,{key:0,item:r},null,8,[`item`])):a(``,!0),r.type===`subcategory`?(T(),g(mt,{key:1,item:r.properties},null,8,[`item`])):a(``,!0),p.value?(T(),g(xt,{key:2,"is-preview":h.value},null,8,[`is-preview`])):a(``,!0),r.type===`node`&&!p.value?(T(),g(ft,{key:3,"node-type":r.properties,active:!0,subcategory:r.subcategory},null,8,[`node-type`,`subcategory`])):a(``,!0),r.type===`action`?(T(),g(_t,{key:4,"node-type":r.properties,action:r.properties,active:!0},null,8,[`node-type`,`action`])):r.type===`view`?(T(),g(vt,{key:5,view:r.properties,class:N(t.$style.viewItem)},null,8,[`view`,`class`])):r.type===`link`?(T(),g(yt,{key:6,link:r.properties,class:N(t.$style.linkItem)},null,8,[`link`,`class`])):r.type===`openTemplate`?(T(),g(Et,{key:7,"open-template":r.properties,class:N(t.$style.linkItem)},null,8,[`open-template`,`class`])):a(``,!0)],10,Ot))])):(T(),g(o(B),{key:1,loading:!0,rows:1,variant:`p`,class:N(t.$style.itemSkeleton)},null,8,[`class`]))]))),128))],34)):(T(),i(`div`,{key:1,class:N(t.$style.empty)},[x(t.$slots,`empty`)],2))}}),[[`__cssModules`,{$style:{itemSkeleton:`_itemSkeleton_1ewa1_125`,iteratorItem:`_iteratorItem_1ewa1_129`,label:`_label_1ewa1_141`,category:`_category_1ewa1_141`,active:`_active_1ewa1_144`,empty:`_empty_1ewa1_148`,itemsRenderer:`_itemsRenderer_1ewa1_152`,view:`_view_1ewa1_161`,link:`_link_1ewa1_179`,borderless:`_borderless_1ewa1_197`,preview:`_preview_1ewa1_207`}}]]),Mt=f({__name:`OrderSwitcher`,props:{rootView:{}},setup(e){return(t,n)=>(T(),i(`div`,null,[e.rootView===o(`Regular`)?(T(),i(y,{key:0},[x(t.$slots,`actions`),x(t.$slots,`triggers`)],64)):(T(),i(y,{key:1},[x(t.$slots,`triggers`),x(t.$slots,`actions`)],64))]))}}),Nt={viewBox:`0 0 512 512`,width:`1.2em`,height:`1.2em`};function Pt(e,t){return T(),i(`svg`,Nt,[...t[0]||=[P(`path`,{fill:`currentColor`,d:`m466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3c11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3M256.1 446.3l-.1-381l175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7`},null,-1)]])}var Ft={name:`fa-solid-shield-alt`,render:Pt},It={key:2},Lt={key:3},Rt={key:4},zt=J(f({__name:`CommunityNodeInfo`,setup(e){let{activeViewStack:t}=Z(),{communityNodeDetails:s}=t,c=l(void 0),u=l(null),f=l(!1),p=l(!1),m=n(()=>s?.packageName),{installedPackage:h,initInstalledPackage:_,isUpdateCheckAvailable:y}=$e(m),{getQuickConnectOptionByPackageName:b}=at(),x=n(()=>{let e=m.value;return e?b(e):void 0}),S=Y(),w=n(()=>be().isInstanceOwner),E=e=>e?new Intl.NumberFormat(`en-US`).format(e):null;async function D(e){let n=await S.getCommunityNodeAttributes(t.communityNodeDetails?.key||``),r=h.value;if(s?.installed&&!r&&(r=await _()),n){c.value=n.companyName??n.authorName,u.value=E(n.numberOfDownloads),p.value=n.isOfficialNode,r?f.value=(n.nodeVersions?.map(e=>e.npmVersion)??[]).includes(r.installedVersion):f.value=!0;return}let i=`https://registry.npmjs.org/${e}`;try{let t=await fetch(i);if(!t.ok){We(Error(`Could not get metadata for package`),{extra:{packageName:e}});return}c.value=(await t.json()).maintainers?.[0]?.name;let n=`https://api.npmjs.org/downloads/range/2022-01-01:${new Date().toISOString().split(`T`)[0]}/${e}`,r=await fetch(n);if(!r.ok){We(Error(`Could not get downloads for package`),{extra:{packageName:e}});return}let a=await r.json();if(!a.downloads?.length)return;u.value=E(a.downloads.reduce((e,t)=>e+t.downloads,0))}catch(t){We(t,{extra:{packageName:e}})}}return v(async()=>{s?.packageName&&await D(s.packageName)}),(e,t)=>(T(),i(`div`,{class:N(e.$style.container)},[d(o(K),{class:N(e.$style.description),color:`text-base`,size:`medium`},{default:C(()=>[O(r(o(s)?.description),1)]),_:1},8,[`class`]),o(y)&&o(h)?.updateAvailable?(T(),g(tt,{key:0,"data-test-id":`update-available`,"package-name":o(s)?.packageName,source:`node creator panel`},null,8,[`package-name`])):(T(),i(`div`,{key:1,class:N(e.$style.separator)},null,2)),P(`div`,{class:N(e.$style.info)},[f.value?(T(),g(o(U),{key:0,placement:`top`},{content:C(()=>[O(r(p.value?o(L).baseText(`communityNodeInfo.officialApproved`):o(L).baseText(`communityNodeInfo.approved`)),1)]),default:C(()=>[P(`div`,null,[d(o(Ft),{class:N(e.$style.tooltipIcon)},null,8,[`class`]),d(o(K),{color:`text-light`,size:`xsmall`,bold:``,"data-test-id":`verified-tag`},{default:C(()=>[O(r(o(L).baseText(`communityNodeInfo.approved.label`)),1)]),_:1})])]),_:1})):(T(),g(o(U),{key:1,placement:`top`},{content:C(()=>[O(r(o(L).baseText(`communityNodeInfo.unverified`)),1)]),default:C(()=>[P(`div`,null,[d(o(G),{class:N(e.$style.tooltipIcon),icon:`box`},null,8,[`class`]),d(o(K),{color:`text-light`,size:`xsmall`,bold:``},{default:C(()=>[O(r(o(L).baseText(`communityNodeInfo.unverified.label`)),1)]),_:1})])]),_:1})),u.value?(T(),i(`div`,It,[d(o(G),{class:N(e.$style.tooltipIcon),icon:`hard-drive-download`},null,8,[`class`]),d(o(K),{color:`text-light`,size:`xsmall`,bold:``,"data-test-id":`number-of-downloads`},{default:C(()=>[O(r(o(L).baseText(`communityNodeInfo.downloads`,{interpolate:{downloads:u.value}})),1)]),_:1})])):a(``,!0),c.value?(T(),i(`div`,Lt,[d(o(G),{class:N(e.$style.tooltipIcon),icon:`user`},null,8,[`class`]),d(o(K),{color:`text-light`,size:`xsmall`,bold:``,"data-test-id":`publisher-name`},{default:C(()=>[O(r(o(L).baseText(`communityNodeInfo.publishedBy`,{interpolate:{publisherName:c.value}})),1)]),_:1})])):a(``,!0),x.value?(T(),i(`div`,Rt,[d(o(G),{class:N(e.$style.tooltipIcon),icon:`quick-connect`},null,8,[`class`]),d(o(K),{color:`text-light`,size:`xsmall`,bold:``,"data-test-id":`quick-connect-tag`},{default:C(()=>[O(r(o(L).baseText(`communityNodeInfo.quickConnect`)),1)]),_:1})])):a(``,!0)],2),x.value?(T(),g(it,{key:2,text:x.value?.text},null,8,[`text`])):a(``,!0),!w.value&&!o(s)?.installed?(T(),g(et,{key:3})):a(``,!0)],2))}}),[[`__cssModules`,{$style:{container:`_container_o3pf2_125`,nodeIcon:`_nodeIcon_o3pf2_134`,description:`_description_o3pf2_139`,separator:`_separator_o3pf2_143`,info:`_info_o3pf2_149`,tooltipIcon:`_tooltipIcon_o3pf2_164`,contactOwnerHint:`_contactOwnerHint_o3pf2_170`}}]]),Bt=J(f({__name:`ActionsMode`,emits:[`nodeTypeSelected`],setup(e,{emit:t}){let r=t,s=ue(),c=R(),{userActivated:l,isInstanceOwner:u}=be(),{popViewStack:f,updateCurrentViewStack:p}=Z(),{registerKeyHook:m}=X(),{setAddedNodeActionParameters:_,getActionData:y,actionDataToNodeTypeSelectedPayload:b,getPlaceholderTriggerActions:x,parseCategoryActions:S,actionsCategoryLocales:w}=st(),D=Q(),{openSampleWorkflowTemplate:O}=ot(),A=n(()=>J(B.value,w.value.triggers,!1)),j=n(()=>J(B.value,w.value.actions,!V.value)),I=n(()=>J(Z().activeViewStack.baselineItems||[],w.value.triggers,!1)),ee=n(()=>J(Z().activeViewStack.baselineItems||[],w.value.actions,!V.value)),L=n(()=>A.value.length||V.value?w.value.triggers:`${w.value.triggers} (${W.length})`),B=n(()=>(Z().activeViewStack.items||[]).filter(e=>e.properties.actionKey!==Te)),V=n(()=>Z().activeViewStack.search),H=n(()=>Z().activeViewStack.subcategory),te=n(()=>Z().activeViewStack.rootView),U=n(()=>Z().activeViewStack?.communityNodeDetails),W=x(H.value||``),G=n(()=>S(Z().activeViewStack.baselineItems||[],w.value.triggers,!V.value).length===0),K=n(()=>(Z().activeViewStack.baselineItems||[]).some(e=>(e.properties.actionKey??``)===Te)),q=n(()=>te.value===De),re=n(()=>U.value&&!A.value.length?!fe(Z().activeViewStack?.items?.[0].key)&&q.value:q.value||I.value.length!==0);m(`ActionsKeyRight`,{keyboardKeys:[`ArrowRight`,`Enter`],condition:e=>e===`action`,handler:ae}),m(`ActionsKeyLeft`,{keyboardKeys:[`ArrowLeft`],condition:e=>e===`action`,handler:ie});function J(e,t,n=!1){return S(e,t,n)}function ie(){f()}function ae(e){let t=[...B.value,...W].find(t=>t.uuid===e);t&&Y(t)}function Y(e){if(e.type===`openTemplate`&&O(e.properties.templateId,{telemetry:{source:`nodeCreator`,section:Z().activeViewStack.title}}),e.type!==`action`)return;let t=y(e.properties);if(W.some(t=>t.key===e.key)&&q.value){let e=B.value[0]?.key;e&&r(`nodeTypeSelected`,[{type:t.key},{type:e}])}else if(t?.key===`@n8n/n8n-nodes-langchain.openAi`&&t?.value?.resource===`assistant`&&t?.value?.operation===`message`)r(`nodeTypeSelected`,[{type:Ee}]);else if(fe(t?.key))return;else r(`nodeTypeSelected`,[b(t)]);s&&_(t,s,te.value)}function oe(){let e=Z().activeViewStack,t=(e.baselineItems||[])?.filter(e=>e.key.toLowerCase().includes(`trigger`)).length,n={app_identifier:[...B.value,...W][0].key,actions:(e.baselineItems||[])?.map(e=>e.properties.displayName),regular_action_count:(e.baselineItems||[])?.length-t,trigger_action_count:t};Se().run(`nodeCreateList.onViewActions`,n),D.onViewActions(n)}function se(){p({search:``})}function ce(){let e={name:``,key:Ne,value:{authentication:`predefinedCredentialType`}};r(`nodeTypeSelected`,[{type:Ne}]),s&&_(e);let t=B.value[0]?.key;t&&(Se().run(`nodeCreateList.onActionsCustmAPIClicked`,{app_identifier:t}),D.onActionsCustomAPIClicked({app_identifier:t}))}v(()=>{oe()});let le=n(()=>[]);return(e,t)=>{let n=M(`n8n-html`);return T(),i(`div`,{class:N({[e.$style.container]:!0,[e.$style.containerPaddingBottom]:!U.value})},[d(jt,{elements:le.value,class:N(e.$style.items),onSelected:Y},null,8,[`elements`,`class`]),U.value?(T(),g(zt,{key:0})):a(``,!0),te.value?(T(),g(Mt,{key:1,"root-view":te.value},k({_:2},[re.value?{name:`triggers`,fn:C(()=>[h([V.value],()=>d(Tt,{elements:A.value,category:L.value,"mouse-over-tooltip":o(c).baseText(`nodeCreator.actionsTooltip.triggersStartWorkflow`),"is-trigger-category":``,expanded:q.value||j.value.length===0,onSelected:Y},k({_:2},[G.value?{name:`empty`,fn:C(()=>[G.value?(T(),g(o(z),{key:0,theme:`info`,iconless:``,slim:``,"data-test-id":`actions-panel-no-triggers-callout`},{default:C(()=>[F(P(`span`,null,null,512),[[n,o(c).baseText(`nodeCreator.actionsCallout.noTriggerItems`,{interpolate:{nodeName:H.value??``}})]])]),_:1})):a(``,!0),d(jt,{elements:o(W),onSelected:Y},null,8,[`elements`])]),key:`0`}:{name:`empty`,fn:C(()=>[F(P(`p`,{class:N(e.$style.resetSearch),onClick:se},null,2),[[n,o(c).baseText(`nodeCreator.actionsCategory.noMatchingTriggers`)]])]),key:`1`}]),1032,[`elements`,`category`,`mouse-over-tooltip`,`expanded`]),t,0)]),key:`0`}:void 0,!q.value||ee.value.length!==0?{name:`actions`,fn:C(()=>[h([V.value],()=>d(Tt,{elements:j.value,category:o(w).actions,"mouse-over-tooltip":o(c).baseText(`nodeCreator.actionsTooltip.actionsPerformStep`),expanded:!q.value||A.value.length===0,onSelected:Y},{empty:C(()=>[V.value?F((T(),i(`p`,{key:1,class:N(e.$style.resetSearch),"data-test-id":`actions-panel-no-matching-actions`,onClick:se},null,2)),[[n,o(c).baseText(`nodeCreator.actionsCategory.noMatchingActions`)]]):(T(),g(o(ne),{key:0,theme:`info`,type:`note`,class:N(e.$style.actionsEmpty)},{default:C(()=>[F(P(`span`,null,null,512),[[n,o(c).baseText(`nodeCreator.actionsCallout.noActionItems`,{interpolate:{nodeName:H.value??``}})]])]),_:1},8,[`class`]))]),default:C(()=>[!o(l)&&q.value?(T(),g(o(z),{key:0,theme:`info`,iconless:``,slim:``,"data-test-id":`actions-panel-activation-callout`},{default:C(()=>[F(P(`span`,null,null,512),[[n,o(c).baseText(`nodeCreator.actionsCallout.triggersStartWorkflow`)]])]),_:1})):a(``,!0)]),_:1},8,[`elements`,`category`,`mouse-over-tooltip`,`expanded`]),t,1)]),key:`1`}:void 0]),1032,[`root-view`])):a(``,!0),K.value&&!U.value?(T(),i(`div`,{key:2,class:N(e.$style.apiHint)},[F(P(`span`,{onClick:E(ce,[`prevent`])},null,512),[[n,o(c).baseText(`nodeCreator.actionsList.apiCall`,{interpolate:{node:H.value??``}})]])],2)):a(``,!0),U.value?(T(),g(rt,{key:3,class:N(e.$style.communityNodeFooter),"package-name":U.value.packageName,"show-manage":U.value.installed&&o(u)},null,8,[`class`,`package-name`,`show-manage`])):a(``,!0)],2)}}}),[[`__cssModules`,{$style:{container:`_container_18s8e_125`,containerPaddingBottom:`_containerPaddingBottom_18s8e_131`,communityNodeFooter:`_communityNodeFooter_18s8e_135`,resetSearch:`_resetSearch_18s8e_139`,actionsEmpty:`_actionsEmpty_18s8e_153`,apiHint:`_apiHint_18s8e_161`}}]]),Vt={},Ht={width:`75px`,height:`75px`,viewBox:`0 0 75 75`,version:`1.1`,xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`};function Ut(e,n){return T(),i(`svg`,Ht,[...n[0]||=[t(`<title>no-nodes-keyart</title><g id="Nodes-panel-prototype-V2.1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="nodes-panel-(component)" transform="translate(-2085.000000, -352.000000)"><g id="nodes_panel" transform="translate(1880.000000, 151.000000)"><g id="Panel" transform="translate(50.000000, 0.000000)"><g id="Group-3" transform="translate(105.000000, 171.000000)"><g id="no-nodes-keyart" transform="translate(50.000000, 30.000000)"><rect id="Rectangle" x="0" y="0" width="75" height="75"></rect><g id="Group" transform="translate(6.562500, 8.164062)" fill="#C4C8D1" fill-rule="nonzero"><polygon id="Rectangle" transform="translate(49.192016, 45.302553) rotate(-45.000000) translate(-49.192016, -45.302553) " points="44.5045606 32.0526802 53.8794707 32.0526802 53.8794707 58.5524261 44.5045606 58.5524261"></polygon><path id="Path" d="M48.125,23.0859375 C54.15625,23.0859375 59.0625,18.1796875 59.0625,12.1484375 C59.0625,10.3359375 58.5625,8.6484375 57.78125,7.1484375 L49.34375,15.5859375 L44.6875,10.9296875 L53.125,2.4921875 C51.625,1.7109375 49.9375,1.2109375 48.125,1.2109375 C42.09375,1.2109375 37.1875,6.1171875 37.1875,12.1484375 C37.1875,13.4296875 37.4375,14.6484375 37.84375,15.7734375 L32.0625,21.5546875 L26.5,15.9921875 L28.71875,13.7734375 L24.3125,9.3671875 L30.9375,2.7421875 C27.28125,-0.9140625 21.34375,-0.9140625 17.6875,2.7421875 L6.625,13.8046875 L11.03125,18.2109375 L2.21875,18.2109375 L1.38777878e-15,20.4296875 L11.0625,31.4921875 L13.28125,29.2734375 L13.28125,20.4296875 L17.6875,24.8359375 L19.90625,22.6171875 L25.46875,28.1796875 L2.3125,51.3359375 L8.9375,57.9609375 L44.5,22.4296875 C45.625,22.8359375 46.84375,23.0859375 48.125,23.0859375 Z"></path></g></g></g></g></g></g></g>`,2)]])}var Wt=J(Vt,[[`render`,Ut]]),Gt=[`textContent`],Kt=[`textContent`],qt=J(f({__name:`NoResults`,props:{showIcon:{type:Boolean},showRequest:{type:Boolean},rootView:{}},setup(e){let t=R();return(n,s)=>(T(),i(`div`,{class:N({[n.$style.noResults]:!0,[n.$style.iconless]:!e.showIcon}),"data-test-id":`node-creator-no-results`},[e.showIcon?(T(),i(`div`,{key:0,class:N(n.$style.icon)},[d(Wt)],2)):a(``,!0),P(`div`,{class:N(n.$style.title)},[x(n.$slots,`title`),P(`p`,{textContent:r(o(t).baseText(`nodeCreator.noResults.weDidntMakeThatYet`))},null,8,Gt),e.rootView===o(`Regular`)||e.rootView===o(`Trigger`)?(T(),i(`div`,{key:0,class:N(n.$style.action)},[O(r(o(t).baseText(`nodeCreator.noResults.dontWorryYouCanProbablyDoItWithThe`))+` `,1),e.rootView===o(`Trigger`)?(T(),i(y,{key:0},[d(o(re),{onClick:s[0]||=e=>n.$emit(`addWebhookNode`)},{default:C(()=>[O(r(o(t).baseText(`nodeCreator.noResults.webhook`)),1)]),_:1}),O(` `+r(`${o(t).baseText(`nodeCreator.noResults.or`)} `),1)],64)):a(``,!0),d(o(re),{onClick:s[1]||=e=>n.$emit(`addHttpNode`)},{default:C(()=>[O(r(o(t).baseText(`nodeCreator.noResults.httpRequest`)),1)]),_:1}),O(` `+r(o(t).baseText(`nodeCreator.noResults.node`)),1)],2)):a(``,!0)],2),e.showRequest?(T(),i(`div`,{key:1,class:N(n.$style.request)},[P(`p`,{textContent:r(o(t).baseText(`nodeCreator.noResults.wantUsToMakeItFaster`))},null,8,Kt),P(`div`,null,[d(o(re),{to:o(Le)},{default:C(()=>[P(`span`,null,r(o(t).baseText(`nodeCreator.noResults.requestTheNode`)),1),P(`span`,null,[d(o(G),{class:N(n.$style.external),icon:`external-link`,title:o(t).baseText(`nodeCreator.noResults.requestTheNode`)},null,8,[`class`,`title`])])]),_:1},8,[`to`])])],2)):a(``,!0)],2))}}),[[`__cssModules`,{$style:{noResults:`_noResults_1ymde_125`,title:`_title_1ymde_138`,action:`_action_1ymde_147`,request:`_request_1ymde_148`,icon:`_icon_1ymde_164`,external:`_external_1ymde_170`}}]]),Jt=e(Qe(),1),Yt=J(f({__name:`NodesMode`,emits:[`nodeTypeSelected`],setup(e,{emit:t}){let r=t,s=R(),{isRagStarterCalloutVisible:c,openSampleWorkflowTemplate:l}=ot(),{mergedNodes:u,actions:f,onSubcategorySelected:p}=Q(),{pushViewStack:m,popViewStack:_,isAiSubcategoryView:v,isHitlSubcategoryView:y}=Z(),{setAddedNodeActionParameters:b,nodeCreateElementToNodeTypeSelectedPayload:x}=st(),{registerKeyHook:S}=X(),w=n(()=>Z().activeViewStack),E=n(()=>Z().globalSearchItemsDiff),D=n(()=>Y().communityNodesAndActions),O=n(()=>oe(D.value.mergedNodes,w.value.search??``,v(w.value)||y(w.value))),A=n(()=>(w.value.items||[]).length===0&&I.value.length+E.value.length+O.value.length===0);function j(e,t){let n=t?.[e.key]||[];return w.value.subcategory===`Human in the Loop`?ie(n):w.value.actionsFilter?w.value.actionsFilter(n):n}function M(e){if(e.type===`subcategory`){let t=(0,Jt.default)(e.properties.title),n=s.baseText(`nodeCreator.subcategoryNames.${t}`),r=`nodeCreator.subcategoryInfos.${t}`,i=s.baseText(r),a=i===r?{}:{info:i},o=e.properties.icon?{type:`icon`,name:e.properties.icon}:void 0;m({subcategory:e.key,mode:`nodes`,title:n,nodeIcon:o,...a,...e.properties.panelClass?{panelClass:e.properties.panelClass}:{},rootView:w.value.rootView,forceIncludeNodes:e.properties.forceIncludeNodes,baseFilter:F,itemsMapper:P,sections:e.properties.sections,items:e.properties.items,hideActions:e.properties.hideActions,actionsFilter:e.properties.actionsFilter}),p({subcategory:e.key})}if(e.type===`node`){let t=x(e),n=j(e,f),i=je(e.key)&&!Y().getIsNodeInstalled(e.key);if(ae(je(e.key),w.value)||i){n.length||(n=j(e,D.value.actions)),m(le(e,Ke(e.properties),w.value.rootView,n));return}if(n.length===1){r(`nodeTypeSelected`,[t]),b({name:n[0].defaults.name??e.properties.displayName,key:e.key,value:n[0].values});return}if(n.length===0||w.value.hideActions){r(`nodeTypeSelected`,[t]);return}let a=n?.map(t=>he(t,e.properties.displayName,`action`));m({subcategory:e.properties.displayName,title:e.properties.displayName,nodeIcon:Ke(e.properties),rootView:w.value.rootView,hasSearch:!0,mode:`actions`,items:a})}if(e.type===`view`){let t={[De]:Ye,[Oe]:Je,AI:Xe,[Fe]:qe},n=e.key,r=t[n];if(!r){console.warn(`No view found for ${n}`);return}let i=r(u);m({title:i.title,subtitle:i?.subtitle??``,info:i?.info??``,items:i.items,hasSearch:!0,rootView:i.value,mode:`nodes`,searchItems:u})}e.type===`link`&&window.open(e.properties.url,`_blank`),e.type===`openTemplate`&&l(e.properties.templateId,{telemetry:{source:`nodeCreator`,section:w.value.title}})}function P(e){if(e.type!==`node`)return e;let t=e.properties.group.includes(`trigger`),n=j(e,f).length>0;return t&&n&&(e.properties?.codex&&(e.properties.codex.alias=[...e.properties.codex?.alias||[],e.properties.displayName]),e.properties.displayName=e.properties.displayName.replace(` Trigger`,``)),e}function F(e){if(e.type===`section`)return!0;if(e.type!==`node`)return!1;let t=e.properties.group.includes(`trigger`),n=j(e,f).length>0;return w.value.rootView===`Trigger`?n||t:n||!t}let I=n(()=>[...ge(w.value.search??``,{isRagStarterCalloutVisible:c.value})]);function ee(){_()}function L(e){let t=de([...I.value??[],...w.value.items??[],...E.value??[],...O.value??[]]).find(t=>t.uuid===e);t&&M(t)}return S(`MainViewArrowRight`,{keyboardKeys:[`ArrowRight`,`Enter`],condition:e=>[`subcategory`,`node`,`link`,`view`,`openTemplate`].includes(e),handler:L}),S(`MainViewArrowLeft`,{keyboardKeys:[`ArrowLeft`],condition:e=>[`subcategory`,`node`,`link`,`view`,`openTemplate`].includes(e),handler:ee}),(e,t)=>(T(),i(`span`,null,[d(jt,{elements:I.value,class:N(e.$style.items),onSelected:M},null,8,[`elements`,`class`]),h([w.value.search],()=>d(jt,{elements:w.value.items,class:N(e.$style.items),onSelected:M},k({_:2},[A.value?{name:`empty`,fn:C(()=>[d(qt,{"root-view":w.value.rootView,"show-icon":``,"show-request":``,onAddWebhookNode:t[0]||=e=>r(`nodeTypeSelected`,[{type:o(`n8n-nodes-base.webhook`)}]),onAddHttpNode:t[1]||=e=>r(`nodeTypeSelected`,[{type:o(`n8n-nodes-base.httpRequest`)}])},null,8,[`root-view`])]),key:`0`}:void 0]),1032,[`elements`,`class`]),t,2),E.value.length>0?(T(),g(Tt,{key:0,elements:E.value,category:o(s).baseText(`nodeCreator.categoryNames.otherCategories`),expanded:!0,onSelected:M},null,8,[`elements`,`category`])):a(``,!0),O.value.length>0?(T(),g(Tt,{key:1,elements:O.value,category:o(s).baseText(`nodeCreator.categoryNames.moreFromCommunity`),expanded:!0,onSelected:M},null,8,[`elements`,`category`])):a(``,!0)]))}}),[[`__cssModules`,{$style:{items:`_items_bqzs3_125`}}]]),Xt=[`placeholder`,`value`],Zt=J(f({__name:`SearchBar`,props:{placeholder:{default:``},modelValue:{default:``}},emits:[`update:modelValue`],setup(e,{expose:t,emit:n}){let r=n,c=p({inputRef:null}),l=Se();function f(){c.inputRef?.focus()}function m(e){let t=e.target;r(`update:modelValue`,t.value.trim())}function h(){r(`update:modelValue`,``)}v(()=>{l.run(`nodeCreatorSearchBar.mount`,{inputRef:c.inputRef}),setTimeout(f,0)}),u(()=>{c.inputRef?.remove()});let{inputRef:g}=s(c);return t({focus:f}),(t,n)=>(T(),i(`div`,{class:N(t.$style.searchContainer),"data-test-id":`search-bar`},[P(`div`,{class:N({[t.$style.prefix]:!0,[t.$style.active]:e.modelValue.length>0})},[d(o(G),{icon:`search`,size:`small`})],2),P(`div`,{class:N(t.$style.text)},[P(`input`,{ref_key:`inputRef`,ref:g,placeholder:e.placeholder,value:e.modelValue,class:N(t.$style.input),autofocus:``,"data-test-id":`node-creator-search-bar`,tabindex:`0`,onInput:m},null,42,Xt)],2),e.modelValue.length>0?(T(),i(`div`,{key:0,class:N([t.$style.suffix,t.$style.clickable]),onClick:h},[d(o(G),{size:`small`,icon:`circle-x`})],2)):a(``,!0)],2))}}),[[`__cssModules`,{$style:{searchContainer:`_searchContainer_5mkav_125`,prefix:`_prefix_5mkav_141`,active:`_active_5mkav_146`,text:`_text_5mkav_150`,suffix:`_suffix_5mkav_166`,clear:`_clear_5mkav_172`,clickable:`_clickable_5mkav_185`}}]]),Qt=J(f({__name:`CommunityNodeDetails`,setup(e){let{activeViewStack:t,pushViewStack:s,popViewStack:c,getAllNodeCreateElements:l,updateCurrentViewStack:u}=Z(),{communityNodeDetails:f}=t,p=n(()=>t.communityNodeDetails?.packageName),{getQuickConnectOptionByPackageName:m}=at(),h=n(()=>{let e=p.value;return e?m(e):void 0}),_=Q(),{installNode:v,loading:y}=nt(),b=n(()=>be().isInstanceOwner),x=e=>{let n=pe(e),r=l().find(e=>e.key===n);if(r){let e=_.actions?.[r.key]||[];c(),u({searchItems:_.mergedNodes}),s(le(r,Ke(r.properties),t.rootView,e),{transitionDirection:`none`})}else{let e={...t};e.communityNodeDetails.installed=!0,s(t,{resetStacks:!0})}},S=e=>{x(e),_.removeNodeFromMergedNodes(e)},w=async()=>{if(b.value&&t.communityNodeDetails&&!f?.installed){let{key:e,packageName:n}=t.communityNodeDetails;(await v({type:`verified`,packageName:n,nodeType:e,telemetry:{source:`cnr package detail page`,hasQuickConnect:h.value!==void 0}})).success&&S(e)}};return(e,t)=>o(f)?(T(),i(`div`,{key:0,class:N(e.$style.container)},[P(`div`,{class:N(e.$style.header)},[P(`div`,{class:N(e.$style.title)},[o(f).nodeIcon?(T(),g($,{key:0,class:N(e.$style.nodeIcon),"icon-source":o(f).nodeIcon,circle:!1,"show-tooltip":!1},null,8,[`class`,`icon-source`])):a(``,!0),P(`span`,null,r(o(f).title),1),o(f).official?(T(),g(o(U),{key:1,placement:`bottom`,"show-after":500},{content:C(()=>[O(r(o(L).baseText(`generic.officialNode.tooltip`,{interpolate:{author:o(f).companyName??o(f).title}})),1)]),default:C(()=>[d(o(dt),{class:N(e.$style.officialIcon)},null,8,[`class`])]),_:1})):a(``,!0)],2),P(`div`,null,[o(f).installed?(T(),i(`div`,{key:0,class:N(e.$style.installed)},[o(f).official?a(``,!0):(T(),g(o(G),{key:0,class:N(e.$style.installedIcon),icon:`box`},null,8,[`class`])),d(o(K),{color:`text-light`,size:`small`,bold:``},{default:C(()=>[O(r(o(L).baseText(`communityNodeDetails.installed`)),1)]),_:1})],2)):a(``,!0),b.value&&!o(f).installed?(T(),g(o(H),{key:1,loading:o(y),disabled:o(y),label:o(L).baseText(`communityNodeDetails.install`),size:`small`,"data-test-id":`install-community-node-button`,onClick:w},null,8,[`loading`,`disabled`,`label`])):a(``,!0)])],2)],2)):a(``,!0)}}),[[`__cssModules`,{$style:{container:`_container_rt775_125`,header:`_header_rt775_133`,title:`_title_rt775_140`,nodeIcon:`_nodeIcon_rt775_148`,installedIcon:`_installedIcon_rt775_153`,officialIcon:`_officialIcon_rt775_159`,installed:`_installed_rt775_153`}}]]),$t=J(f({__name:`CommunityNodeDocsLink`,props:{packageName:{}},setup(e){let t=e,n=()=>{let e=window.open(`https://www.npmjs.com/package/${t.packageName}`,`_blank`);e&&(e.opener=null)};return(e,t)=>(T(),g(o(re),{theme:`text`,class:N(e.$style.container),title:o(L).baseText(`communityNodesDocsLink.link.title`),onClick:n},{default:C(()=>[d(o(K),{size:`small`,bold:``,style:{"margin-right":`5px`}},{default:C(()=>[O(r(o(L).baseText(`communityNodesDocsLink.title`)),1)]),_:1}),d(o(G),{icon:`external-link`})]),_:1},8,[`class`,`title`]))}}),[[`__cssModules`,{$style:{container:`_container_1wstz_125`}}]]),en=[`textContent`],tn=[`textContent`],nn=J(f({__name:`NodesListPanel`,setup(e){let t=R(),{callDebounced:s}=He(),{mergedNodes:c}=Q(),{pushViewStack:l,popViewStack:u,updateCurrentViewStack:f}=Z(),{setActiveItemIndex:p,attachKeydownEvent:h,detachKeydownEvent:y}=X(),x=Q(),{isInstanceOwner:S}=be(),w=n(()=>Z().activeViewStack),D=n(()=>w.value.communityNodeDetails),O=n(()=>Z().viewStacks),k=n(()=>Z().activeViewStackMode===`actions`),j=n(()=>{let e=w.value?.title;return D.value&&(e=D.value.title),k.value?t.baseText(`nodeCreator.actionsCategory.searchActions`,{interpolate:{node:e}}):t.baseText(`nodeCreator.searchBar.searchNodes`)}),M=n(()=>w.value.communityNodeDetails?!1:w.value.hasSearch),F=n(()=>Q().selectedView),ee=n(()=>D.value&&k.value&&w.value.subcategory);function L(e=``){return w.value.mode===`actions`?1:w.value.sections?e?0:1:0}function z(e){w.value.uuid&&(f({search:e}),p(L(e)),e.length&&s(x.onNodeFilterChanged,{trailing:!0,debounceTime:2e3},{newValue:e,filteredNodes:w.value.items??[],filterMode:w.value.rootView??`Regular`,subcategory:w.value.subcategory,title:w.value.title}))}function B(){p(L())}v(()=>{h(),p(L())}),m(()=>{y()}),b(()=>F.value,e=>{let t={[De]:Ye,[Oe]:Je,AI:Xe,[Fe]:qe,[Ie]:qe,[ze]:qe,[we]:Ze},n={[we]:{hasSearch:!1}},r=t[e];if(!r){console.warn(`No view found for ${e}`);return}let i=r(c);l({title:i.title,subtitle:i?.subtitle??``,items:i.items,nodeIcon:i.nodeIcon,info:i.info,hasSearch:!0,mode:`nodes`,rootView:e,searchItems:c,...n[e]})},{immediate:!0});function V(){u()}return(e,n)=>O.value.length>0?(T(),g(A,{key:0,name:`panel-slide-${w.value.transitionDirection}`,onAfterLeave:B},{default:C(()=>[(T(),i(`aside`,{key:`${w.value.uuid}`,class:N([e.$style.nodesListPanel,w.value.panelClass]),onKeydownCapture:n[0]||=E(()=>{},[`stop`])},[P(`header`,{class:N({[e.$style.header]:!0,[e.$style.hasBg]:!w.value.subtitle,"nodes-list-panel-header":!0}),"data-test-id":`nodes-list-header`},[P(`div`,{class:N(e.$style.top)},[O.value.length>1&&!w.value.preventBack?(T(),i(`button`,{key:0,class:N(e.$style.backButton),onClick:V},[d(o(G),{class:N(e.$style.backButtonIcon),icon:`arrow-left`,size:22},null,8,[`class`])],2)):a(``,!0),w.value.nodeIcon?(T(),g($,{key:1,class:N(e.$style.nodeIcon),"icon-source":w.value.nodeIcon,circle:!1,"show-tooltip":!1,size:20},null,8,[`class`,`icon-source`])):a(``,!0),w.value.title?(T(),i(`p`,{key:2,class:N(e.$style.title),textContent:r(w.value.title)},null,10,en)):a(``,!0),D.value?(T(),g($t,{key:3,"package-name":D.value.packageName},null,8,[`package-name`])):a(``,!0)],2),w.value.subtitle?(T(),i(`p`,{key:0,class:N({[e.$style.subtitle]:!0,[e.$style.offsetSubtitle]:O.value.length>1}),textContent:r(w.value.subtitle)},null,10,tn)):a(``,!0)],2),M.value?(T(),g(Zt,{key:0,class:N(e.$style.searchBar),placeholder:j.value?j.value:o(t).baseText(`nodeCreator.searchBar.searchNodes`),"model-value":w.value.search,"onUpdate:modelValue":z},null,8,[`class`,`placeholder`,`model-value`])):a(``,!0),D.value?(T(),g(Qt,{key:1})):a(``,!0),D.value&&!k.value?(T(),g(zt,{key:2})):a(``,!0),P(`div`,{class:N(e.$style.renderedItems)},[w.value.info&&!w.value.search?(T(),g(o(W),{key:0,class:N(e.$style.info),content:w.value.info,theme:`warning`},null,8,[`class`,`content`])):a(``,!0),k.value&&w.value.subcategory?(T(),g(Bt,I(_({key:1},e.$attrs)),null,16)):(T(),g(Yt,_({key:2,"root-view":F.value},e.$attrs),null,16,[`root-view`]))],2),D.value&&!ee.value?(T(),g(rt,{key:3,"package-name":D.value.packageName,"show-manage":D.value.installed&&o(S)},null,8,[`package-name`,`show-manage`])):a(``,!0)],34))]),_:1},8,[`name`])):a(``,!0)}}),[[`__cssModules`,{$style:{info:`_info_18qic_147`,backButton:`_backButton_18qic_151`,backButtonIcon:`_backButtonIcon_18qic_158`,nodeIcon:`_nodeIcon_18qic_163`,renderedItems:`_renderedItems_18qic_169`,searchBar:`_searchBar_18qic_181`,nodesListPanel:`_nodesListPanel_18qic_185`,footer:`_footer_18qic_203`,top:`_top_18qic_214`,header:`_header_18qic_219`,hasBg:`_hasBg_18qic_225`,title:`_title_18qic_230`,subtitle:`_subtitle_18qic_241`,offsetSubtitle:`_offsetSubtitle_18qic_249`}}]]),rn=J(f({__name:`NodeCreator`,props:{active:{type:Boolean},onNodeTypeSelected:{type:Function}},emits:[`closeNodeCreator`,`nodeTypeSelected`],setup(e,{emit:t}){let r=[`.el-overlay-dialog`],c=e,{resetViewStacks:l}=Z(),{registerKeyHook:f}=X(),m=t,h=_e(),_=Ve(),v=Ue(),{setShowScrim:y,setActions:x,setMergeNodes:w}=Q(),{generateMergedNodesAndActions:E}=xe(),D=p({nodeCreator:null,mousedownInsideEvent:null}),O=n(()=>Q().showScrim),k=n(()=>Z().viewStacks.length),A=n(()=>{let e=j();return{top:`${_.bannersHeight+h.headerHeight}px`,right:`${e}px`}});function j(){return v.isOpen?v.width:0}function M(){if(D.mousedownInsideEvent){let e=new MouseEvent(`click`,{bubbles:!0,cancelable:!0});D.mousedownInsideEvent.target?.dispatchEvent(e),D.mousedownInsideEvent=null,F()}}function F(){document.removeEventListener(`mouseup`,M),document.removeEventListener(`touchstart`,M)}function I(){D.mousedownInsideEvent=null,F()}function L(e){D.mousedownInsideEvent=e,document.addEventListener(`mouseup`,M),document.addEventListener(`touchstart`,M)}function R(e){e.preventDefault()}function z(e){if(!e.dataTransfer)return;let t=e.dataTransfer.getData(ke),n=D.nodeCreator.getBoundingClientRect();t&&e.pageX>=n.x&&e.pageY>=n.y&&e.stopPropagation()}b(()=>c.active,e=>{e||(y(!1),l())}),b(k,e=>{e===0&&(m(`closeNodeCreator`),y(!1))}),f(`NodeCreatorCloseEscape`,{keyboardKeys:[`Escape`],handler:()=>m(`closeNodeCreator`)}),f(`NodeCreatorCloseTab`,{keyboardKeys:[`Tab`],handler:()=>m(`closeNodeCreator`)}),b(()=>({httpOnlyCredentials:ve().httpOnlyCredentialTypes,nodeTypes:Y().visibleNodeTypes}),({nodeTypes:e,httpOnlyCredentials:t})=>{let{actions:n,mergedNodes:r}=E(e,t);x(n),w(r)},{immediate:!0});let{nodeCreator:B}=s(D);return u(()=>{F()}),ee(B,()=>{m(`closeNodeCreator`)},{ignore:r}),(t,n)=>(T(),i(`div`,null,[P(`aside`,{class:N({[t.$style.nodeCreatorScrim]:!0,[t.$style.active]:O.value})},null,2),e.active?(T(),g(o(te),{key:0,variant:`subtle`,class:N(t.$style.close),icon:`x`,"aria-label":`Close Node Creator`,onClick:n[0]||=e=>m(`closeNodeCreator`)},null,8,[`class`])):a(``,!0),d(ct,null,{default:C(()=>[e.active?(T(),i(`div`,{key:0,ref_key:`nodeCreator`,ref:B,class:N({[t.$style.nodeCreator]:!0}),style:S(A.value),"data-test-id":`node-creator`,onDragover:R,onDrop:z,onMousedown:L,onMouseup:I},[d(nn,{onNodeTypeSelected:e.onNodeTypeSelected},null,8,[`onNodeTypeSelected`])],38)):a(``,!0)]),_:1})]))}}),[[`__cssModules`,{$style:{nodeCreator:`_nodeCreator_1w0hg_129`,nodeCreatorScrim:`_nodeCreatorScrim_1w0hg_141`,active:`_active_1w0hg_153`,close:`_close_1w0hg_157`}}]]);export{rn as default};
//# sourceMappingURL=NodeCreator-BBArIC92.js.map