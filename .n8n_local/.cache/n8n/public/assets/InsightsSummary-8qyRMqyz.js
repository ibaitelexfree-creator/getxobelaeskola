(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`40cd4362-7c7a-4e3b-91a8-52a843fb053e`,e._sentryDebugIdIdentifier=`sentry-dbid-40cd4362-7c7a-4e3b-91a8-52a843fb053e`)})()}catch{}import{C as e,Cn as t,D as n,E as r,Gt as i,M as a,P as o,_ as s,bt as c,c as l,et as u,it as d,j as f,ot as p,vn as m,w as h}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{bt as g,yt as _}from"./_MapCache-DjbOQyB7.js";import{Ci as v,Oi as y,Ui as b}from"./src-CppJvwzX.js";import{t as x}from"./_plugin-vue_export-helper-B_J4Khre.js";import{Lt as S}from"./users.store-pCkD7Zo0.js";import{rs as C}from"./constants-D1jZwsUK.js";import{i as w,o as T}from"./insights.constants-DHL43iRt.js";import{i as E,r as D,t as O}from"./insights.utils-B2NpOI0Q.js";import{t as k}from"./smartDecimal-D382dS7h.js";var A={"data-test-id":`insights-summary-tabs`},j=[`data-test-id`],M=[`href`],N={key:1},P=x(o({__name:`InsightsSummary`,props:{summary:{},startDate:{},endDate:{},loading:{type:Boolean}},setup(o){let x=o,P=_(),F=v(),I=l(),L=S(),R=E(),z=e(()=>{let e=D({start:x.startDate,end:x.endDate});return e?R[e]:O({start:x.startDate,end:x.endDate})}),B=e(()=>({total:P.baseText(`insights.banner.title.total`),failed:P.baseText(`insights.banner.title.failed`),failureRate:P.baseText(`insights.banner.title.failureRate`),timeSaved:P.baseText(`insights.banner.title.timeSaved`),averageRunTime:P.baseText(`insights.banner.title.averageRunTime`)})),V=e(()=>{let e=Object.values(x.summary);return e.length>0&&e.every(e=>!e.value)}),H=e(()=>x.summary.map(e=>({...e,to:{name:C.INSIGHTS,params:{insightType:e.id},query:F.query}}))),U=(e,t)=>{let n=w[e];return t===0||n===T.NEUTRAL?I.neutral:n===T.POSITIVE?t>0?I.positive:I.negative:n===T.NEGATIVE?t<0?I.positive:I.negative:I.neutral},W=e=>{L.track(`User clicked ${B.value[e]}`,{referrer:F.name===C.INSIGHTS?`Dashboard`:`Overview`})};return(e,o)=>{let l=p(`RouterLink`);return u(),n(`div`,{class:m(i(I).insightsWrapper)},[h(`div`,{class:m(i(I).insights)},[h(`ul`,A,[(u(!0),n(s,null,d(H.value,({id:e,value:s,deviation:d,deviationUnit:p,unit:_,to:v})=>(u(),n(`li`,{key:e,"data-test-id":`insights-summary-tab-${e}`},[a(i(y),{placement:i(F).name===i(C).INSIGHTS?`bottom`:`top`,disabled:!(V.value&&e===`total`),"show-after":500},{content:c(()=>[a(i(g),{keypath:`insights.banner.noData.tooltip`,scope:`global`},{link:c(()=>[h(`a`,{href:i(P).baseText(`insights.banner.noData.tooltip.link.url`),target:`_blank`},t(i(P).baseText(`insights.banner.noData.tooltip.link`)),9,M)]),_:1})]),default:c(()=>[a(l,{to:v,"exact-active-class":i(I).activeTab,onClick:t=>W(e)},{default:c(()=>[h(`strong`,null,[a(i(y),{placement:`bottom`,disabled:e!==`timeSaved`},{content:c(()=>[f(t(i(P).baseText(`insights.banner.title.timeSaved.tooltip`)),1)]),default:c(()=>[f(` `+t(B.value[e]),1)]),_:2},1032,[`disabled`])]),h(`small`,{class:m(i(I).days)},t(z.value),3),s===0&&e===`timeSaved`?(u(),n(`span`,{key:0,class:m(i(I).empty)},[o[0]||=h(`em`,null,`--`,-1),h(`small`,null,[a(i(y),{placement:`bottom`},{content:c(()=>[a(i(g),{keypath:`insights.banner.timeSaved.tooltip`,scope:`global`},{link:c(()=>[f(t(i(P).baseText(`insights.banner.timeSaved.tooltip.link.text`)),1)]),_:1})]),default:c(()=>[a(i(b),{class:m(i(I).icon),icon:`info`,size:`medium`},null,8,[`class`])]),_:1})])],2)):(u(),n(`span`,N,[h(`em`,null,[f(t(i(k)(s).toLocaleString(`en-US`))+` `,1),h(`i`,null,t(_),1)]),d===null?r(``,!0):(u(),n(`small`,{key:0,class:m(U(e,d))},[a(i(b),{class:m([i(I).icon,U(e,d)]),icon:d===0?`chevron-right`:d>0?`chevron-up`:`chevron-down`},null,8,[`class`,`icon`]),a(i(y),{placement:`bottom`,disabled:e!==`failureRate`},{content:c(()=>[f(t(i(P).baseText(`insights.banner.failureRate.deviation.tooltip`)),1)]),default:c(()=>[f(` `+t(i(k)(Math.abs(d)).toLocaleString(`en-US`))+t(p),1)]),_:2},1032,[`disabled`])],2))]))]),_:2},1032,[`to`,`exact-active-class`,`onClick`])]),_:2},1032,[`placement`,`disabled`])],8,j))),128))])],2)],2)}}}),[[`__cssModules`,{$style:{insightsWrapper:`_insightsWrapper_dlxdf_125`,insights:`_insights_dlxdf_125`,activeTab:`_activeTab_dlxdf_173`,days:`_days_dlxdf_186`,empty:`_empty_dlxdf_197`,icon:`_icon_dlxdf_208`,noData:`_noData_dlxdf_238`,positive:`_positive_dlxdf_243`,negative:`_negative_dlxdf_247`,neutral:`_neutral_dlxdf_251`,loading:`_loading_dlxdf_266`,queueModeWarning:`_queueModeWarning_dlxdf_277`,underlined:`_underlined_dlxdf_283`}}]]);export{P as t};
//# sourceMappingURL=InsightsSummary-8qyRMqyz.js.map