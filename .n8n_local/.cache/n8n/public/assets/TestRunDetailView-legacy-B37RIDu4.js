!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./table-legacy-DOFEFtje.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./dateFormatter-legacy-Di9U0PH-.js","./orderBy-legacy-BePN9Mxt.js","./injectStrict-legacy-BDpFN7qf.js","./useWorkflowsCache-legacy-B5cWDIah.js","./evaluation.constants-legacy-DfABV13N.js"],(function(e,a){var s,t,l,r,n,o,i,u,d,c,_,m,v,f,y,p,b,g,x,w,h,C,k,T,z,$,I,R,j,E,S,B,D,H,L,N,O,A,P,U,W,M,V,F,X,G,J,K,Y,Z,q,Q,ee,ae;return{setters:[function(e){s=e.o},function(e){t=e.C,l=e.Cn,r=e.D,n=e.E,o=e.Gt,i=e.It,u=e.M,d=e.P,c=e.T,_=e.Z,m=e._,v=e.bt,f=e.et,y=e.h,p=e.it,b=e.j,g=e.vn,x=e.w},function(e){w=e.yt},function(e){h=e.Bi,C=e.Et,k=e.Mi,T=e.Oi,z=e.Ui,$=e.Vi,I=e.Xt,R=e.ct,j=e.f,E=e.wi,S=e.zi},function(e){B=e.t},function(e){},function(e){},function(e){D=e.Rr,H=e.T,L=e.yr},function(e){N=e.Tc,O=e.rs},function(e){},function(e){},function(e){},function(e){},function(e){A=e.t},function(e){P=e.t},function(e){U=e.t},function(e){W=e.t},function(e){M=e.a,V=e.c,F=e.i,X=e.n,G=e.o,J=e.r,K=e.s,Y=e.t}],execute:function(){(Z=document.createElement("style")).textContent="tr:hover:has(.open-execution-link:hover){--table--row--color--background--hover:transparent}._container_1s9s8_125{width:100%;height:100%;max-width:var(--content-container--width);padding:var(--spacing--lg)0}._header_1s9s8_132{align-items:center;gap:var(--spacing--2xs);margin-bottom:var(--spacing--lg);display:flex}._header_1s9s8_132 ._timestamp_1s9s8_138{color:var(--color--text);font-size:var(--font-size--sm)}._backButton_1s9s8_143{align-items:center;gap:var(--spacing--3xs);cursor:pointer;color:var(--color--text);background:0 0;border:none;padding:0;transition:color .1s ease-in-out;display:flex}._backButton_1s9s8_143:hover{color:var(--color--primary)}._headerSeparator_1s9s8_158{font-size:var(--font-size--xl);color:var(--color--text--tint-1)}._summary_1s9s8_163{margin-bottom:var(--spacing--md)}._summary_1s9s8_163 ._summaryStats_1s9s8_166{gap:var(--spacing--lg);display:flex}._stat_1s9s8_171{flex-direction:column;display:flex}._controls_1s9s8_176{gap:var(--spacing--sm);margin-bottom:var(--spacing--sm);display:flex}._downloadButton_1s9s8_182{margin-bottom:var(--spacing--sm)}._runsHeader_1s9s8_186{display:flex}._runsHeader_1s9s8_186>div:first-child{flex:1}._runsHeaderButtons_1s9s8_193{gap:var(--spacing--xs);display:flex}._loading_1s9s8_198{justify-content:center;align-items:center;height:200px;display:flex}._scrollableSummary_1s9s8_205{border:var(--border-width)var(--border-style)var(--color--foreground);background-color:var(--color--background--light-3);border-radius:5px}._scrollableSummary_1s9s8_205 .el-scrollbar__bar{opacity:1}._scrollableSummary_1s9s8_205 .el-scrollbar__thumb{background-color:var(--color--foreground)}._scrollableSummary_1s9s8_205 .el-scrollbar__thumb:hover{background-color:var(--color--foreground--shade-1)}._summaryCard_1s9s8_220{box-sizing:border-box;height:100px;padding:var(--spacing--sm);border-right:var(--border-width)var(--border-style)var(--color--foreground);flex-direction:column;flex-shrink:0;flex-basis:169px;justify-content:space-between;max-width:170px;display:flex}._summaryCard_1s9s8_220:first-child{border-top-left-radius:inherit;border-bottom-left-radius:inherit}._capitalized_1s9s8_237{text-transform:none}._capitalized_1s9s8_237:first-letter{text-transform:uppercase}._summaryCardTitle_1s9s8_245{text-overflow:ellipsis;white-space:nowrap;width:fit-content;max-width:100%;color:var(--color--text);flex-shrink:0;display:inline;overflow:hidden}._summaryCardContentLargeNumber_1s9s8_256{font-size:32px;line-height:1}._alertText_1s9s8_261{-webkit-line-clamp:2;line-clamp:2;text-overflow:ellipsis;white-space:normal;word-break:break-word;max-width:100%;color:var(--color--text--danger);font-size:var(--font-size--2xs);-webkit-box-orient:vertical;line-height:1.25;display:-webkit-box;overflow:hidden}._deletedExecutionRowIndex_1s9s8_276{color:var(--color--text);font-weight:var(--font-weight--regular)}\n/*$vite$:1*/",document.head.appendChild(Z);try{a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(se=(new a.Error).stack)&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[se]="5afe4860-3c3d-49d4-b40d-85f3014ee926",a._sentryDebugIdIdentifier="sentry-dbid-5afe4860-3c3d-49d4-b40d-85f3014ee926")}catch(a){}var a,se;q=s(P(),1),Q={style:{display:"flex"}},ee={style:{display:"flex","justify-content":"space-between",gap:"10px"}},ae={style:{display:"inline-flex",gap:"12px","align-items":"center","max-width":"100%"}},e("default",B(d({__name:"TestRunDetailView",setup(e){const a=E(),s=L(),d=H(),B=D(),P=w(),Z=W(),se=i(!0),te=i([]),le=i(!1),re=t((()=>a.currentRoute.value.params.runId)),ne=U(N),oe=t((()=>B.getWorkflowById(ne.value)?.name??"")),ie=i(),ue=i(new Set),de=t((()=>d.testRunsById[re.value])),ce=t((()=>de.value?.errorDetails)),_e=t((()=>(0,q.default)(te.value,(e=>e.runAt),["asc"]).map(((e,a)=>Object.assign(e,{index:a+1}))))),me=t((()=>ue.value.size===_e.value.length)),ve=t((()=>Object.values((0,q.default)(d.testRunsById,(e=>new Date(e.runAt)),["asc"]).filter((({workflowId:e})=>e===ne.value))??{}).findIndex((({id:e})=>e===re.value)))),fe=t((()=>A(new Date(de.value?.runAt).getTime()))),ye=t((()=>K(_e.value,"inputs"))),pe=t((()=>M(F(G(de.value,_e.value),ie.value?.order),ie.value?.visibility))),be=t((()=>[{prop:"index",width:100,label:P.baseText("evaluation.runDetail.testCase"),sortable:!0},{prop:"status",label:P.baseText("evaluation.listRuns.status"),minWidth:125},...V(pe.value,_e.value)])),ge=t((()=>de.value?.metrics??{}));async function xe(){ie.value&&await Z.saveEvaluationPreferences(ne.value,ie.value)}async function we(e,a){ie.value??={order:[],visibility:{}},ie.value.visibility[e]=a,await xe()}async function he(e){ie.value??={order:[],visibility:{}},ie.value.order=e,await xe()}function Ce(e){ue.value.has(e.id)?ue.value.delete(e.id):ue.value.add(e.id)}function ke(){me.value?ue.value.clear():ue.value=new Set(_e.value.map((e=>e.id)))}return _((async()=>{await(async()=>{if(re.value&&ne.value){se.value=!0;try{const e=await d.getTestRun({workflowId:ne.value,runId:re.value}),a=await d.fetchTestCaseExecutions({workflowId:ne.value,runId:e.id});te.value=a??[],le.value=a?.some((e=>"error"===e.status)),await d.fetchTestRuns(de.value.workflowId)}catch(e){s.showError(e,P.baseText("evaluation.listRuns.toast.error.fetchTestCases"))}finally{se.value=!1}}})(),await async function(){ie.value=await Z.getEvaluationPreferences(ne.value)}()})),(e,s)=>(f(),r("div",{class:g(e.$style.container),"data-test-id":"test-definition-run-detail"},[x("div",{class:g(e.$style.header)},[x("button",{class:g(e.$style.backButton),onClick:s[0]||(s[0]=e=>o(a).back())},[u(o(z),{icon:"arrow-left"}),u(o(S),{size:"large",bold:!0},{default:v((()=>[b(l(o(P).baseText("evaluation.listRuns.runListHeader",{interpolate:{name:oe.value}})),1)])),_:1})],2),x("span",{class:g(e.$style.headerSeparator)},"/",2),u(o(S),{size:"large",bold:!0},{default:v((()=>[b(l(o(P).baseText("evaluation.listRuns.testCasesListHeader",{interpolate:{index:ve.value+1}})),1)])),_:1})],2),"error"===de.value?.status?(f(),c(o(h),{key:0,theme:"danger",icon:"triangle-alert",class:"mb-s"},{default:v((()=>[u(o($),{size:"small",class:g(e.$style.capitalized)},{default:v((()=>[b(l(o(P).baseText(`${o(Y)(de.value?.errorCode)}`,ce.value?{interpolate:ce.value}:{})??o(P).baseText(`${o(Y)("UNKNOWN_ERROR")}`)),1)])),_:1},8,["class"])])),_:1})):n("",!0),u(o(I),{always:"",class:g([e.$style.scrollableSummary,"mb-m"])},{default:v((()=>[x("div",Q,[x("div",{class:g(e.$style.summaryCard)},[u(o($),{size:"small",class:g(e.$style.summaryCardTitle)},{default:v((()=>[b(l(o(P).baseText("evaluation.runDetail.totalCases")),1)])),_:1},8,["class"]),u(o($),{size:"xlarge",class:g(e.$style.summaryCardContentLargeNumber),bold:""},{default:v((()=>[b(l(te.value.length),1)])),_:1},8,["class"])],2),x("div",{class:g(e.$style.summaryCard)},[u(o($),{size:"small",class:g(e.$style.summaryCardTitle)},{default:v((()=>[b(l(o(P).baseText("evaluation.runDetail.ranAt")),1)])),_:1},8,["class"]),x("div",null,[u(o($),{size:"medium"},{default:v((()=>[b(l(fe.value.date)+" "+l(fe.value.time),1)])),_:1})])],2),x("div",{class:g(e.$style.summaryCard)},[u(o($),{size:"small",class:g(e.$style.summaryCardTitle)},{default:v((()=>[b(l(o(P).baseText("evaluation.listRuns.status")),1)])),_:1},8,["class"]),"completed"===de.value?.status&&le.value?(f(),c(o($),{key:0,size:"medium",color:"warning"},{default:v((()=>[b(l(o(P).baseText("evaluation.runDetail.error.partialCasesFailed")),1)])),_:1})):(f(),c(o($),{key:1,color:o(X)[de.value?.status]?.color,size:"medium",class:g(de.value?.status.toLowerCase()),style:{"text-transform":"capitalize"}},{default:v((()=>[b(l(de.value?.status),1)])),_:1},8,["color","class"]))],2),(f(!0),r(m,null,p(ge.value,((a,s)=>(f(),r("div",{key:s,class:g(e.$style.summaryCard)},[u(o(T),{content:s,placement:"top"},{default:v((()=>[u(o($),{size:"small",class:g(e.$style.summaryCardTitle),style:{"text-overflow":"ellipsis",overflow:"hidden"}},{default:v((()=>[b(l(s),1)])),_:2},1032,["class"])])),_:2},1032,["content"]),u(o($),{size:"xlarge",class:g(e.$style.summaryCardContentLargeNumber),bold:""},{default:v((()=>[b(l(a.toFixed(2)),1)])),_:2},1032,["class"])],2)))),128))])])),_:1},8,["class"]),x("div",{class:g(["mb-s",e.$style.runsHeader])},[x("div",null,[u(o(S),{size:"large",bold:!0},{default:v((()=>[b(l(o(P).baseText("evaluation.listRuns.allTestCases",{interpolate:{count:_e.value.length}})),1)])),_:1})]),x("div",{class:g(e.$style.runsHeaderButtons)},[u(o(k),{variant:"subtle",icon:me.value?"chevrons-down-up":"chevrons-up-down",size:"medium",onClick:ke},null,8,["icon"]),u(o(j),{size:"medium","icon-size":"small",columns:pe.value,"onUpdate:columnVisibility":we,"onUpdate:columnOrder":he},null,8,["columns"])],2)],2),se.value||ye.value.length||"completed"!==de.value?.status||"success"!==de.value?.finalResult?n("",!0):(f(),c(o(h),{key:1,theme:"secondary",icon:"info",class:"mb-s"},{default:v((()=>[u(o($),{size:"small",class:g(e.$style.capitalized)},{default:v((()=>[b(l(o(P).baseText("evaluation.runDetail.notice.useSetInputs")),1)])),_:1},8,["class"])])),_:1})),se.value?(f(),r("div",{key:2,class:g(e.$style.loading)},[u(o(C),{loading:!0,rows:5})],2)):(f(),c(J,{key:3,data:_e.value,columns:be.value,"default-sort":{prop:"id",order:"descending"},"expanded-rows":ue.value,onRowClick:Ce},{id:v((({row:e})=>[x("div",ee,l(e.id),1)])),index:v((({row:s})=>[x("div",null,[s.executionId?(f(),c(o(R),{key:0,class:"open-execution-link",onClick:y((e=>(e=>{const s=e.executionId;if(s){const{href:e}=a.resolve({name:O.EXECUTION_PREVIEW,params:{name:ne.value,executionId:s}});window.open(e,"_blank")}})(s)),["stop","prevent"])},{default:v((()=>[b(" #"+l(s.index),1)])),_:2},1032,["onClick"])):(f(),r("span",{key:1,class:g(e.$style.deletedExecutionRowIndex)},"#"+l(s.index),3))])])),status:v((({row:a})=>[x("div",ae,[u(o(z),{icon:o(X)[a.status].icon,color:o(X)[a.status].color},null,8,["icon","color"]),"error"===a.status?(f(),c(o(T),{key:0,placement:"top","show-after":300},{content:v((()=>[b(l(o(P).baseText(`${o(Y)(a.errorCode)}`)||a.status),1)])),default:v((()=>[u(o($),{color:"danger",class:g(e.$style.capitalized)},{default:v((()=>[b(l(o(P).baseText(`${o(Y)(a.errorCode)}`)||a.status),1)])),_:2},1032,["class"])])),_:2},1024)):(f(),c(o($),{key:1,class:g(e.$style.capitalized)},{default:v((()=>[b(l(a.status),1)])),_:2},1032,["class"]))])])),_:1},8,["data","columns","expanded-rows"]))],2))}}),[["__cssModules",{$style:{container:"_container_1s9s8_125",header:"_header_1s9s8_132",timestamp:"_timestamp_1s9s8_138",backButton:"_backButton_1s9s8_143",headerSeparator:"_headerSeparator_1s9s8_158",summary:"_summary_1s9s8_163",summaryStats:"_summaryStats_1s9s8_166",stat:"_stat_1s9s8_171",controls:"_controls_1s9s8_176",downloadButton:"_downloadButton_1s9s8_182",runsHeader:"_runsHeader_1s9s8_186",runsHeaderButtons:"_runsHeaderButtons_1s9s8_193",loading:"_loading_1s9s8_198",scrollableSummary:"_scrollableSummary_1s9s8_205",summaryCard:"_summaryCard_1s9s8_220",capitalized:"_capitalized_1s9s8_237",summaryCardTitle:"_summaryCardTitle_1s9s8_245",summaryCardContentLargeNumber:"_summaryCardContentLargeNumber_1s9s8_256",alertText:"_alertText_1s9s8_261",deletedExecutionRowIndex:"_deletedExecutionRowIndex_1s9s8_276"}}],["__scopeId","data-v-d996fa7b"]]))}}}));
//# sourceMappingURL=TestRunDetailView-legacy-B37RIDu4.js.map