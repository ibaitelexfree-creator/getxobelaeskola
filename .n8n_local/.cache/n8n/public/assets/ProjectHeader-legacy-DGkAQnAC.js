!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./folders.store-legacy-BDfX2wrH.js","./ProjectIcon-legacy-j5-RLKs-.js","./readyToRun.store-legacy-CKgcGLoh.js"],(function(e,a){var t,r,o,l,s,n,i,c,u,d,p,b,v,f,_,y,m,h,g,j,T,w,S,R,k,O,x,E,P,C,D,I,A,W,F,L,N,G,$,J,H,z,B,K,M,U,V,q,X,Y,Q,Z,ee,ae,te,re,oe,le;return{setters:[function(e){t=e.C,r=e.Cn,o=e.D,l=e.E,s=e.Gt,n=e.It,i=e.M,c=e.P,u=e.T,d=e.W,p=e._t,b=e.at,v=e.bt,f=e.et,_=e.j,y=e.mt,m=e.vn,h=e.w},function(e){g=e.D,j=e.P,T=e.yt},function(e){w=e.Ci,S=e.Hi,R=e.Mi,k=e.Oi,O=e.Tt,x=e.Vi,E=e.j,P=e.wi,C=e.zi},function(e){D=e.t},function(e){I=e.Ga,A=e.Gt,W=e.Kt,F=e.Lt,L=e.r,N=e.t,G=e.wr,$=e.ws},function(e){J=e.Yc,H=e.ei,z=e.qo,B=e.rs},function(e){K=e.t},function(e){M=e.n,U=e.t},function(e){V=e.r,q=e.t}],execute:function(){(X=document.createElement("style")).textContent="._buttonGroup_k0u4k_125{display:inline-flex}._buttonGroup_k0u4k_125>.button{border-right:1px solid var(--button--color--text,var(--button--color--text--primary))}._buttonGroup_k0u4k_125>.button:not(:first-child){border-radius:0}._buttonGroup_k0u4k_125>.button:first-child{border-top-right-radius:0;border-bottom-right-radius:0}._buttonGroupDropdown_k0u4k_139{border-left:1px solid var(--color--black-alpha-100);border-top-left-radius:0;border-bottom-left-radius:0}._projectHeader_ukvp2_125{min-height:var(--spacing--3xl);justify-content:space-between;align-items:flex-start;display:flex}._projectDetails_ukvp2_132{align-items:center;display:flex}._actions_ukvp2_137{padding:var(--spacing--2xs)0 var(--spacing--xs)}._projectDescriptionWrapper_ukvp2_141{display:inline-block;position:relative}._projectDescriptionWrapper_ukvp2_141:hover ._tooltip_ukvp2_145{display:block}._tooltip_ukvp2_145{top:0;left:calc(-1*var(--spacing--3xs));background-color:var(--color--background--light-2);padding:0 var(--spacing--3xs)var(--spacing--3xs);z-index:10;white-space:normal;border-radius:6px;display:none;position:absolute;box-shadow:0 2px 8px rgba(0,0,0,.15)}@media screen and (max-width:767px){._projectHeader_ukvp2_125{align-items:flex-start;gap:var(--spacing--xs);flex-direction:column}._headerActions_ukvp2_168{margin-left:auto}}\n/*$vite$:1*/",document.head.appendChild(X);try{a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(se=(new a.Error).stack)&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[se]="18ede4ca-3899-44f1-a972-ab6f4369ddde",a._sentryDebugIdIdentifier="sentry-dbid-18ede4ca-3899-44f1-a972-ab6f4369ddde")}catch(a){}var a,se;Y=c({__name:"ProjectTabs",props:{showSettings:{type:Boolean,default:!1},showExecutions:{type:Boolean,default:!0},pageType:{default:"project"},additionalTabs:{default:()=>[]}},setup(e){const a=e,r=T(),o=w(),l=A(),i=F(),c=n(""),d=t((()=>c.value?String(c.value):"")),b=t((()=>Array.isArray(o?.params?.projectId)?o.params.projectId[0]:o?.params?.projectId)),v=t((()=>l.currentProject?.type===W.Team)),_=(e,a,t)=>({label:r.baseText(e),value:t[a].name,to:t[a]}),y=t((()=>{const e=b.value?{workflows:{name:B.PROJECTS_WORKFLOWS,params:{projectId:b.value}},credentials:{name:B.PROJECTS_CREDENTIALS,params:{projectId:b.value}},executions:{name:B.PROJECTS_EXECUTIONS,params:{projectId:b.value}},variables:{name:B.PROJECTS_VARIABLES,params:{projectId:b.value}}}:"shared"===a.pageType?{workflows:{name:B.SHARED_WORKFLOWS},credentials:{name:B.SHARED_CREDENTIALS},executions:{name:B.NOT_FOUND},variables:{name:B.NOT_FOUND}}:{workflows:{name:B.WORKFLOWS},credentials:{name:B.CREDENTIALS},executions:{name:B.EXECUTIONS},variables:{name:B.HOME_VARIABLES}},t=[_("mainSidebar.workflows","workflows",e),_("mainSidebar.credentials","credentials",e)];if(a.showExecutions&&t.push(_("mainSidebar.executions","executions",e)),("overview"===a.pageType||v.value)&&t.push(_("mainSidebar.variables","variables",e)),a.additionalTabs?.length){const e=function(e,a){return e.map((e=>function(e,a){if(!e.dynamicRoute)return e;const t={name:e.dynamicRoute.name};e.dynamicRoute.includeProjectId&&a&&(t.params={projectId:a});const{dynamicRoute:r,...o}=e;return{...o,to:t}}(e,a)))}(a.additionalTabs,b.value);t.push(...e)}return a.showSettings&&t.push({label:r.baseText("projects.settings"),value:B.PROJECT_SETTINGS,to:{name:B.PROJECT_SETTINGS,params:{projectId:b.value}}}),t}));function m(e){"variables"===c.value&&i.track("User clicked project variables tab",{project_id:b.value}),c.value=e}return p((()=>o?.name),(()=>{c.value=o.name===B.PROJECTS_FOLDERS?B.PROJECTS_WORKFLOWS:o.name}),{immediate:!0}),(e,a)=>(f(),u(s(E),{"model-value":d.value,options:y.value,"data-test-id":"project-tabs","onUpdate:modelValue":m},null,8,["model-value","options"]))}}),Q=Y,Z=c({__name:"ProjectCreateResource",props:{actions:{},disabled:{type:Boolean},variant:{}},emits:["action"],setup(e,{expose:a,emit:t}){const r=t,l=y("actionToggleRef");return a({openActionToggle:e=>l.value?.openActionToggle(e)}),(a,t)=>(f(),o("div",{class:m([a.$style.buttonGroup])},[b(a.$slots,"default"),i(s(O),{ref_key:"actionToggleRef",ref:l,"data-test-id":"add-resource",actions:e.actions,placement:"bottom-end",teleported:!1,onAction:t[0]||(t[0]=e=>r("action",e))},{default:v((()=>[i(s(R),{disabled:e.disabled,class:m([a.$style.buttonGroupDropdown]),icon:"chevron-down",variant:e.variant??"solid"},null,8,["disabled","class","variant"])])),_:1},8,["actions"])],2))}}),ee=D(Z,[["__cssModules",{$style:{buttonGroup:"_buttonGroup_k0u4k_125",buttonGroupDropdown:"_buttonGroupDropdown_k0u4k_139"}}]]),ae=(e,a,t)=>{if(!e||a<=0)return"";const r=.55*t,o=Math.floor(a/r);if(e.length<=o)return"";const l=e.slice(0,o),s=l.lastIndexOf(" ");return l.slice(0,-1===s?o:s)+"..."},te=c({__name:"ReadyToRunButton",props:{hasActiveCallouts:{type:Boolean}},setup(e){const a=e,o=w(),n=T(),i=V(),c=A(),d=G(),p=K(),b=q(),y=t((()=>z(c.currentProject?.scopes??c.personalProject?.scopes))),m=t((()=>b.getButtonVisibility(p.totalWorkflowCount>0,y.value.workflow.create,d.preferences.branchReadOnly)&&!a.hasActiveCallouts)),h=async()=>{const e=i.isOverviewSubPage?c.personalProject?.id:o.params.projectId;try{await b.claimCreditsAndOpenWorkflow("button",o.params.folderId,e)}catch{}};return(e,a)=>m.value?(f(),u(s(S),{key:0,variant:"subtle","data-test-id":"ready-to-run-button",icon:"zap",loading:s(b).claimingCredits,disabled:s(d).preferences.branchReadOnly||s(b).claimingCredits,onClick:h},{default:v((()=>[_(r(s(n).baseText("workflows.empty.readyToRun")),1)])),_:1},8,["loading","disabled"])):l("",!0)}}),e("n",re=te),oe={style:{display:"flex",gap:"var(--spacing--xs)","align-items":"center"}},le=c({__name:"ProjectHeader",props:{hasActiveCallouts:{type:Boolean},mainButton:{}},emits:["createFolder"],setup(e,{emit:a}){const c=w(),p=P(),y=T(),R=A(),O=G(),E=$(),D=L(),K=F(),q=N(),X=V(),Y=e,Z=a,te=t((()=>R.currentProject?.type===W.Personal?{type:"icon",value:"user"}:R.currentProject?.name?M(R.currentProject.icon)?R.currentProject.icon:{type:"icon",value:"layers"}:{type:"icon",value:"house"})),le=t((()=>R.currentProject??R.personalProject)),se=t((()=>le.value?.type===W.Personal)),ne=t((()=>R.currentProject?R.currentProject.type===W.Personal?y.baseText("projects.menu.personal"):R.currentProject.name:X.isSharedSubPage?y.baseText("projects.header.shared.title"):X.isOverviewSubPage?y.baseText("projects.menu.overview"):se.value?y.baseText("projects.menu.personal"):null)),ie=t((()=>z(R.currentProject?.scopes).project)),ce=t((()=>z(R.currentProject?.scopes).projectVariable)),ue=t((()=>z(q.currentUser?.globalScopes).variable)),de=t((()=>!!c?.params?.projectId&&!!ie.value.update&&R.currentProject?.type===W.Team)),pe=t((()=>E.isFoldersFeatureEnabled&&[B.PROJECTS_WORKFLOWS,B.PROJECTS_FOLDERS].includes(c.name))),be=t((()=>{let e;return e=X.isSharedSubPage?"shared":X.isOverviewSubPage?"overview":"project",Object.keys(D.moduleTabs[e]).filter(E.isModuleActive).flatMap((a=>D.moduleTabs[e][a]))})),ve="workflow",fe="credential",_e="folder",ye="dataTable",me="variable",he=t((()=>({value:ve,label:y.baseText("projects.header.create.workflow"),icon:O.preferences.branchReadOnly?"lock":void 0,size:"mini",disabled:O.preferences.branchReadOnly||!z(le.value?.scopes).workflow.create}))),ge=t((()=>({value:fe,label:y.baseText("projects.header.create.credential"),icon:O.preferences.branchReadOnly?"lock":void 0,size:"mini",disabled:O.preferences.branchReadOnly||!z(le.value?.scopes).credential.create}))),je=t((()=>({value:ye,label:y.baseText("dataTable.add.button.label"),icon:O.preferences.branchReadOnly?"lock":void 0,size:"mini",disabled:O.preferences.branchReadOnly||!z(le.value?.scopes)?.dataTable?.create}))),Te=t((()=>({value:me,label:y.baseText("variables.add.button.label"),icon:O.preferences.branchReadOnly?"lock":void 0,size:"mini",disabled:O.preferences.branchReadOnly||!ce.value.create&&!ue.value.create}))),we=t((()=>Y.mainButton??ve)),Se=t((()=>{switch(we.value){case fe:return ge.value;case ye:return je.value;case me:return Te.value;default:return he.value}})),Re=t((()=>{const e=[];return we.value!==ve&&e.push({value:ve,label:y.baseText("projects.header.create.workflow"),disabled:O.preferences.branchReadOnly||!z(le.value?.scopes).workflow.create}),we.value!==fe&&e.push({value:fe,label:y.baseText("projects.header.create.credential"),disabled:O.preferences.branchReadOnly||!z(le.value?.scopes).credential.create}),we.value!==me&&E.isEnterpriseFeatureEnabled[J.Variables]&&e.push({value:me,label:y.baseText("variables.add.button.label"),disabled:O.preferences.branchReadOnly||!z(le.value?.scopes).projectVariable.create}),pe.value&&e.push({value:_e,label:y.baseText("projects.header.create.folder"),disabled:O.preferences.branchReadOnly||!z(le.value?.scopes).folder.create}),E.isDataTableFeatureEnabled&&we.value!==ye&&e.push({value:ye,label:y.baseText("dataTable.add.button.label"),disabled:O.preferences.branchReadOnly||!z(le.value?.scopes)?.dataTable?.create}),e})),ke=t((()=>!X.isOverviewSubPage&&!X.isSharedSubPage&&!se.value));function Oe(e){return function(e){return[B.PROJECTS_CREDENTIALS,B.CREDENTIALS,B.SHARED_CREDENTIALS].includes(e)}(e)?"credentials_list":function(e){return[B.PROJECTS_WORKFLOWS,B.WORKFLOWS,B.SHARED_WORKFLOWS,B.PROJECTS_FOLDERS].includes(e)}(e)?"workflow_list":void 0}const xe={[ve]:e=>{p.push({name:B.NEW_WORKFLOW,query:{projectId:e,parentFolderId:c.params.folderId,uiContext:Oe(c.name?.toString()??"")}})},[fe]:e=>{p.push({name:B.PROJECTS_CREDENTIALS,params:{projectId:e,credentialId:"create"},query:{uiContext:Oe(c.name?.toString()??"")}})},[_e]:()=>{Z("createFolder")},[ye]:e=>{p.push({name:H,params:{projectId:e,new:"new"}})},[me]:()=>{D.openModalWithData({name:I,data:{mode:"new"}}),K.track("User clicked header add variable button")}},Ee=t((()=>X.isSharedSubPage?"shared":X.isOverviewSubPage?"overview":"project")),Pe=t((()=>X.isSharedSubPage?y.baseText("projects.header.shared.subtitle"):X.isOverviewSubPage?y.baseText(E.isDataTableFeatureEnabled?"projects.header.overview.subtitleWithDataTables":"projects.header.overview.subtitle"):se.value?y.baseText(E.isDataTableFeatureEnabled?"projects.header.personal.subtitleWithDataTables":"projects.header.personal.subtitle"):null)),Ce=t((()=>X.isProjectsSubPage?R.currentProject?.description:null)),De=n(null),{width:Ie}=g(De),Ae=n(null),{width:We}=g(Ae),Fe=n(null);j(De,(()=>{if(!De.value)return;const e=De.value.querySelector('span[data-test-id="project-subtitle"]');if(e){const a=window.getComputedStyle(e);Fe.value=parseFloat(a.fontSize)}}));const Le=t((()=>{if(!Ce.value)return"";const e=Ie.value-We.value,a=Fe.value??14;return ae(Ce.value,e,a)})),Ne=e=>{const a=xe[e];le.value&&a(le.value.id)};return(e,a)=>(f(),o("div",null,[h("div",{ref_key:"projectHeaderRef",ref:De,class:m(e.$style.projectHeader)},[h("div",{class:m(e.$style.projectDetails)},[ke.value?(f(),u(U,{key:0,icon:te.value,"border-less":!0,size:"medium"},null,8,["icon"])):l("",!0),h("div",{class:m(e.$style.headerActions)},[ne.value?(f(),u(s(C),{key:0,bold:"",tag:"h2",size:"xlarge","data-test-id":"project-name"},{default:v((()=>[_(r(ne.value),1)])),_:1})):l("",!0),Pe.value?(f(),u(s(x),{key:1,color:"text-light","data-test-id":"project-subtitle"},{default:v((()=>[_(r(Pe.value),1)])),_:1})):Ce.value?(f(),o("div",{key:2,class:m(e.$style.projectDescriptionWrapper)},[i(s(x),{color:"text-light","data-test-id":"project-subtitle"},{default:v((()=>[_(r(Le.value||Ce.value),1)])),_:1}),Le.value?(f(),o("div",{key:0,class:m(e.$style.tooltip)},[i(s(x),{color:"text-light"},{default:v((()=>[_(r(Ce.value),1)])),_:1})],2)):l("",!0)],2)):l("",!0)],2)],2),s(c).name!==s(B).PROJECT_SETTINGS?(f(),o("div",{key:0,ref_key:"headerActionsRef",ref:Ae,class:m([e.$style.headerActions])},[i(s(k),{disabled:!s(O).preferences.branchReadOnly,content:s(y).baseText("readOnlyEnv.cantAdd.any")},{default:v((()=>[h("div",oe,[i(re,{"has-active-callouts":Y.hasActiveCallouts},null,8,["has-active-callouts"]),i(ee,{"data-test-id":"add-resource-buttons",actions:Re.value,disabled:s(O).preferences.branchReadOnly,onAction:Ne},{default:v((()=>[i(s(S),d({"data-test-id":`add-resource-${we.value}`},Se.value,{size:"medium",onClick:a[0]||(a[0]=e=>Ne(we.value))}),null,16,["data-test-id"])])),_:1},8,["actions","disabled"])])])),_:1},8,["disabled","content"])],2)):l("",!0)],2),b(e.$slots,"default"),h("div",{class:m(e.$style.actions)},[i(Q,{"page-type":Ee.value,"show-executions":!s(X).isSharedSubPage,"show-settings":de.value,"additional-tabs":be.value},null,8,["page-type","show-executions","show-settings","additional-tabs"])],2)]))}}),e("t",D(le,[["__cssModules",{$style:{projectHeader:"_projectHeader_ukvp2_125",projectDetails:"_projectDetails_ukvp2_132",actions:"_actions_ukvp2_137",projectDescriptionWrapper:"_projectDescriptionWrapper_ukvp2_141",tooltip:"_tooltip_ukvp2_145",headerActions:"_headerActions_ukvp2_168"}}]]))}}}));
//# sourceMappingURL=ProjectHeader-legacy-DGkAQnAC.js.map