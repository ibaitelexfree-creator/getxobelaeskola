!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./users.store-legacy-B-bVJKl3.js","./ProjectIcon-legacy-j5-RLKs-.js","./orderBy-legacy-BePN9Mxt.js"],(function(e,l){var a,t,o,r,s,i,n,d,c,p,u,y,v,f,_,m,j,h,b,g,x,w,A,k,T,I,S,$,P,z,U,C,N,q,R,D,G,E,V,B,L;return{setters:[function(e){a=e.o},function(e){t=e.C,o=e.Cn,r=e.D,s=e.E,i=e.Gt,n=e.It,d=e.M,c=e.P,p=e.T,u=e.U,y=e._,v=e._t,f=e.at,_=e.bt,m=e.et,j=e.ft,h=e.it,b=e.j,g=e.vn,x=e.w},function(e){w=e.yt},function(e){A=e.At,k=e.Hi,T=e.Oi,I=e.Ui,S=e.Vi,$=e.ft,P=e.pt,z=e.wt},function(e){U=e.t},function(e){C=e.Di,N=e.Kt},function(e){q=e.n,R=e.t},function(e){D=e.t}],execute:function(){(G=document.createElement("style")).textContent="._projectInfo_1vlqj_125{width:100%;padding:var(--spacing--2xs)0;justify-content:space-between;align-items:center;gap:8px;display:flex}._projectInfo_1vlqj_125>div{align-items:center;gap:8px;display:flex}._projectInfo_1vlqj_125 p{font-size:var(--font-size--sm);color:var(--color--text--shade-1);font-weight:var(--font-weight--medium);line-height:var(--line-height--lg)}._projectInfo_1vlqj_125 small{font-size:var(--font-size--xs);color:var(--color--text--tint-1);line-height:var(--line-height--lg)}._text_1vlqj_150{flex-direction:column;display:flex}._text_1vlqj_150 p{margin:0}._project_pay4y_125{width:100%;padding:var(--spacing--2xs)0;align-items:center;gap:var(--spacing--2xs);display:flex}._selectedProjects_pay4y_133 li{border-bottom:var(--border);padding:0}._selectedProjects_pay4y_133 li:first-child{padding-top:var(--spacing--md)}._selectedProjects_pay4y_133 li:last-child{border-bottom:none}._projectRoleSelect_pay4y_144{width:auto}._popper_pay4y_148 .el-scrollbar__wrap{scrollbar-width:none}._emoji_pay4y_152{font-size:var(--font-size--sm)}\n/*$vite$:1*/",document.head.appendChild(G);try{l="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(M=(new l.Error).stack)&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[M]="a76a8444-1e8f-4e9a-96fe-70071e2348d4",l._sentryDebugIdIdentifier="sentry-dbid-a76a8444-1e8f-4e9a-96fe-70071e2348d4")}catch(l){}var l,M;E={key:0},V=U(c({__name:"ProjectSharingInfo",props:{project:{}},setup(e){const l=e,a=t((()=>{const{name:e,email:a}=C(l.project.name??""),t=e?.split(" "),o=t?.pop()??"";return{firstName:t?.join(" ")??"",lastName:o,email:a}})),n=t((()=>l.project.icon&&q(l.project.icon)?l.project.icon:null));return(e,l)=>(m(),r("div",{class:g(e.$style.projectInfo),"data-test-id":"project-sharing-info"},[x("div",null,[n.value?(m(),p(R,{key:0,icon:n.value,size:"large",round:!0},null,8,["icon"])):(m(),p(i(z),{key:1,"first-name":a.value.firstName,"last-name":a.value.lastName},null,8,["first-name","last-name"])),x("div",{class:g(e.$style.text)},[a.value.firstName||a.value.lastName?(m(),r("p",E,o(a.value.firstName)+" "+o(a.value.lastName),1)):s("",!0),x("small",null,o(a.value.email),1)],2)]),f(e.$slots,"default")],2))}}),[["__cssModules",{$style:{projectInfo:"_projectInfo_1vlqj_125",text:"_text_1vlqj_150"}}]]),B=a(D(),1),L=c({__name:"ProjectSharing",props:u({projects:{},homeProject:{},roles:{},readonly:{type:Boolean},static:{type:Boolean},placeholder:{},emptyOptionsText:{},size:{},clearable:{type:Boolean},canShareGlobally:{type:Boolean},isSharedGlobally:{type:Boolean},allUsersLabel:{},disabledTooltip:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:u(["projectAdded","projectRemoved","clear","update:shareWithAllUsers"],["update:modelValue"]),setup(e,{emit:l}){const a=w(),c=e,u={id:"all_users",name:c.allUsersLabel??a.baseText("projects.sharing.allUsers"),type:"public",icon:{type:"icon",value:"globe"},role:"member",createdAt:`${Date.now()}`,updatedAt:`${Date.now()}`},f=j(e,"modelValue"),x=l,z=n(Array.isArray(f.value)?"":f.value?.id??""),U=t((()=>Array.isArray(f.value)?c.isSharedGlobally?[u,...f.value]:f.value:null)),C=n(""),R=t((()=>c.placeholder??a.baseText("projects.sharing.select.placeholder"))),D=t((()=>c.emptyOptionsText??a.baseText("projects.sharing.noMatchingUsers"))),G=t((()=>c.projects.filter((e=>e.name?.toLowerCase().includes(C.value.toLowerCase())&&(!Array.isArray(f.value)||!f.value?.find((l=>l.id===e.id))))))),E=t((()=>[...c.canShareGlobally&&!c.isSharedGlobally?[u]:[],...(0,B.default)(G.value,["type",e=>e.name?.toLowerCase()],["desc","asc"])])),L=t((()=>{const e={type:"icon",value:"layers"},l=c.projects.find((e=>e.id===z.value));return l?.type===N.Personal?{type:"icon",value:"user"}:l?.type===N.Team&&q(l.icon)?l.icon:e})),M=e=>{C.value=e},O=e=>{if(e===u.id)return void x("update:shareWithAllUsers",!0);const l=c.projects.find((l=>l.id===e));l&&(Array.isArray(f.value)?f.value=[...f.value,l]:f.value=l,x("projectAdded",l))},W=(e,l)=>{Array.isArray(f.value)&&!c.readonly&&(e.id!==u.id||"remove"!==l?-1!==(f.value?.findIndex((l=>l.id===e.id))??-1)&&"remove"===l&&(f.value=f.value.filter((l=>l.id!==e.id)),x("projectRemoved",e)):x("update:shareWithAllUsers",!1))};return v((()=>f.value),(()=>{null===f.value||Array.isArray(f.value)?z.value="":z.value=f.value.id}),{immediate:!0}),(l,t)=>(m(),r("div",null,[d(i(T),{disabled:!c.disabledTooltip,placement:"top"},{content:_((()=>[b(o(c.disabledTooltip),1)])),default:_((()=>[!c.static||c.disabledTooltip?(m(),p(i($),{key:0,"model-value":z.value,"data-test-id":"project-sharing-select",filterable:!0,"filter-method":M,placeholder:R.value,"default-first-option":!0,"no-data-text":D.value,size:e.size??"medium",disabled:c.readonly||!!c.disabledTooltip,clearable:e.clearable,"popper-class":l.$style.popper,"onUpdate:modelValue":O,onClear:t[0]||(t[0]=e=>x("clear"))},{prefix:_((()=>["icon"===L.value.type?(m(),p(i(I),{key:0,icon:L.value.value,color:"text-dark"},null,8,["icon"])):"emoji"===L.value.type?(m(),p(i(S),{key:1,color:"text-light",class:g(l.$style.emoji)},{default:_((()=>[b(o(L.value.value),1)])),_:1},8,["class"])):s("",!0)])),default:_((()=>[(m(!0),r(y,null,h(E.value,(e=>(m(),p(i(P),{key:e.id,value:e.id,label:e.name??""},{default:_((()=>[d(V,{project:e},null,8,["project"])])),_:2},1032,["value","label"])))),128))])),_:1},8,["model-value","placeholder","no-data-text","size","disabled","clearable","popper-class"])):s("",!0)])),_:1},8,["disabled"]),U.value?(m(),r("ul",{key:0,class:g(l.$style.selectedProjects)},[c.homeProject?(m(),r("li",{key:0,class:g(l.$style.project),"data-test-id":"project-sharing-owner"},[d(V,{project:c.homeProject},{default:_((()=>[d(i(A),{theme:"tertiary",bold:""},{default:_((()=>[b(o(i(a).baseText("auth.roles.owner")),1)])),_:1})])),_:1},8,["project"])],2)):s("",!0),(m(!0),r(y,null,h(U.value,(a=>(m(),r("li",{key:a.id,class:g(l.$style.project),"data-test-id":"project-sharing-list-item"},[d(V,{project:a},null,8,["project"]),!c.roles?.length||c.static||a.id===u.id&&!e.canShareGlobally?s("",!0):(m(),p(i($),{key:0,class:g(l.$style.projectRoleSelect),"model-value":c.roles[0],disabled:c.readonly,size:"small","onUpdate:modelValue":e=>W(a,e)},{default:_((()=>[(m(!0),r(y,null,h(e.roles,(e=>(m(),p(i(P),{key:e.slug,value:e.slug,label:e.displayName},null,8,["value","label"])))),128))])),_:1},8,["class","model-value","disabled","onUpdate:modelValue"])),c.static||a.id===u.id&&!e.canShareGlobally?s("",!0):(m(),p(i(k),{key:1,variant:"subtle",iconOnly:"","native-type":"button",icon:"trash-2",disabled:c.readonly,"data-test-id":"project-sharing-remove",onClick:e=>W(a,"remove")},null,8,["disabled","onClick"]))],2)))),128))],2)):s("",!0)]))}}),e("t",U(L,[["__cssModules",{$style:{project:"_project_pay4y_125",selectedProjects:"_selectedProjects_pay4y_133",projectRoleSelect:"_projectRoleSelect_pay4y_144",popper:"_popper_pay4y_148",emoji:"_emoji_pay4y_152"}}]]))}}}));
//# sourceMappingURL=ProjectSharing-legacy-BSYOg5eC.js.map