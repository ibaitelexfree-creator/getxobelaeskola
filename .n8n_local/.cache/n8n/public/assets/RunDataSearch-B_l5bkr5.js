(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`ec296181-ec71-4620-bce0-625c350be350`,e._sentryDebugIdIdentifier=`sentry-dbid-ec296181-ec71-4620-bce0-625c350be350`)})()}catch{}import{C as e,D as t,Gt as n,It as r,M as i,P as a,_t as o,bn as s,bt as c,et as l,vn as u,z as d}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{O as f,yt as p}from"./_MapCache-DjbOQyB7.js";import{Ui as m,ji as h,kt as g}from"./src-CppJvwzX.js";import{t as _}from"./_plugin-vue_export-helper-B_J4Khre.js";import"./sanitize-html-K63Olwt_.js";import{Sc as v}from"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import{t as y}from"./useDebounce-D6lADr4O.js";var b={"data-test-id":`ndv-search-container`},x=`30px`,S=`204px`,C=`120px`,w=_(a({__name:`RunDataSearch`,props:{modelValue:{},paneType:{default:`output`},displayMode:{default:`schema`},shortcut:{default:void 0}},emits:[`update:modelValue`,`focus`],setup(a,{emit:_}){let w=_,T=a,E=p(),{debounce:D}=y(),{isCtrlKeyPressed:O,controlKeyText:k}=g(),A=d(v,void 0),j=e(()=>A?.value?.document??window.document),M=r(null),N=r(null),P=r(T.modelValue??``),F=r(!!P.value),I=e(()=>T.shortcut===`ctrl+f`?E.baseText(`ndv.search.placeholder.shortcutHint`,{interpolate:{shortcut:`${k.value}+F`}}):T.paneType===`output`?E.baseText(`ndv.search.placeholder.output`):T.displayMode===`schema`?E.baseText(`ndv.search.placeholder.input.schema`):E.baseText(`ndv.search.placeholder.input`)),L=e(()=>F.value?{maxWidth:S,minWidth:C}:{maxWidth:x}),R=e=>{let t=W(e);if(t)switch(e.preventDefault(),e.stopImmediatePropagation(),t){case`open`:M.value=document.activeElement,N.value?.focus(),N.value?.select();break;case`cancel`:N.value?.blur(),F.value=!1,w(`update:modelValue`,``),M.value instanceof HTMLElement&&M.value.focus()}},z=D(async e=>w(`update:modelValue`,e),{debounceTime:300,trailing:!0}),B=e=>{P.value=e,z(e)},V=()=>{F.value=!0,N.value?.select(),w(`focus`)},H=()=>{T.modelValue||(F.value=!1)};function U(e){return e instanceof HTMLElement?e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||e.getAttribute(`contentEditable`)===`true`:!1}function W(e){if(F.value&&e.key===`Escape`)return`cancel`;switch(T.shortcut){case`/`:return e.key===`/`&&!U(e.target)?`open`:void 0;case`ctrl+f`:return e.key===`f`&&O(e)?`open`:void 0;case void 0:return}}return f(j,`keydown`,R,{capture:!0}),o(()=>T.modelValue,e=>{let t=P.value&&!e;P.value=e,t&&(F.value=!1)}),(e,r)=>(l(),t(`div`,b,[i(n(h),{ref_key:`inputRef`,ref:N,"data-test-id":`ndv-search`,class:u({[e.$style.ioSearch]:!0,[e.$style.ioSearchOpened]:F.value}),style:s(L.value),"model-value":P.value,placeholder:I.value,size:`small`,"onUpdate:modelValue":B,onFocus:V,onBlur:H},{prefix:c(()=>[i(n(m),{class:u(e.$style.ioSearchIcon),icon:`search`,size:`large`},null,8,[`class`])]),_:1},8,[`class`,`style`,`model-value`,`placeholder`])]))}}),[[`__cssModules`,{$style:{ioSearch:`_ioSearch_1bmr7_125`,ioSearchIcon:`_ioSearchIcon_1bmr7_132`,ioSearchOpened:`_ioSearchOpened_1bmr7_142`}}]]);export{w as default};
//# sourceMappingURL=RunDataSearch-B_l5bkr5.js.map