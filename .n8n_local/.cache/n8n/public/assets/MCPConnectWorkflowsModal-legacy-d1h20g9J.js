!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./banners.store-legacy-B3TV_6lC.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./dataTable.store-legacy-bRwnG61W.js","./Modal-legacy-BQYiVbf3.js","./executions.store-legacy-OEeCPZk_.js","./useEnvFeatureFlag-legacy-D1JgdFvC.js","./usePinnedData-legacy-B5CI71uf.js","./nodeIcon-legacy-KJSlWBN7.js","./canvas.utils-legacy-BQnUeqx3.js","./nodeCreator.store-legacy-i0crt2uh.js","./useCanvasOperations-legacy-CEMGNuuE.js","./folders.store-legacy-BDfX2wrH.js","./useDynamicCredentials-legacy-DtgrzjN_.js","./NodeIcon-legacy-DOI-M5xN.js","./roles.store-legacy-DOWLLO4H.js","./dist-legacy-CPj4q_aQ.js","./sso.store-legacy-B2e5Mjw4.js","./router-legacy-BqAYjr9q.js","./insights.store-legacy-BeV4G8Lk.js","./insights.constants-legacy-CSuwNipZ.js","./insights.utils-legacy-BZFivQZh.js","./mcp.constants-legacy-DUR_mUvx.js","./mcp.store-legacy-DptxaWCG.js","./WorkflowLocation-legacy-BCiaYFB3.js"],(function(e,t){var l,n,o,a,s,c,i,u,r,d,f,p,y,m,g,w,_,v,b,j,k,h,x,C,T,$,E,I,M,z,V,W,D,P,U,L,O,R,S,B;return{setters:[function(e){l=e.C,n=e.Cn,o=e.D,a=e.E,s=e.Gt,c=e.It,i=e.J,u=e.M,r=e.P,d=e.T,f=e.U,p=e.Z,y=e._,m=e.bt,g=e.et,w=e.ft,_=e.it,v=e.j,b=e.m,j=e.vn,k=e.w},function(e){h=e.yt},function(e){x=e.Hi,C=e.U,T=e.Ui,$=e._t,E=e.ft,I=e.pt},function(e){M=e.t},function(e){},function(e){z=e.Lt,V=e.yr},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){W=e.t},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){D=e.a,P=e.i,e.n,U=e.t},function(e){L=e.t},function(e){O=e.t}],execute:function(){(R=document.createElement("style")).textContent="._mcp-workflows-select-loading_eulzw_125,._mcp-workflows-select-empty_eulzw_126{min-height:var(--spacing--5xl);justify-content:space-around;align-items:center;display:flex}._empty-option_eulzw_133{cursor:default!important;color:var(--color--text)!important}._container_lejd8_125{flex-direction:column;display:flex}._content_lejd8_130{gap:var(--spacing--sm);flex-direction:column;display:flex}._content_lejd8_130 ._notice_lejd8_135{margin:0}._content_lejd8_130 ._notice_lejd8_135 a{font-weight:400}._footer_lejd8_142{justify-content:flex-end;gap:var(--spacing--2xs);margin-top:var(--spacing--2xs);display:flex}\n/*$vite$:1*/",document.head.appendChild(R);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(F=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[F]="420724ca-375c-44a9-bc85-9426941b012c",t._sentryDebugIdIdentifier="sentry-dbid-420724ca-375c-44a9-bc85-9426941b012c")}catch(t){}var t,F;S=r({__name:"MCPWorkflowsSelect",props:f({placeholder:{},disabled:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:f(["ready","confirm"],["update:modelValue"]),setup(e,{expose:i,emit:r}){const f=h(),k=V(),x=w(e,"modelValue"),C=r,$=L(),M=c(!1),z=c(!1),W=c(!1),D=c(),P=c([]);let U=null;const R=l((()=>!M.value&&z.value&&0===P.value.length));async function S(e){U&&(clearTimeout(U),U=null),M.value=!0,z.value=!1;try{P.value=(await $.getMcpEligibleWorkflows({take:10,query:e??void 0}))?.data??[]}catch(t){k.showError(t,f.baseText("settings.mcp.connectWorkflows.error"))}finally{await async function(e){await new Promise((t=>{setTimeout((()=>{t()}),e)}))}(200),M.value=!1,z.value=!0}}function B(e){W.value=e}function F(e){"Enter"===e.key&&!W.value&&x.value&&(e.preventDefault(),e.stopPropagation(),C("confirm"))}return p((async()=>{await S(),C("ready")})),i({focusOnInput:function(){D.value?.focusOnInput()},removeOption:function(e){P.value=P.value.filter((t=>t.id!==e))}}),(t,l)=>(g(),o("div",{onKeydownCapture:b(F,["enter"])},[u(s(E),{ref_key:"selectRef",ref:D,modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=e=>x.value=e),"data-test-id":"mcp-workflows-select",placeholder:e.placeholder,disabled:e.disabled,loading:M.value,filterable:!0,remote:!0,"remote-method":S,"popper-class":{[t.$style["mcp-workflows-select-loading"]]:M.value,[t.$style["mcp-workflows-select-empty"]]:R.value},onVisibleChange:B},{prefix:m((()=>[u(s(T),{class:j(t.$style["search-icon"]),icon:"search",size:"large"},null,8,["class"])])),default:m((()=>[R.value?(g(),d(s(I),{key:0,value:"",disabled:"",class:j(t.$style["empty-option"])},{default:m((()=>[v(n(s(f).baseText("settings.mcp.connectWorkflows.emptyState")),1)])),_:1},8,["class"])):a("",!0),(g(!0),o(y,null,_(P.value,(e=>(g(),d(s(I),{key:e.id,value:e.id,label:e.name},{default:m((()=>[u(O,{"workflow-id":e.id,"workflow-name":e.name,"home-project":e.homeProject,"parent-folder":e.parentFolder},null,8,["workflow-id","workflow-name","home-project","parent-folder"])])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue","placeholder","disabled","loading","popper-class"])],32))}}),B=M(S,[["__cssModules",{$style:{"mcp-workflows-select-loading":"_mcp-workflows-select-loading_eulzw_125","mcp-workflows-select-empty":"_mcp-workflows-select-empty_eulzw_126","empty-option":"_empty-option_eulzw_133"}}]]),e("default",M(r({__name:"MCPConnectWorkflowsModal",props:{data:{}},setup(e){const t=e,n=h(),o=z(),a=c(!1),r=c(),f=c(null),y=$(),w=c(!1),_=`${D}#${U}`,v=l((()=>!!r.value));async function b(e){if(r.value){a.value=!0;try{await t.data.onEnableMcpAccess(r.value),w.value=!0,o.track("User selected workflow from list",{workflowId:r.value}),e()}finally{a.value=!1}}}function T(){w.value||o.track("User dismissed mcp workflows dialog")}function E(){f.value?.focusOnInput()}function I(){a.value||b((()=>y.emit("close")))}return p((()=>{y.on("closed",T)})),i((()=>{y.off("closed",T)})),(e,t)=>(g(),d(W,{name:s(P),title:s(n).baseText("settings.mcp.connectWorkflows.modalTitle"),width:"600px",class:j(e.$style.container),"event-bus":s(y)},{content:m((()=>[k("div",{class:j(e.$style.content)},[u(s(C),{"data-test-id":"mcp-connect-workflows-info-notice",theme:"info",content:s(n).baseText("settings.mcp.connectWorkflows.notice",{interpolate:{docsLink:_}}),class:j(e.$style.notice)},null,8,["content","class"]),u(B,{ref_key:"selectRef",ref:f,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),placeholder:s(n).baseText("settings.mcp.connectWorkflows.input.placeholder"),disabled:a.value,onReady:E,onConfirm:I},null,8,["modelValue","placeholder","disabled"])],2)])),footer:m((({close:t})=>[k("div",{class:j(e.$style.footer)},[u(s(x),{variant:"subtle",label:s(n).baseText("generic.cancel"),size:"small",disabled:a.value,"data-test-id":"mcp-connect-workflows-cancel-button",onClick:e=>(e=>{w.value=!0,o.track("User dismissed mcp workflows dialog"),e()})(t)},null,8,["label","disabled","onClick"]),u(s(x),{variant:"solid",label:s(n).baseText("settings.mcp.connectWorkflows.confirm.label"),loading:a.value,disabled:!v.value||a.value,"data-test-id":"mcp-connect-workflows-save-button",onClick:e=>b(t)},null,8,["label","loading","disabled","onClick"])],2)])),_:1},8,["name","title","class","event-bus"]))}}),[["__cssModules",{$style:{container:"_container_lejd8_125",content:"_content_lejd8_130",notice:"_notice_lejd8_135",footer:"_footer_lejd8_142"}}]]))}}}));
//# sourceMappingURL=MCPConnectWorkflowsModal-legacy-d1h20g9J.js.map