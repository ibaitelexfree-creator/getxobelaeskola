!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./roles.store-legacy-DOWLLO4H.js"],(function(e,t){var s,o,l,a,i,n,c,r,d,u,p,y,m,b,g,f,R,_,j,x,T,h,w,k,v,C,E,N,P,S,z,I,B,D,L,O,U,A,J,M;return{setters:[function(e){s=e.o},function(e){o=e.Cn,l=e.D,a=e.E,i=e.Gt,n=e.It,c=e.M,r=e.P,d=e.T,u=e.Z,p=e._,y=e.bt,m=e.c,b=e.et,g=e.j,f=e.vn,R=e.w},function(e){_=e.yt},function(e){j=e.Hi,x=e.N,T=e.Pi,h=e.Tt,w=e.Ui,k=e.Vi,v=e.p,C=e.wi,E=e.zi},function(e){N=e.t},function(e){},function(e){P=e.Lt,S=e.Tr,z=e.fn,I=e.ws,B=e.yr},function(e){e.Ss,D=e.rs},function(e){},function(e){},function(e){L=e.t},function(e){},function(e){},function(e){O=e.t},function(e){U=e.t}],execute:function(){(A=document.createElement("style")).textContent="._headerContainer_1yma8_2{justify-content:space-between;align-items:center;display:flex}._headerTitle_1yma8_8{align-items:center;gap:8px;display:flex}._clickableRow_1yma8_14{cursor:pointer}._tallRow_1yma8_18{height:64px}\n/*$vite$:1*/",document.head.appendChild(A);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(V=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[V]="b10fb90c-0905-47c4-a994-953923fca92b",t._sentryDebugIdIdentifier="sentry-dbid-b10fb90c-0905-47c4-a994-953923fca92b")}catch(t){}var t,V;J=s(L(),1),M={class:"pb-xl"},e("default",N(r({__name:"ProjectRolesView",setup(e){const{showError:t,showMessage:s}=B(),r=U(),N=C(),L=S(),A=_(),V=m(),H=I(),{goToUpgrade:W}=O(),$=P();u((()=>{z().set(A.baseText("settings.projectRoles"))}));const F=n([{title:A.baseText("projectRoles.sourceControl.table.name"),key:"displayName",width:400,disableSort:!0,resize:!1},{title:A.baseText("projectRoles.sourceControl.table.type"),key:"systemRole",disableSort:!0,resize:!1},{title:A.baseText("projectRoles.sourceControl.table.assignedTo"),key:"usedByUsers",disableSort:!0,align:"end",value:e=>e.usedByUsers??0,width:75,resize:!1},{title:A.baseText("projectRoles.sourceControl.table.lastEdited"),key:"updatedAt",value:e=>e.updatedAt&&!e.systemRole?(0,J.default)(e.updatedAt,"d mmm, yyyy"):"â€”",disableSort:!0,resize:!1},{title:"",key:"actions",value:()=>"",width:50,minWidth:50,disableSort:!0,align:"center",resize:!1}]),G={duplicate:async function(e){try{const t=A.baseText("projectRoles.action.duplicate.name",{interpolate:{roleName:e.displayName}}),o=await r.createProjectRole({displayName:t,description:e.description??void 0,roleType:"project",scopes:e.scopes});return r.roles.project.push(o),r.fetchRoles(),$.track("User duplicated role",{role_id:e.slug,role_name:e.displayName,permissions:e.scopes}),s({type:"success",message:A.baseText("projectRoles.action.duplicate.success",{interpolate:{roleName:e.displayName,roleDuplicateName:t}})}),o}catch(o){return void t(o,A.baseText("projectRoles.action.duplicate.error"))}},delete:async function(e){if(A.baseText("projectRoles.action.delete.text",{interpolate:{roleName:e.displayName}}),"confirm"===await L.confirm(A.baseText("projectRoles.action.delete.text",{interpolate:{roleName:e.displayName}}),A.baseText("projectRoles.action.delete.title",{interpolate:{roleName:e.displayName}}),{type:"warning",confirmButtonText:A.baseText("projectRoles.action.delete"),cancelButtonText:A.baseText("projectRoles.action.cancel")}))try{await r.deleteProjectRole(e.slug);const t=r.roles.project.findIndex((t=>t.slug===e.slug));-1!==t&&r.roles.project.splice(t,1),s({title:A.baseText("projectRoles.action.delete.success"),type:"success"})}catch(o){return void t(o,A.baseText("projectRoles.action.delete.error"))}}};function Y(e){return{class:[V.tallRow,V.clickableRow]}}function Z(e){return[{label:A.baseText("projectRoles.action.duplicate"),value:"duplicate"},{label:A.baseText("projectRoles.action.delete"),value:"delete",disabled:0!==e.usedByUsers}]}function q(){$.track("User clicked add role"),N.push({name:D.PROJECT_NEW_ROLE})}return(e,t)=>(b(),l("div",M,[R("div",{class:f(["mb-xl",i(V).headerContainer])},[R("div",{class:f(i(V).headerTitle)},[c(i(E),{tag:"h1",size:"2xlarge"},{default:y((()=>[g(o(i(A).baseText("settings.projectRoles")),1)])),_:1}),c(i(x),{clickable:!1,text:"Beta"})],2),i(H).isCustomRolesFeatureEnabled?(b(),d(i(j),{key:0,variant:"subtle",onClick:q},{default:y((()=>[g(o(i(A).baseText("projectRoles.addRole")),1)])),_:1})):a("",!0)],2),i(H).isCustomRolesFeatureEnabled?(b(),d(i(v),{key:1,items:i(r).processedProjectRoles,headers:F.value,"items-length":i(r).processedProjectRoles.length,"items-per-page":i(r).processedProjectRoles.length,"page-sizes":[i(r).processedProjectRoles.length],"row-props":Y,"onClick:row":t[1]||(t[1]=(e,{item:t})=>function(e){N.push({name:e.systemRole?D.PROJECT_ROLE_VIEW:D.PROJECT_ROLE_SETTINGS,params:{roleSlug:e.slug}})}(t))},{"item.displayName":y((({item:e})=>[c(i(k),{tag:"div",class:"mb-4xs"},{default:y((()=>[g(o(e.displayName),1)])),_:2},1024),c(i(k),{tag:"div",size:"small",color:"text-light"},{default:y((()=>[g(o(e.description),1)])),_:2},1024)])),"item.systemRole":y((({item:e})=>[e.systemRole?(b(),l(p,{key:0},[c(i(w),{icon:"lock"}),g(" "+o(i(A).baseText("projectRoles.literal.system")),1)],64)):(b(),l(p,{key:1},[c(i(w),{icon:"user-pen"}),g(" "+o(i(A).baseText("projectRoles.literal.custom")),1)],64))])),"item.actions":y((({item:e})=>[e.systemRole?a("",!0):(b(),d(i(h),{key:0,actions:Z(e),onAction:t=>function(e,t){G[e](t)}(t,e)},null,8,["actions","onAction"]))])),_:2},1032,["items","headers","items-length","items-per-page","page-sizes"])):(b(),d(i(T),{key:0,class:"mt-2xl mb-l","button-text":i(A).baseText("settings.externalSecrets.actionBox.buttonText"),description:"yes",onClick:t[0]||(t[0]=e=>i(W)("custom-roles","upgrade-custom-roles"))},{heading:y((()=>[R("span",null,o(i(A).baseText("projectRoles.manageRoles.paywall.title")),1)])),description:y((()=>[g(o(i(A).baseText("projectRoles.manageRoles.paywall.text")),1)])),_:1},8,["button-text"]))]))}}),[["__cssModules",{$style:{headerContainer:"_headerContainer_1yma8_2",headerTitle:"_headerTitle_1yma8_8",clickableRow:"_clickableRow_1yma8_14",tallRow:"_tallRow_1yma8_18"}}]]))}}}));
//# sourceMappingURL=ProjectRolesView-legacy-BRGouk6I.js.map