!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./sortByProperty-legacy-BPd5tPZW.js"],(function(e,t){var r,a,n,i,o,s,c,l,d,p,u,m,j,f,y,b;return{setters:[function(e){r=e.C,a=e.It},function(e){n=e.yt},function(e){i=e.Wi,o=e.wi},function(e){s=e.Gt,c=e.lr,l=e.wr,d=e.ws,p=e.yr},function(e){u=e.qo,m=e.rs},function(e){j=e.t},function(e){f=e.t}],execute:function(){try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(P=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[P]="cc45e4f4-dc6a-4119-805c-85081e014b5a",t._sentryDebugIdIdentifier="sentry-dbid-cc45e4f4-dc6a-4119-805c-85081e014b5a")}catch(t){}var t,P;y=e=>"string"==typeof e&&Object.keys(i).includes(e),b=e=>y(e)||"object"==typeof e&&null!==e&&"value"in e&&"string"==typeof e.value&&"type"in e&&("emoji"===e.type||"icon"===e.type&&y(e.value)),e("t",(()=>{const e="create-project",t="workflow",i="credential",y="layers",P=d(),g=c(),T=s(),w=l(),h=o(),C=n(),E=p(),R=a(!1),I=r((()=>f("name",T.myProjects.filter((e=>"team"===e.type))))),O=(e=[])=>w.preferences.branchReadOnly||!u(e).workflow.create,N=(e=[])=>w.preferences.branchReadOnly||!u(e).credential.create,S=r((()=>T.isTeamProjectFeatureEnabled?[{id:t,title:"Workflow",disabled:w.preferences.branchReadOnly,...!w.preferences.branchReadOnly&&{submenu:[{id:"workflow-title",title:"Create in",disabled:!0},{id:"workflow-personal",title:C.baseText("projects.menu.personal"),icon:"user",disabled:O(T.personalProject?.scopes),route:{name:m.NEW_WORKFLOW,query:{projectId:T.personalProject?.id}}},...I.value.map((e=>({id:`workflow-${e.id}`,title:e.name,icon:b(e.icon)?e.icon:y,disabled:O(e.scopes),route:{name:m.NEW_WORKFLOW,query:{projectId:e.id}}})))]}},{id:i,title:"Credential",disabled:w.preferences.branchReadOnly,...!w.preferences.branchReadOnly&&{submenu:[{id:"credential-title",title:"Create in",disabled:!0},{id:"credential-personal",title:C.baseText("projects.menu.personal"),icon:"user",disabled:N(T.personalProject?.scopes),route:{name:m.PROJECTS_CREDENTIALS,params:{projectId:T.personalProject?.id,credentialId:"create"}}},...I.value.map((e=>({id:`credential-${e.id}`,title:e.name,icon:b(e.icon)?e.icon:y,disabled:N(e.scopes),route:{name:m.PROJECTS_CREDENTIALS,params:{projectId:e.id,credentialId:"create"}}})))]}},{id:e,title:"Project",disabled:!T.canCreateProjects||!T.hasPermissionToCreateProjects}]:[{id:"workflow",title:"Workflow",route:{name:m.NEW_WORKFLOW,query:{projectId:T.personalProject?.id}}},{id:"credential",title:"Credential",route:{name:m.CREDENTIALS,params:{projectId:T.personalProject?.id,credentialId:"create"}}},{id:e,title:"Project",disabled:!0}])),v=async e=>{R.value=!0;try{const t=await T.createProject({name:C.baseText("projects.settings.newProjectName"),icon:{type:"icon",value:y},uiContext:e});await h.push({name:m.PROJECT_SETTINGS,params:{projectId:t.id}}),E.showMessage({title:C.baseText("projects.settings.save.successful.title",{interpolate:{projectName:t.name}}),type:"success"})}catch(t){E.showError(t,C.baseText("projects.error.title"))}finally{R.value=!1}},x=r((()=>P.isCloudDeployment?C.baseText("projects.create.limitReached.cloud",{interpolate:{planName:g.currentPlanData?.displayName??"",limit:T.teamProjectsLimit}}):T.isTeamProjectFeatureEnabled?T.hasPermissionToCreateProjects?C.baseText("projects.create.limitReached",{interpolate:{limit:T.teamProjectsLimit}}):C.baseText("projects.create.permissionDenied"):C.baseText("projects.create.limitReached.self")));return{menu:S,handleSelect:t=>{t===e&&(T.canCreateProjects&&T.hasPermissionToCreateProjects?v("universal_button"):j().goToUpgrade("rbac","upgrade-rbac"))},createProjectAppendSlotName:r((()=>`item.append.${e}`)),createWorkflowsAppendSlotName:r((()=>`item.append.${t}`)),createCredentialsAppendSlotName:r((()=>`item.append.${i}`)),projectsLimitReachedMessage:x,hasPermissionToCreateProjects:T.hasPermissionToCreateProjects,upgradeLabel:r((()=>P.isCloudDeployment||T.isTeamProjectFeatureEnabled?C.baseText("generic.upgrade"):C.baseText("generic.enterprise"))),createProject:v,isCreatingProject:R,displayProjects:I}}))}}}));
//# sourceMappingURL=useGlobalEntityCreation-legacy-zUUPbY_v.js.map