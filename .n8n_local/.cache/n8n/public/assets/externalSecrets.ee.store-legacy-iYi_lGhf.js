!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./_baseOrderBy-legacy-BnyL5wLN.js","./useEnvFeatureFlag-legacy-D1JgdFvC.js"],(function(e,t){var n,r,s,c,i,a,o,d,u,l,f,p,y,v,S,b,g;function E(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return Array.isArray(r)?(t[n]=r.reduce(((e,t)=>{const n=t.split(".");if(1===n.length)return e[t]="*********",e;const r=e[n[0]]??{};let s=r;for(let c=1;c<n.length;c++){const e=n[c];c!==n.length-1?(Object.keys(s)&&!s[e]&&(s[e]={}),s=s[e]):s[e]="*********"}return e[n[0]]=r,e}),{}),t):t}),{})}return{setters:[function(e){n=e.C,r=e.Pt},function(e){s=e._c,c=e._r,i=e.dc,a=e.fc,o=e.gc,d=e.hc,u=e.mc,l=e.pc,f=e.vc,p=e.ws,y=e.yc},function(e){v=e.Yc},function(e){S=e.j,b=e.r},function(e){g=e.t}],execute:function(){try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(w=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[w]="e92ed837-7176-4bf6-9af6-083a6e59cb49",t._sentryDebugIdIdentifier="sentry-dbid-e92ed837-7176-4bf6-9af6-083a6e59cb49")}catch(t){}var t,w;e("t",S("externalSecrets",(()=>{const e=b(),t=p(),S=c(),{check:w}=g(),C=r({providers:[],secrets:{},projectSecrets:{},connectionState:{}}),h=n((()=>t.isEnterpriseFeatureEnabled[v.ExternalSecrets])),A=n((()=>C.secrets)),j=n((()=>C.projectSecrets)),x=n((()=>C.providers)),_=n((()=>C.connectionState)),R=n((()=>E(j.value))),T=n((()=>E(A.value))),O=n((()=>w.value("EXTERNAL_SECRETS_FOR_PROJECTS")?{...T.value,...R.value}:T.value));async function P(){if(S.hasScope("externalSecret:list"))try{C.secrets=w.value("EXTERNAL_SECRETS_FOR_PROJECTS")?await d(e.restApiContext):await a(e.restApiContext)}catch{C.secrets={}}}function I(e,t){const n=C.providers.findIndex((t=>t.name===e));C.providers=[...C.providers.slice(0,n),{...C.providers[n],...t,data:{...C.providers[n].data,...t.data}},...C.providers.slice(n+1)]}return{state:C,providers:x,secrets:A,connectionState:_,secretsAsObject:O,globalSecretsAsObject:T,projectSecretsAsObject:R,isEnterpriseExternalSecretsEnabled:h,fetchGlobalSecrets:P,fetchProjectSecrets:async function(t){if(w.value("EXTERNAL_SECRETS_FOR_PROJECTS")&&S.hasScope("externalSecret:list"))try{C.projectSecrets=await o(e.restApiContext,t)}catch(n){C.projectSecrets={}}},getProvider:async function(t){const n=await l(e.restApiContext,t),r=C.providers.findIndex((e=>e.name===t));return-1!==r?C.providers.splice(r,1,n):C.providers.push(n),n},getProviders:async function(){C.providers=await u(e.restApiContext)},testProviderConnection:async function(t,n){return await f(e.restApiContext,t,n)},updateProvider:async function(t,{data:n}){await y(e.restApiContext,t,n),await P(),I(t,{data:n})},updateStoredProvider:I,updateProviderConnected:async function(t,n){await i(e.restApiContext,t,n),await P(),I(t,{connected:n,state:n?"connected":"initializing"})},reloadProvider:async function(t){const{updated:n}=await s(e.restApiContext,t);return n&&await P(),n},setConnectionState:function(e,t){C.connectionState[e]=t}}})))}}}));
//# sourceMappingURL=externalSecrets.ee.store-legacy-iYi_lGhf.js.map