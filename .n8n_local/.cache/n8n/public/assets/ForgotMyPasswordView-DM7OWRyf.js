(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`85e4e07b-7923-41f1-b18e-c6f927979e6c`,e._sentryDebugIdIdentifier=`sentry-dbid-85e4e07b-7923-41f1-b18e-c6f927979e6c`)})()}catch{}import{C as e,It as t,P as n,T as r,et as i}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as a}from"./_MapCache-DjbOQyB7.js";import"./src-CppJvwzX.js";import"./sanitize-html-K63Olwt_.js";import{t as o,ws as s,yr as c}from"./users.store-pCkD7Zo0.js";import"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import"./_baseOrderBy-El3qbNHQ.js";import"./dateformat-BhE5sUDK.js";import"./useDebounce-D6lADr4O.js";import"./sso.store-Dd63iqNy.js";import{t as l}from"./AuthView-O45Jsyy-.js";var u=n({__name:`ForgotMyPasswordView`,setup(n){let u=s(),d=o(),f=c(),p=a(),m=t(!1),h=e(()=>{let e=[{name:`email`,properties:{label:p.baseText(`auth.email`),type:`email`,required:!0,validationRules:[{name:`VALID_EMAIL`}],autocomplete:`email`,capitalize:!0,focusInitially:!0}}],t=[{name:`no-smtp-warning`,properties:{label:p.baseText(`forgotPassword.noSMTPToSendEmailWarning`),type:`info`}}],n={title:p.baseText(`forgotPassword.recoverPassword`),redirectText:p.baseText(`forgotPassword.returnToSignIn`),redirectLink:`/signin`};return u.isSmtpSetup?{...n,buttonText:p.baseText(`forgotPassword.getRecoveryLink`),inputs:e}:{...n,inputs:t}}),g=e=>`email`in e,_=async e=>{if(g(e)){try{m.value=!0,await d.sendForgotPasswordEmail(e),f.showMessage({type:`success`,title:p.baseText(`forgotPassword.recoveryEmailSent`),message:p.baseText(`forgotPassword.emailSentIfExists`,{interpolate:{email:e.email}})})}catch(e){let t=p.baseText(`forgotPassword.smtpErrorContactAdministrator`);if(e.httpStatusCode){let{httpStatusCode:n}=e;n===429?t=p.baseText(`forgotPassword.tooManyRequests`):e.httpStatusCode===422&&(t=p.baseText(e.message)),f.showMessage({type:`error`,title:p.baseText(`forgotPassword.sendingEmailError`),message:t})}}m.value=!1}};return(e,t)=>(i(),r(l,{form:h.value,"form-loading":m.value,onSubmit:_},null,8,[`form`,`form-loading`]))}});export{u as default};
//# sourceMappingURL=ForgotMyPasswordView-DM7OWRyf.js.map