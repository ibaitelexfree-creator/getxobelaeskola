(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`57e785f0-9b54-4e8e-958b-22be0fc4393f`,e._sentryDebugIdIdentifier=`sentry-dbid-57e785f0-9b54-4e8e-958b-22be0fc4393f`)})()}catch{}import{C as e,Cn as t,Gt as n,It as r,M as i,P as a,T as o,Z as s,_t as c,bt as l,et as u,h as d,j as f,vn as p,w as m}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as h}from"./_MapCache-DjbOQyB7.js";import{$ as g,Ci as _,Oi as v,gi as y,wi as b}from"./src-CppJvwzX.js";import{t as x}from"./_plugin-vue_export-helper-B_J4Khre.js";import{Er as S,pn as C,r as w,s as T,ws as E}from"./users.store-pCkD7Zo0.js";import{Ha as D,Vs as O}from"./constants-D1jZwsUK.js";var k={class:`mt-2xs`},A=x(a({__name:`WorkflowExecutionsInfoAccordion`,props:{initiallyExpanded:{type:Boolean,default:!1}},setup(a){let x=a,A=h(),j=b(),M=_(),N=C({router:j}),P=h(),F=E(),I=w(),L=T(),R=S(),z=r({saveFailedExecutions:`all`,saveSuccessfulExecutions:`all`,saveManualExecutions:!1}),B=r({saveFailedExecutions:!1,saveSuccessfulExecutions:!1,saveTestExecutions:!1}),V=e(()=>[{id:`productionExecutions`,label:P.baseText(`executionsLandingPage.emptyState.accordion.productionExecutions`),icon:U.value.icon,iconColor:U.value.color,tooltip:W.value===`unknown`?P.baseText(`executionsLandingPage.emptyState.accordion.productionExecutionsWarningTooltip`):null},{id:`manualExecutions`,label:P.baseText(`executionsLandingPage.emptyState.accordion.testExecutions`),icon:B.value.saveTestExecutions?`check`:`x`,iconColor:B.value.saveTestExecutions?`success`:`danger`}]),H=e(()=>x.initiallyExpanded?!B.value.saveFailedExecutions||!B.value.saveSuccessfulExecutions||!B.value.saveTestExecutions:!1),U=e(()=>W.value===`saving`?{icon:`check`,color:`success`}:W.value===`not-saving`?{icon:`x`,color:`danger`}:{icon:`triangle-alert`,color:`warning`}),W=e(()=>B.value.saveSuccessfulExecutions===B.value.saveFailedExecutions?B.value.saveSuccessfulExecutions?`saving`:`not-saving`:`unknown`),G=e(()=>D(L.workflowSettings)),K=e(()=>{if(!B.value.saveTestExecutions||W.value!==`saving`)return{icon:`triangle-alert`,color:`warning`}}),q=e(()=>L.workflowId);c(G,e=>{J(e)}),s(()=>{z.value.saveFailedExecutions=F.saveDataErrorExecution,z.value.saveSuccessfulExecutions=F.saveDataSuccessExecution,z.value.saveManualExecutions=F.saveManualExecutions,J(G.value)});function J(e){B.value.saveFailedExecutions=e.saveDataErrorExecution===void 0?z.value.saveFailedExecutions===`all`:e.saveDataErrorExecution===`all`,B.value.saveSuccessfulExecutions=e.saveDataSuccessExecution===void 0?z.value.saveSuccessfulExecutions===`all`:e.saveDataSuccessExecution===`all`,B.value.saveTestExecutions=e.saveManualExecutions===void 0?z.value.saveManualExecutions:e.saveManualExecutions}function Y(e){e.target instanceof HTMLAnchorElement&&(e.preventDefault(),I.openModal(O))}function X(e,t){e===`productionExecutions`&&t.target instanceof HTMLAnchorElement&&(t.preventDefault(),I.openModal(O))}function Z(){I.openModal(O)}async function Q(){let e;if(q.value)e=q.value;else if(M.params.name){let t=M.params.name;e=Array.isArray(t)?t[0]:t}e&&await N.saveCurrentWorkflow({id:e})&&await R.showNpsSurveyIfPossible()}return(e,r)=>(u(),o(n(g),{class:p([e.$style.accordion,`mt-2xl`]),title:n(A).baseText(`executionsLandingPage.emptyState.accordion.title`),items:V.value,"initially-expanded":H.value,"header-icon":K.value,"onClick:body":Y,onTooltipClick:X},{customContent:l(()=>[m(`footer`,k,[f(t(n(A).baseText(`executionsLandingPage.emptyState.accordion.footer`))+` `,1),i(n(v),{disabled:n(L).isWorkflowSaved[q.value]},{content:l(()=>[m(`div`,null,[i(n(y),{onClick:d(Q,[`prevent`])},{default:l(()=>[f(t(n(A).baseText(`executionsLandingPage.emptyState.accordion.footer.tooltipLink`)),1)]),_:1}),f(` `+t(n(A).baseText(`executionsLandingPage.emptyState.accordion.footer.tooltipText`)),1)])]),default:l(()=>[i(n(y),{class:p({[e.$style.disabled]:!n(L).isWorkflowSaved[q.value]}),size:`small`,onClick:d(Z,[`prevent`])},{default:l(()=>[f(t(n(A).baseText(`executionsLandingPage.emptyState.accordion.footer.settingsLink`)),1)]),_:1},8,[`class`])]),_:1},8,[`disabled`])])]),_:1},8,[`class`,`title`,`items`,`initially-expanded`,`header-icon`]))}}),[[`__cssModules`,{$style:{accordion:`_accordion_clgee_125`,disabled:`_disabled_clgee_153`}}]]);export{A as t};
//# sourceMappingURL=WorkflowExecutionsInfoAccordion-BAON_vu5.js.map