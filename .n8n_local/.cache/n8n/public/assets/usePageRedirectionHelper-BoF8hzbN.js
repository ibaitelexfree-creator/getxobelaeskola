(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`184fc10f-ae60-4bb5-b629-d62204b4b03d`,e._sentryDebugIdIdentifier=`sentry-dbid-184fc10f-ae60-4bb5-b629-d62204b4b03d`)})()}catch{}import{yt as e}from"./_MapCache-DjbOQyB7.js";import{Lt as t,Tr as n,lr as r,t as i,un as a,ws as o}from"./users.store-pCkD7Zo0.js";import{Ss as s,b as c}from"./constants-D1jZwsUK.js";import{t as l}from"./versions.store-1_eor2Ku.js";async function u(){let t=a();if(!t.streaming)return!0;let{confirm:r}=n(),i=e();return await r(i.baseText(`aiAssistant.builder.upgradeWhileStreaming.message`),{title:i.baseText(`aiAssistant.builder.upgradeWhileStreaming.title`),type:`warning`,confirmButtonText:i.baseText(`aiAssistant.builder.upgradeWhileStreaming.confirmButtonText`),cancelButtonText:i.baseText(`aiAssistant.builder.upgradeWhileStreaming.cancelButtonText`),showClose:!0})===`confirm`?(t.abortStreaming(),!0):!1}function d(){let e=i(),n=r(),a=l(),s=t(),d=o(),f=async()=>{let t=a.infoUrl;e.isInstanceOwner&&d.isCloudDeployment&&(t=await n.generateCloudDashboardAutoLoginLink({redirectionPath:`/manage`})),location.href=t},p=async()=>{if(e.isInstanceOwner&&d.isCloudDeployment){let e=await n.generateCloudDashboardAutoLoginLink({redirectionPath:`/dashboard`});location.href=e}},m=async(e,t,r=`open`)=>{if(!await u())return;let{usageLeft:i,trialDaysLeft:a,userIsTrialing:o}=n,{executionsLeft:c,workflowsLeft:l}=i,f=d.deploymentType;s.track(`User clicked upgrade CTA`,{source:e,isTrial:o,deploymentType:f,trialDaysLeft:a,executionsLeft:c,workflowsLeft:l});let p=await h(e,t);r===`open`?window.open(p,`_blank`):location.href=p},h=async(t,r)=>{let i=c;e.isInstanceOwner&&d.isCloudDeployment&&(i=await n.generateCloudDashboardAutoLoginLink({redirectionPath:`/account/change-plan`}));let a=new URL(i);return r&&a.searchParams.set(`utm_campaign`,r),t&&a.searchParams.set(`source`,t),a.toString()};return{goToDashboard:p,goToVersions:f,goToUpgrade:m}}export{d as t};
//# sourceMappingURL=usePageRedirectionHelper-BoF8hzbN.js.map