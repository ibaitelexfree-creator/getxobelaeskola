!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./usage.store-legacy-COjB70KG.js"],(function(e,t){var s,a,i,l,o,n,r,u,c,d,p,v,_,y,f,m,g,b,x,w,h,k,z,T,E,j,C,W,$,I,N,B,R,S,D,L,P,M,O,H,V,q,A,F,U,Y,K,G;return{setters:[function(e){s=e.C,a=e.Cn,i=e.D,l=e.E,o=e.Gt,n=e.It,r=e.M,u=e.P,c=e.T,d=e._,p=e._t,v=e.at,_=e.bt,y=e.et,f=e.j,m=e.ot,g=e.vn,b=e.w},function(e){x=e.bt,w=e.x,h=e.yt},function(e){k=e.At,z=e.Bi,T=e.Hi,E=e.Pi,j=e.Ui,C=e.Vi,W=e.gi,$=e.wi},function(e){I=e.t},function(e){},function(e){N=e.Lt,B=e.T,R=e.qa,S=e.r,D=e.s,L=e.wr,P=e.yr},function(e){M=e._,O=e.rs},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){H=e.t},function(e){V=e.t}],execute:function(){(q=document.createElement("style")).textContent="._stepIndicator_1oszv_125{border:1px solid var(--color--text--tint-1);min-width:28px;height:28px;color:var(--color--text--tint-1);font-weight:var(--font-weight--bold);font-size:var(--font-size--2xs);border-radius:50%;flex-shrink:0;justify-content:center;align-items:center;transition:all .2s;display:flex}._stepIndicator_1oszv_125._active_1oszv_139{border-color:var(--color--primary);color:var(--color--text--shade-1)}._stepIndicator_1oszv_125._completed_1oszv_143{background-color:var(--color--success);border-color:var(--color--success);color:var(--color--neutral-white)}._stepIndicator_1oszv_125._inactive_1oszv_148{color:var(--color--text--tint-1);border-color:var(--color--text);opacity:.7}._stepHeader_xciv4_125{align-items:center;gap:var(--spacing--xs);cursor:pointer;display:flex;position:relative}._container_1j428_125{background-color:var(--color--background--light-2)}._steps_1j428_129{gap:var(--spacing--md);flex-direction:column;display:flex}._step_1j428_129{overflow:hidden}._stepContent_1j428_139{padding:0 0 0 calc(var(--spacing--xs) + 28px);animation:.2s _slideDown_1j428_1}._bulletPoints_1j428_144{padding-left:var(--spacing--sm)}._bulletPoints_1j428_144 li{margin-bottom:var(--spacing--3xs)}._actionButton_1j428_151{margin-top:var(--spacing--sm);gap:var(--spacing--sm);display:flex}._actionButton_1j428_151 button{font-weight:var(--font-weight--bold)}._actionButtonInline_1j428_160{margin:0}._quotaNote_1j428_164{margin-top:var(--spacing--2xs)}@keyframes _slideDown_1j428_1{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}._evaluationsView_1ydf9_125{justify-content:center;width:100%;height:100%;display:flex}._setupContent_1ydf9_132{gap:var(--spacing--lg);max-width:1024px;margin-top:var(--spacing--2xl);flex-direction:column;padding:0;display:flex}._description_1ydf9_141{max-width:600px;margin-bottom:20px}._config_1ydf9_146{gap:var(--spacing--lg);flex-direction:row;display:flex}._setupDescription_1ydf9_152,._setupDescription_1ydf9_152 ul li{margin-top:var(--spacing--2xs)}\n/*$vite$:1*/",document.head.appendChild(q);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(J=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[J]="7e06255e-6651-402c-8abf-a1668c49d4c0",t._sentryDebugIdIdentifier="sentry-dbid-7e06255e-6651-402c-8abf-a1668c49d4c0")}catch(t){}var t,J;A=u({__name:"EvaluationsPaywall",setup(e){const t=h(),s=S(),a=async()=>{s.openModalWithData({name:R,data:{customHeading:void 0}})};return(e,s)=>(y(),c(o(E),{"data-test-id":"evaluations-unlicensed",heading:o(t).baseText("evaluations.paywall.title"),description:o(t).baseText("evaluations.paywall.description"),"button-text":o(t).baseText("evaluations.paywall.cta"),onClick:a},null,8,["heading","description","button-text"]))}}),F=u({__name:"StepIndicator",props:{stepNumber:{},isCompleted:{type:Boolean},isActive:{type:Boolean}},setup:e=>(t,s)=>(y(),i("div",{class:g([t.$style.stepIndicator,e.isCompleted&&t.$style.completed,e.isActive&&t.$style.active,!e.isActive&&!e.isCompleted&&t.$style.inactive])},[e.isCompleted?(y(),c(o(j),{key:0,icon:"check",size:"xsmall"})):(y(),i(d,{key:1},[f(a(e.stepNumber),1)],64))],2))}),U=I(F,[["__cssModules",{$style:{stepIndicator:"_stepIndicator_1oszv_125",active:"_active_1oszv_139",completed:"_completed_1oszv_143",inactive:"_inactive_1oszv_148"}}]]),Y=u({__name:"StepHeader",props:{stepNumber:{},title:{},isCompleted:{type:Boolean},isActive:{type:Boolean},isOptional:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const s=t,n=h(),u=e=>{e.target.closest("button")||e.target.closest("a")||e.target.closest("input")||e.target.closest("select")||s("click")};return(t,s)=>(y(),i("div",{class:g(t.$style.stepHeader),onClick:u},[r(U,{"step-number":e.stepNumber,"is-completed":e.isCompleted,"is-active":e.isActive},null,8,["step-number","is-completed","is-active"]),b("div",{class:g(t.$style.titleSlot)},[v(t.$slots,"default",{},(()=>[r(o(C),{size:"medium",color:e.isActive||e.isCompleted?"text-dark":"text-light",tag:"span",bold:""},{default:_((()=>[f(a(e.title),1)])),_:1},8,["color"])]))],2),e.isOptional?(y(),c(o(k),{key:0,style:{"background-color":"var(--color--background)",border:"none"}},{default:_((()=>[f(a(o(n).baseText("evaluations.setupWizard.stepHeader.optional")),1)])),_:1})):l("",!0)],2))}}),K=I(Y,[["__cssModules",{$style:{stepHeader:"_stepHeader_xciv4_125"}}]]),G=I(u({__name:"SetupWizard",emits:["runTest"],setup(e){const t=$(),u=h(),d=D(),p=B(),v=V(),m=H(),w=s((()=>p.testRunsByWorkflowId[d.workflow.id]?.length>0)),k=s((()=>-1===v.workflowsWithEvaluationsLimit||v.workflowsWithEvaluationsCount<v.workflowsWithEvaluationsLimit)),E=s((()=>-1!==v.workflowsWithEvaluationsLimit&&v.workflowsWithEvaluationsCount>=v.workflowsWithEvaluationsLimit&&!w.value)),j=n(0);E.value?j.value=2:p.evaluationTriggerExists&&p.evaluationSetMetricsNodeExist?j.value=3:p.evaluationTriggerExists&&p.evaluationSetOutputsNodeExist?j.value=2:p.evaluationTriggerExists?j.value=1:j.value=0;const W=e=>{j.value=e};function I(e){const s=d.workflow.id||"new";t.push({name:O.WORKFLOW,params:{name:s},query:e?{action:e}:void 0})}function N(){m.goToUpgrade("evaluations","upgrade-evaluations")}return(e,t)=>(y(),i("div",{class:g(e.$style.container),"data-test-id":"evaluation-setup-wizard"},[b("div",{class:g(e.$style.steps)},[b("div",{class:g([e.$style.step,e.$style.completed])},[r(K,{"step-number":1,title:o(u).baseText("evaluations.setupWizard.step1.title"),"is-completed":o(p).evaluationTriggerExists,"is-active":0===j.value,onClick:t[0]||(t[0]=e=>W(0))},null,8,["title","is-completed","is-active"]),0===j.value?(y(),i("div",{key:0,class:g(e.$style.stepContent)},[b("ul",{class:g(e.$style.bulletPoints)},[b("li",null,[r(o(C),{size:"small",color:"text-base"},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step1.item1")),1)])),_:1})]),b("li",null,[r(o(C),{size:"small",color:"text-base"},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step1.item2")),1)])),_:1})])],2),b("div",{class:g(e.$style.actionButton)},[r(o(T),{variant:"subtle",size:"small",onClick:t[1]||(t[1]=e=>I("addEvaluationTrigger"))},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step1.button")),1)])),_:1})],2)],2)):l("",!0)],2),b("div",{class:g([e.$style.step,1===j.value?e.$style.active:""])},[r(K,{"step-number":2,title:o(u).baseText("evaluations.setupWizard.step2.title"),"is-completed":o(p).evaluationSetOutputsNodeExist,"is-active":1===j.value,onClick:t[2]||(t[2]=e=>W(1))},null,8,["title","is-completed","is-active"]),1===j.value?(y(),i("div",{key:0,class:g(e.$style.stepContent)},[b("ul",{class:g(e.$style.bulletPoints)},[b("li",null,[r(o(C),{size:"small",color:"text-base"},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step2.item1")),1)])),_:1})])],2),b("div",{class:g(e.$style.actionButton)},[r(o(T),{variant:"subtle",size:"small",onClick:t[3]||(t[3]=e=>I("addEvaluationNode"))},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step2.button")),1)])),_:1})],2)],2)):l("",!0)],2),b("div",{class:g(e.$style.step)},[r(K,{"step-number":3,title:o(u).baseText("evaluations.setupWizard.step3.title"),"is-completed":o(p).evaluationSetMetricsNodeExist,"is-active":2===j.value,"is-optional":!0,onClick:t[4]||(t[4]=e=>W(2))},null,8,["title","is-completed","is-active"]),2===j.value?(y(),i("div",{key:0,class:g(e.$style.stepContent)},[E.value?(y(),c(o(z),{key:1,theme:"warning",iconless:""},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.limitReached")),1)])),_:1})):(y(),i("ul",{key:0,class:g(e.$style.bulletPoints)},[b("li",null,[r(o(C),{size:"small",color:"text-base"},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step3.item1")),1)])),_:1})]),b("li",null,[r(o(C),{size:"small",color:"text-base"},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step3.item2")),1)])),_:1})])],2)),b("div",{class:g(e.$style.actionButton)},[E.value?(y(),c(o(T),{key:1,size:"small",onClick:N},{default:_((()=>[f(a(o(u).baseText("generic.seePlans")),1)])),_:1})):(y(),c(o(T),{key:0,variant:"subtle",size:"small",onClick:t[5]||(t[5]=e=>I("addEvaluationNode"))},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step3.button")),1)])),_:1})),r(o(T),{variant:"ghost",size:"small",style:{color:"var(--color--text--tint-1)"},onClick:t[6]||(t[6]=e=>W(3))},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step3.skip")),1)])),_:1})],2),-1!==o(v).workflowsWithEvaluationsLimit&&k.value?(y(),i("div",{key:2,class:g(e.$style.quotaNote)},[r(o(C),{size:"xsmall",color:"text-base"},{default:_((()=>[r(o(x),{keypath:"evaluations.setupWizard.step3.notice",scope:"global"},{link:_((()=>[b("a",{style:{"text-decoration":"underline",color:"inherit"},onClick:N},a(o(u).baseText("evaluations.setupWizard.step3.notice.link")),1)])),_:1})])),_:1})],2)):l("",!0)],2)):l("",!0)],2),b("div",{class:g(e.$style.step)},[r(K,{"step-number":4,title:o(u).baseText("evaluations.setupWizard.step4.title"),"is-completed":!1,"is-active":3===j.value,onClick:t[9]||(t[9]=e=>W(3))},{default:_((()=>[b("div",{class:g([e.$style.actionButton,e.$style.actionButtonInline])},[o(p).evaluationSetMetricsNodeExist&&!E.value?(y(),c(o(T),{key:0,variant:"subtle",size:"medium",disabled:!o(p).evaluationTriggerExists||!o(p).evaluationSetOutputsNodeExist&&!o(p).evaluationSetMetricsNodeExist,onClick:t[7]||(t[7]=t=>e.$emit("runTest"))},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step4.button")),1)])),_:1},8,["disabled"])):(y(),c(o(T),{key:1,variant:"subtle",size:"medium",disabled:!o(p).evaluationTriggerExists||!o(p).evaluationSetOutputsNodeExist&&!o(p).evaluationSetMetricsNodeExist,onClick:t[8]||(t[8]=e=>I("executeEvaluation"))},{default:_((()=>[f(a(o(u).baseText("evaluations.setupWizard.step4.altButton")),1)])),_:1},8,["disabled"]))],2)])),_:1},8,["title","is-active"])],2)],2)],2))}}),[["__cssModules",{$style:{container:"_container_1j428_125",steps:"_steps_1j428_129",step:"_step_1j428_129",stepContent:"_stepContent_1j428_139",slideDown:"_slideDown_1j428_1",bulletPoints:"_bulletPoints_1j428_144",actionButton:"_actionButton_1j428_151",actionButtonInline:"_actionButtonInline_1j428_160",quotaNote:"_quotaNote_1j428_164"}}]]),e("default",I(u({__name:"EvaluationsRootView",props:{name:{}},setup(e){const t=e,n=V(),u=B(),d=N(),v=P(),x=h(),k=L(),T=s((()=>0!==n.workflowsWithEvaluationsLimit)),E=s((()=>k.preferences.branchReadOnly)),j=s((()=>Object.values(u.testRunsById??{}).filter((({workflowId:e})=>e===t.name)))),$=s((()=>j.value.length>0)),I=s((()=>!$.value));async function R(){try{await u.startTestRun(t.name)}catch(e){return void v.showError(e,x.baseText("evaluation.listRuns.error.cantStartTestRun"))}try{await u.fetchTestRuns(t.name)}catch(e){v.showError(e,x.baseText("evaluation.listRuns.error.cantFetchTestRuns"))}}const S=s((()=>-1!==n.workflowsWithEvaluationsLimit&&n.workflowsWithEvaluationsCount>=n.workflowsWithEvaluationsLimit&&!$.value)),{isReady:D}=w((async()=>{try{await n.getLicenseInfo(),await u.fetchTestRuns(t.name)}catch(e){v.showError(e,x.baseText("evaluation.listRuns.error.cantFetchTestRuns"))}}),void 0);return p(D,(e=>{e&&(I.value?d.track("User viewed tests tab",{workflow_id:t.name,test_type:"evaluation",view:"setup",trigger_set_up:u.evaluationTriggerExists,output_set_up:u.evaluationSetOutputsNodeExist,metrics_set_up:u.evaluationSetMetricsNodeExist,quota_reached:S.value}):d.track("User viewed tests tab",{workflow_id:t.name,test_type:"evaluation",view:"overview",run_count:j.value.length}))}),{immediate:!0}),(e,t)=>{const s=m("RouterView");return y(),i("div",{class:g(e.$style.evaluationsView)},[o(D)&&I.value?(y(),i("div",{key:0,class:g(e.$style.setupContent)},[b("div",null,[r(o(C),{size:"large",color:"text-dark",tag:"h3",bold:""},{default:_((()=>[f(a(o(x).baseText("evaluations.setupWizard.title")),1)])),_:1}),r(o(C),{tag:"p",size:"small",color:"text-base",class:g(e.$style.description)},{default:_((()=>[f(a(o(x).baseText("evaluations.setupWizard.description"))+" ",1),r(o(W),{size:"small",href:o(M)},{default:_((()=>[f(a(o(x).baseText("evaluations.setupWizard.moreInfo")),1)])),_:1},8,["href"])])),_:1},8,["class"])]),E.value?(y(),c(o(z),{key:0,theme:"info",icon:"info"},{default:_((()=>[f(a(o(x).baseText("evaluations.readOnlyNotice")),1)])),_:1})):(y(),i("div",{key:1,class:g(e.$style.config)},[t[0]||(t[0]=b("iframe",{style:{"min-width":"500px"},width:"500",height:"280",src:"https://www.youtube.com/embed/5LlF196PKaE",title:"n8n Evaluation quickstart",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,-1)),T.value?(y(),c(G,{key:0,onRunTest:R})):(y(),c(A,{key:1}))],2))],2)):o(D)?(y(),c(s,{key:1})):l("",!0)],2)}}}),[["__cssModules",{$style:{evaluationsView:"_evaluationsView_1ydf9_125",setupContent:"_setupContent_1ydf9_132",description:"_description_1ydf9_141",config:"_config_1ydf9_146",setupDescription:"_setupDescription_1ydf9_152"}}]]))}}}));
//# sourceMappingURL=EvaluationsRootView-legacy-ZwW8broq.js.map