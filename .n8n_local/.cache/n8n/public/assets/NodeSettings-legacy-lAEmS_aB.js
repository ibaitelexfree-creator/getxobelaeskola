!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./users.store-legacy-B-bVJKl3.js","./ParameterInputList-legacy-B-cVfigK.js","./col-legacy-Ciq6fW7O.js","./constants-legacy-DVkAm8xO.js","./useDebounce-legacy-BSzeAS4U.js","./dataTable.store-legacy-bRwnG61W.js","./useClipboard-legacy-CaRHRTup.js","./assistant.store-legacy-5vR0xJ8p.js","./nodeIcon-legacy-KJSlWBN7.js","./nodeCreator.store-legacy-i0crt2uh.js","./QuickConnectBanner-legacy-D8p522S_.js","./useQuickConnect-legacy-C07VWAhK.js","./NodeIcon-legacy-DOI-M5xN.js","./VirtualSchema-legacy-DEUlCSUS.js","./useFreeAiCredits-legacy-CkLWMz48.js","./useActions-legacy-Cyiwb1IV.js"],(function(e,t){var a,n,o,s,l,i,d,r,c,u,p,v,m,g,b,y,h,f,_,x,k,T,w,N,C,W,S,$,U,z,B,I,V,M,E,j,D,A,P,O,H,R,q,L,K,Q,F,G,J,X,Y,Z,ee,te,ae,ne,oe,se,le,ie,de,re,ce,ue,pe,ve,me,ge,be,ye,he,fe,_e,xe,ke,Te,we,Ne,Ce,We,Se,$e,Ue,ze,Be,Ie,Ve,Me,Ee,je,De,Ae,Pe,Oe,He,Re,qe,Le,Ke,Qe,Fe,Ge,Je,Xe,Ye,Ze,et,tt,at,nt,ot,st,lt,it,dt,rt,ct,ut,pt,vt,mt,gt,bt,yt,ht,ft,_t,xt,kt,Tt,wt,Nt,Ct,Wt,St,$t,Ut,zt,Bt,It,Vt,Mt,Et,jt,Dt,At,Pt,Ot,Ht,Rt,qt,Lt,Kt,Qt,Ft,Gt,Jt,Xt,Yt,Zt,ea,ta,aa,na,oa,sa,la,ia,da,ra,ca;return{setters:[function(e){a=e.o},function(e){n=e.C,o=e.Cn,s=e.D,l=e.E,e.F,e.G,i=e.Gt,d=e.It,r=e.J,c=e.L,u=e.M,p=e.P,e.Pt,v=e.T,m=e.Ut,g=e.Z,b=e._,y=e._t,h=e.at,f=e.bn,_=e.bt,x=e.et,k=e.h,T=e.it,w=e.j,N=e.mt,C=e.p,W=e.pt,S=e.vn,$=e.w,U=e.xt},function(e){z=e.D,B=e.G,e.J,e.K,I=e.P,V=e.W,e.Y,M=e.bt,e.dt,e.et,E=e.g,j=e.h,e.it,e.nt,e.ot,e.q,e.rt,e.st,D=e.yt},function(e){A=e.Bi,P=e.Ci,O=e.Ct,H=e.Hi,R=e.Mi,q=e.Oi,L=e.U,K=e.Ui,Q=e.Vi,F=e.Vt,G=e.d,J=e.j,X=e.m,Y=e.z},function(e){Z=e.t},function(e){ee=e.Bt,te=e.C,ae=e.Ea,ne=e.It,oe=e.Kt,se=e.Lt,le=e.R,ie=e.Rr,de=e.Tt,re=e.Vt,ce=e._a,ue=e.fi,pe=e.ka,ve=e.r,me=e.rt,ge=e.s,be=e.t,ye=e.w,he=e.ws,fe=e.xi,_e=e.xr,xe=e.yr},function(e){ke=e.O,Te=e.d,we=e.f,Ne=e.g,Ce=e.j,We=e.k,Se=e.m,$e=e.p,Ue=e.t,ze=e.y},function(e){Be=e.n,Ie=e.t},function(e){Ve=e.Gt,Me=e.Ha,Ee=e.I,je=e.Jn,De=e.Nn,e.Oo,Ae=e.Ua,Pe=e.Zn,Oe=e.d,He=e.en,Re=e.fa,qe=e.gn,Le=e.l,Ke=e.rs,Qe=e.s,Fe=e.so,Ge=e.ua,Je=e.x},function(e){Xe=e.t},function(e){Ye=e.t},function(e){Ze=e.t},function(e){et=e.n},function(e){tt=e.t},function(e){at=e.t},function(e){nt=e.a,ot=e.i,st=e.n,lt=e.o,it=e.r,dt=e.t},function(e){rt=e.t},function(e){ct=e.t},function(e){ut=e.n},function(e){pt=e.t},function(e){vt=e.t}],execute:function(){(mt=document.createElement("style")).textContent='@keyframes _horizontal-shake_1x2tc_1{0%{transform:translate(0)}25%{transform:translate(5px)}50%{transform:translate(-5px)}75%{transform:translate(5px)}to{transform:translate(0)}}._container_1x2tc_142{--node--size:45px;--plus-button--size:30px;--ndv--sub-connections--duration:.15s;--collapsed--offset:10px;padding-top:calc(var(--node--size) + var(--spacing--3xs))}._connections_1x2tc_150{min-height:calc(var(--node--size) + var(--spacing--md));bottom:calc(var(--node--size)/2*-1);user-select:none;grid-template-columns:repeat(var(--possible-connections),1fr);justify-content:space-between;display:grid;position:absolute;left:0;right:0}._connectionType_1x2tc_163{transition:all calc(var(--ndv--sub-connections--duration) - 50ms)ease;flex-direction:column;align-items:center;display:flex}._connectionLabel_1x2tc_170{margin-bottom:var(--spacing--2xs);font-size:var(--font-size--2xs);user-select:none;text-wrap:nowrap}._connectionLabel_1x2tc_170._hasIssues_1x2tc_176{color:var(--color--danger)}._connectedNodesWrapper_1x2tc_180{flex-direction:column;justify-content:space-between;align-items:center;display:flex;position:relative}._plusButton_1x2tc_188{transition:all var(--ndv--sub-connections--duration)ease;top:var(--spacing--2xs);position:absolute}._plusButton_1x2tc_188._hasIssues_1x2tc_176{animation:.5s _horizontal-shake_1x2tc_1}._plusButton_1x2tc_188._hasIssues_1x2tc_176 button{--button--color--text:var(--color--danger);--button--border-color:var(--color--danger)}._plusButton_1x2tc_188:not(:last-child){z-index:1;margin-right:calc(var(--plus-button--size)*-1*.9);pointer-events:none;right:100%}._connectedNodesWrapperExpanded_1x2tc_206 ._plusButton_1x2tc_188:not(:last-child){margin-right:var(--spacing--2xs);opacity:1;pointer-events:all}._connectedNodesMultiple_1x2tc_212{transition:all var(--ndv--sub-connections--duration)ease}._connectedNodesWrapperExpanded_1x2tc_206{z-index:1}._connections_1x2tc_150:has(._connectedNodesWrapperExpanded_1x2tc_206) ._connectionType_1x2tc_163:not(:has(._connectedNodesWrapperExpanded_1x2tc_206)){opacity:0;pointer-events:none;visibility:hidden}._connectedNode_1x2tc_180{border:var(--border);background-color:var(--node--color--background);padding:var(--spacing--xs);cursor:pointer;pointer-events:all;transition:all var(--ndv--sub-connections--duration)ease;border-radius:100%;place-self:center;display:flex;position:relative}._connectedNodes_1x2tc_180{margin-right:calc((var(--nodes-length) - 1)*-1*(var(--node--size) - var(--collapsed--offset)));justify-content:center;display:flex}._connectedNodesWrapperExpanded_1x2tc_206 ._connectedNodes_1x2tc_180{margin-right:0;margin-right:calc((var(--spacing--2xs) + var(--plus-button--size))*-1)}._nodeWrapper_1x2tc_251{transition:all var(--ndv--sub-connections--duration)ease;transform-origin:50%;z-index:1}._connectedNodesWrapperExpanded_1x2tc_206 ._nodeWrapper_1x2tc_251:not(:first-child){margin-left:var(--spacing--2xs)}._nodeWrapper_1x2tc_251._hasIssues_1x2tc_176 ._connectedNode_1x2tc_180{border-width:calc(var(--border-width)*2);border-color:var(--color--danger)}._nodeWrapper_1x2tc_251:not(:first-child){transform:translateX(calc(var(--node-index)*-1*(var(--node--size) - var(--collapsed--offset))))}._connectedNodesWrapperExpanded_1x2tc_206 ._nodeWrapper_1x2tc_251{transform:translate(0)}#communityNode>div{cursor:auto;padding-left:0;padding-right:0}#communityNode>div:hover{color:unset}._header_11v3h_125{--tabs--arrow-buttons--color:var(--color--background--light-3);border-bottom:var(--border);align-items:center;min-height:40px;display:flex}._execute_11v3h_133{margin-right:var(--spacing--sm)}._tabs_11v3h_137{align-self:flex-end}._tabs_11v3h_137 #communityNode{padding-right:var(--spacing--2xs)}.webhooks[data-v-75d5f44c]{padding-bottom:var(--spacing--xs);margin:var(--spacing--xs)0;border-bottom:1px solid var(--color--text--tint-2)}.webhooks .headline[data-v-75d5f44c]{color:var(--color--primary);font-weight:var(--font-weight--bold);font-size:var(--font-size--2xs)}.http-field[data-v-75d5f44c]{width:50px;display:inline-block;position:absolute;top:calc(50% - 8px)}.http-method[data-v-75d5f44c]{background-color:var(--color--foreground--shade-2);text-align:center;width:40px;height:16px;line-height:16px;font-size:var(--font-size--2xs);font-weight:var(--font-weight--bold);color:var(--color--foreground--tint-2);border-radius:2px;margin-left:5px}.minimize-icon[data-v-75d5f44c]{margin-right:.5em;font-size:1.3em}.mode-selection-headline[data-v-75d5f44c]{line-height:1.8em}.node-webhooks[data-v-75d5f44c]{margin-left:1em}.url-field[data-v-75d5f44c]{width:calc(100% - 60px);margin-left:55px;display:inline-block}.url-field-full-width[data-v-75d5f44c]{margin:5px 10px;display:inline-block}.url-selection[data-v-75d5f44c]{margin-top:var(--spacing--xs)}.minimize-button[data-v-75d5f44c]{transition-property:transform;transition-duration:.5s;display:inline-block}.expanded .minimize-button[data-v-75d5f44c]{transform:rotate(90deg)}.webhook-url[data-v-75d5f44c]{width:100%;font-size:var(--font-size--2xs);white-space:normal;text-overflow:initial;color:var(--color--text--shade-1);text-align:left;word-break:break-all;direction:ltr;position:relative;top:0;overflow:visible}.webhook-wrapper[data-v-75d5f44c]{margin-top:var(--spacing--xs);background-color:var(--color--foreground--tint-2);border-radius:3px;line-height:1.5;position:relative}._component_1f41t_125{border-bottom:var(--border)}._title_1f41t_129{padding:var(--spacing--2xs)var(--spacing--3xs)var(--spacing--2xs)var(--spacing--xs);border-bottom:var(--border);align-items:center;gap:var(--spacing--4xs);cursor:grab;display:flex}._disabled_1f41t_137 ._title_1f41t_129{background-color:var(--color--foreground--tint-1)}._titleText_1f41t_141{min-width:0;font-weight:var(--font-weight--medium);font-size:var(--font-size--sm);padding:var(--spacing--2xs);margin:calc(-1*var(--spacing--2xs));flex-grow:1;flex-shrink:1;overflow:hidden}._subTitleText_1f41t_153{white-space:nowrap;text-overflow:ellipsis;width:0;padding-top:var(--spacing--5xs);flex-grow:100;overflow:hidden}._tabsContainer_1f41t_162{padding-top:var(--spacing--xs);padding-inline:var(--spacing--xs)}._component_617qw_125{padding-block:var(--spacing--2xs)}._label_617qw_129{padding:var(--spacing--3xs)var(--spacing--sm);text-transform:uppercase}._option_617qw_134{padding:var(--spacing--3xs)var(--spacing--sm);align-items:center;gap:var(--spacing--2xs);cursor:pointer;display:flex}._option_617qw_134._selected_617qw_141,._option_617qw_134:hover{background-color:var(--color--background)}._optionText_617qw_145{flex-grow:1;flex-shrink:1}._communityNodeActionsContainer_10r04_125{gap:var(--spacing--2xs);display:flex}._nodeIsNotValid_10r04_130{text-align:center;height:75%;line-height:var(--line-height--md);flex-direction:column;justify-content:center;align-items:center;padding:10px;display:flex}._warningIcon_10r04_141{color:var(--color--text--tint-2);font-size:var(--font-size--2xl)}._descriptionContainer_10r04_146{gap:var(--spacing--2xs);flex-direction:column;align-items:center;display:flex}._container_jnhsg_125{font-weight:var(--font-weight--medium);font-size:var(--font-size--md);margin-right:var(--spacing--sm);color:var(--color--text--shade-1);width:100%;display:flex}._textWrapper_jnhsg_134{flex-grow:1;display:flex}._iconWrapper_jnhsg_139{margin-right:var(--spacing--2xs);display:inline-flex}._header_17oyk_125{background-color:var(--ndv--header--color)}._featureRequest_17oyk_129{align-self:center;margin-top:auto}._featureRequest_17oyk_129 a{align-items:center;gap:var(--spacing--4xs);margin-top:var(--spacing--xl);font-size:var(--font-size--2xs);font-weight:var(--font-weight--bold);color:var(--color--text--tint-1);display:inline-flex}._quickConnectBanner_17oyk_143{margin-top:var(--spacing--sm)}._uiBlockerNdvV2_17oyk_147{border-radius:0}.node-settings[data-v-9bbda0c2]{background-color:var(--ndv--background--color);flex-direction:column;width:100%;height:100%;display:flex;overflow:hidden}.node-settings .no-parameters[data-v-9bbda0c2]{margin-top:var(--spacing--xs)}.node-settings .header-side-menu[data-v-9bbda0c2]{padding:var(--spacing--sm)var(--spacing--sm)var(--spacing--sm)var(--spacing--sm);font-size:var(--font-size--lg);justify-content:space-between;display:flex}.node-settings .header-side-menu .node-name[data-v-9bbda0c2]{padding-top:var(--spacing--5xs);margin-right:var(--spacing--sm)}.node-settings .node-parameters-wrapper[data-v-9bbda0c2]{padding:0 var(--spacing--md)var(--spacing--lg)var(--spacing--md);flex-direction:column;flex-grow:1;display:flex;overflow-y:auto}.node-settings .node-parameters-wrapper.ndv-v2[data-v-9bbda0c2]{padding:0 var(--spacing--sm)var(--spacing--lg)var(--spacing--sm)}.node-settings.embedded .node-parameters-wrapper[data-v-9bbda0c2]{padding:0 var(--spacing--xs)var(--spacing--xs)var(--spacing--xs)}.node-settings.embedded .node-parameters-wrapper[data-v-9bbda0c2]:has(.action-tab){padding:0 0 var(--spacing--xs)0}.node-settings.embedded .node-parameters-wrapper.with-static-scrollbar[data-v-9bbda0c2]{padding:0 var(--spacing--4xs)var(--spacing--xs)var(--spacing--xs)}.node-settings.embedded .node-parameters-wrapper.with-static-scrollbar[data-v-9bbda0c2]:has(.action-tab){padding:0 0 var(--spacing--xs)0}@supports not selector(::-webkit-scrollbar){.node-settings.embedded .node-parameters-wrapper.with-static-scrollbar[data-v-9bbda0c2]{scrollbar-width:thin}}@supports selector(::-webkit-scrollbar){.node-settings.embedded .node-parameters-wrapper.with-static-scrollbar[data-v-9bbda0c2]::-webkit-scrollbar{width:var(--spacing--2xs)}.node-settings.embedded .node-parameters-wrapper.with-static-scrollbar[data-v-9bbda0c2]::-webkit-scrollbar-thumb{border-radius:var(--spacing--2xs);background:var(--color--foreground--shade-1);border:var(--spacing--5xs)solid var(--color--background--light-3)}}.node-settings.dragging[data-v-9bbda0c2]{border-color:var(--color--primary);box-shadow:0 6px 16px rgba(255,74,51,.15)}.parameter-content[data-v-9bbda0c2]{margin-left:-15px;margin-right:-15px;font-size:.9em}.parameter-content input[data-v-9bbda0c2]{width:calc(100% - 35px);padding:5px}.parameter-content select[data-v-9bbda0c2]{width:calc(100% - 20px);padding:5px}.parameter-content[data-v-9bbda0c2]:before{content:" ";box-sizing:border-box;clear:both;display:table;position:relative}.parameter-wrapper[data-v-9bbda0c2]{padding:0 1em}.color-reset-button-wrapper[data-v-9bbda0c2]{position:relative}.color-reset-button[data-v-9bbda0c2]{position:absolute;top:-25px;right:7px}.node-version[data-v-9bbda0c2]{border-top:var(--border);font-size:var(--font-size--xs);font-size:var(--font-size--2xs);padding:var(--spacing--xs)0 var(--spacing--2xs)0;color:var(--color--text--tint-1)}.parameter-value input.expression[data-v-9bbda0c2]{box-sizing:border-box;background-color:#793300;border-style:dashed;border-color:#ff9600;width:100%;display:inline-block;position:relative}[data-has-output-connection=true] .ndv-connection-hint-notice{display:none}\n/*$vite$:1*/',document.head.appendChild(mt);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(ua=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[ua]="99847a85-0ddd-4622-97f8-f9fa624c1fef",t._sentryDebugIdIdentifier="sentry-dbid-99847a85-0ddd-4622-97f8-f9fa624c1fef")}catch(t){}var t,ua;gt={key:2},bt="@n8n/n8n-nodes-langchain.",e("r",yt=p({__name:"FreeAiCreditsCallout",props:{credentialTypeName:{}},setup(e){const t=e,a=[`${bt}openAi`,`${bt}embeddingsOpenAi`,`${bt}lmChatOpenAi`,"@n8n/n8n-nodes.openAi"],l=d(!1),r=ee(),c=D(),{aiCreditsQuota:p,userCanClaimOpenAiCredits:m,claimingCredits:g,claimCredits:b}=pt(),y=n((()=>t.credentialTypeName&&"openAiApi"===t.credentialTypeName)),h=n((()=>r.activeNode?.type&&a.includes(r.activeNode.type))),f=n((()=>m.value&&(h.value||y.value))),k=async()=>{await b("freeAiCreditsCallout")&&(l.value=!0)};return(e,t)=>f.value&&!l.value?(x(),v(i(A),{key:0,theme:"secondary",icon:"circle-alert",class:"mt-xs"},{trailingContent:_((()=>[u(i(H),{variant:"subtle",size:"small",label:i(c).baseText("freeAi.credits.callout.claim.button.label"),loading:i(g),onClick:k},null,8,["label","loading"])])),default:_((()=>[w(o(i(c).baseText("freeAi.credits.callout.claim.title",{interpolate:{credits:i(p)}}))+" ",1)])),_:1})):l.value?(x(),v(i(A),{key:1,theme:"success",icon:"circle-check",class:"mt-xs"},{default:_((()=>[u(i(Q),{size:"small"},{default:_((()=>[w(o(i(c).baseText("freeAi.credits.callout.success.title.part1",{interpolate:{credits:i(p)}})),1)])),_:1}),t[0]||(t[0]=w(" Â  ",-1)),u(i(Q),{size:"small",bold:!0},{default:_((()=>[w(o(i(c).baseText("freeAi.credits.callout.success.title.part2")),1)])),_:1})])),_:1})):(x(),s("div",gt))}})),ht=p({name:"OnClickOutside",props:["as","options"],emits:["trigger"],setup(e,{slots:t,emit:a}){const n=d();return E(n,(e=>{a("trigger",e)}),e.options),()=>{if(t.default)return c(e.as||"div",{ref:n},t.default())}}}),B?window:void 0,!1,V.mounted,V.unmounted,V.mounted,500,10,V.mounted,V.mounted,V.mounted,V.mounted,1,V.mounted,V.mounted,V.mounted,new WeakMap,function(){let e=!1;const t=d(!1)}(),ft=["data-test-id"],_t=["textContent"],xt=["onClick"],kt=["onClick"],Tt=["data-node-name"],wt=["onClick"],Nt=p({__name:"NDVSubConnections",props:{rootNode:{}},emits:["switchSelectedNode","openConnectionNodeCreator"],setup(e,{expose:t,emit:a}){const r=e,c=ge(),p=te(),m=ne(),g=D(),{debounce:h}=Xe(),k=a,N=d([]),C=d([]),W=d(!1),U=n((()=>p.getNodeType(r.rootNode.type,r.rootNode.typeVersion))),z=n((()=>c.getNodeByName(r.rootNode.name))),B=ee(),I=n((()=>c.workflowObject)),V=n((()=>m.getNodeIssues(U.value,r.rootNode,I.value,["typeUnknown","parameters","credentials","execution"])?.input??{})),M=n((()=>{const e={};return N.value.reduce(((t,a)=>{const n=e[a.type]??0;e[a.type]=n+1;const o=((I.value.connectionsByDestinationNode[r.rootNode.name]?.[a.type]??[])[n]??[]).map((e=>e.node)).map((e=>{const t=c.getNodeByName(e);if(t){const e=p.getNodeType(t.type);if(e){const a=m.getNodeIssues(e,t,I.value);return{node:t,nodeType:e,issues:a?m.nodeIssuesToString(a,t):""}}}return null})).filter((e=>null!==e));return{...t,[`${a.type}-${n}`]:o}}),{})}));function E(e,t){let a=0;for(let n=0;n<t;n++)N.value[n].type===e.type&&a++;return{connectionType:e.type,typeIndex:a,key:`${e.type}-${a}`}}function j(e,t){return E(e,t).key}function A(e){return 1!==(t=e.connectionType,a=e.typeIndex,N.value.filter((e=>e.type===t)).at(a))?.maxConnections;var t,a}function P(e){return A(e)&&!C.value.includes(e.connectionType)}function O(e,t){A(e)&&(C.value=t?[...C.value,e.connectionType]:C.value.filter((t=>t!==e.connectionType)))}function H(e){return W.value&&(V.value[e.connectionType]??[]).length>0}return y([z,B.activeNode],h((()=>setTimeout((()=>{C.value=[],N.value=U.value&&r.rootNode?Ge(I.value,r.rootNode,U.value).filter((e=>{return"string"!=typeof(t=e)&&"type"in t&&"main"!==e.type;var t})):[]}),0)),{debounceTime:1e3}),{immediate:!0}),t({showNodeInputsIssues:function(){W.value=!1,setTimeout((()=>{W.value=!0}),0)}}),(e,t)=>N.value.length?(x(),s("div",{key:0,class:S(e.$style.container)},[$("div",{class:S(e.$style.connections),style:f(`--possible-connections: ${N.value.length}`)},[(x(!0),s(b,null,T(N.value,((t,a)=>(x(),s("div",{key:j(t,a),"data-test-id":`subnode-connection-group-${j(t,a)}`},[$("div",{class:S(e.$style.connectionType)},[$("span",{class:S({[e.$style.connectionLabel]:!0,[e.$style.hasIssues]:H(E(t,a))}),textContent:o(`${t.displayName}${t.required?" *":""}`)},null,10,_t),u(i(ht),{onTrigger:e=>O(E(t,a),!1)},{default:_((()=>[$("div",{ref_for:!0,ref:"connectedNodesWrapper",class:S({[e.$style.connectedNodesWrapper]:!0,[e.$style.connectedNodesWrapperExpanded]:C.value.includes(t.type)}),style:f(`--nodes-length: ${M.value[j(t,a)].length}`),onClick:e=>O(E(t,a),!0)},[M.value[j(t,a)].length>=1&&1===t.maxConnections?l("",!0):(x(),s("div",{key:0,class:S({[e.$style.plusButton]:!0,[e.$style.hasIssues]:H(E(t,a))}),onClick:e=>function(e){const t=M.value[e.key];A(e)&&!C.value.includes(e.connectionType)&&t.length>=1?O(e,!0):k("openConnectionNodeCreator",r.rootNode.name,e.connectionType,e.typeIndex)}(E(t,a))},[u(i(q),{placement:"top",teleported:!0,offset:10,"show-after":300,disabled:P(E(t,a))&&M.value[j(t,a)].length>=1},{content:_((()=>[w(" Add "+o(t.displayName)+" ",1),H(E(t,a))?(x(),v(Ce,{key:0,title:`${i(g).baseText("node.issues")}:`,items:V.value[t.type]},null,8,["title","items"])):l("",!0)])),default:_((()=>[u(i(R),{variant:"subtle",size:"medium",icon:"plus","data-test-id":`add-subnode-${j(t,a)}`},null,8,["data-test-id"])])),_:2},1032,["disabled"])],10,kt)),M.value[j(t,a)].length>0?(x(),s("div",{key:1,class:S({[e.$style.connectedNodes]:!0,[e.$style.connectedNodesMultiple]:M.value[j(t,a)].length>1})},[(x(!0),s(b,null,T(M.value[j(t,a)],((n,d)=>(x(),s("div",{key:n.node.name,class:S({[e.$style.nodeWrapper]:!0,[e.$style.hasIssues]:n.issues}),"data-test-id":"floating-subnode","data-node-name":n.node.name,style:f(`--node-index: ${d}`)},[(x(),v(i(q),{key:n.node.name,placement:"top",teleported:!0,offset:10,"show-after":300,disabled:P(E(t,a))},{content:_((()=>[w(o(n.node.name)+" ",1),n.issues?(x(),v(Ce,{key:0,title:`${i(g).baseText("node.issues")}:`,items:n.issues},null,8,["title","items"])):l("",!0)])),default:_((()=>[$("div",{class:S(e.$style.connectedNode),onClick:e=>{return o=n.node.name,void(!A(s=E(t,a))||C.value.includes(s.connectionType)?k("switchSelectedNode",o):O(s,!0));var o,s}},[u(ct,{"node-type":n.nodeType,"node-name":n.node.name,"tooltip-position":"top",size:20,circle:""},null,8,["node-type","node-name"])],10,wt)])),_:2},1032,["disabled"]))],14,Tt)))),128))],2)):l("",!0)],14,xt)])),_:2},1032,["onTrigger"])],2)],8,ft)))),128))],6)],2)):l("",!0)}}),Ct=Z(Nt,[["__cssModules",{$style:{container:"_container_1x2tc_142",connections:"_connections_1x2tc_150",connectionType:"_connectionType_1x2tc_163",connectionLabel:"_connectionLabel_1x2tc_170",hasIssues:"_hasIssues_1x2tc_176",connectedNodesWrapper:"_connectedNodesWrapper_1x2tc_180",plusButton:"_plusButton_1x2tc_188","horizontal-shake":"_horizontal-shake_1x2tc_1",connectedNodesWrapperExpanded:"_connectedNodesWrapperExpanded_1x2tc_206",connectedNodesMultiple:"_connectedNodesMultiple_1x2tc_212",connectedNode:"_connectedNode_1x2tc_180",connectedNodes:"_connectedNodes_1x2tc_180",nodeWrapper:"_nodeWrapper_1x2tc_251"}}]]),e("n",Wt=({nodeType:e})=>{const t=n((()=>m(e)?.name.split(".")[0]??"")),a=n((()=>{const t=m(e);return!!t&&Ae(t.name)}));return{docsUrl:n((()=>{const n=m(e);if(!n)return"";if(n.documentationUrl?.startsWith("http"))return n.documentationUrl;const o=new URLSearchParams({utm_source:"n8n_app",utm_medium:"node_settings_modal-credential_link",utm_campaign:n.name}),s=n.codex?.resources?.primaryDocumentation?.[0]?.url;return s?`${s}?${o.toString()}`:a.value?`${Je}${t.value}`:`${Le}?${o.toString()}`}))}}),St=p({__name:"NodeSettingsTabs",props:{modelValue:{default:"params"},nodeType:{default:void 0},pushRef:{default:""},hideDocs:{type:Boolean},tabsVariant:{default:void 0},includeAction:{type:Boolean},includeCredential:{type:Boolean},hasCredentialIssue:{type:Boolean,default:!1},compact:{type:Boolean}},emits:["update:model-value"],setup(e,{emit:t}){const a=e,o=t,s=_e(),l=ee(),d=ge(),r=D(),c=se(),{docsUrl:u}=Wt({nodeType:()=>a.nodeType}),p=n((()=>l.activeNode)),{installedPackage:m,isCommunityNode:g,isUpdateCheckAvailable:b}=nt(n((()=>a.nodeType?.name))),y=n((()=>a.nodeType?.name.split(".")[0]??"")),h=n((()=>a.hideDocs?"":u.value)),f=n((()=>{const e=[];return a.includeAction&&e.push({label:r.baseText("nodeSettings.action"),value:"action"}),a.includeCredential&&e.push({label:r.baseText("nodeSettings.credential"),value:"credential",...a.hasCredentialIssue&&{icon:"triangle-alert",iconPosition:"right",variant:"danger"}}),e.push({label:r.baseText(a.compact?"nodeSettings.parametersShort":"nodeSettings.parameters"),value:"params"},{value:"settings",notification:!(!b.value||!m.value?.updateAvailable)||void 0,...a.compact?{icon:"settings",align:"right",tooltip:r.baseText("nodeSettings.settings")}:{label:r.baseText("nodeSettings.settings")}}),g.value&&e.push({icon:"box",value:"communityNode",align:"right",tooltip:r.baseText("generic.communityNode.tooltip",{interpolate:{docUrl:ae,packageName:y.value}})}),h.value&&e.push({value:"docs",href:h.value,align:"right",...a.compact?{icon:"book-open",tooltip:r.baseText("nodeSettings.docs")}:{label:r.baseText("nodeSettings.docs")}}),e}));function _(e){"docs"===e&&a.nodeType&&(s.run("dataDisplay.onDocumentationUrlClick",{nodeType:a.nodeType,documentationUrl:h.value}),c.track("User clicked ndv link",{node_type:p.value?.type,workflow_id:d.workflowId,push_ref:a.pushRef,pane:Fe.Main,type:"docs"})),"settings"===e&&a.nodeType&&c.track("User viewed node settings",{node_type:a.nodeType.name,workflow_id:d.workflowId}),"settings"!==e&&"params"!==e&&"action"!==e&&"credential"!==e||o("update:model-value",e)}function k(e,t){"communityNode"===e&&"a"===t.target.localName&&c.track("user clicked cnr docs link",{source:"node details view"})}return(t,a)=>(x(),v(i(J),{options:f.value,"model-value":e.modelValue,variant:e.tabsVariant,size:e.compact?"small":"medium","onUpdate:modelValue":_,onTooltipClick:k},null,8,["options","model-value","variant","size"]))}}),$t=St,Ut=p({__name:"NodeSettingsHeader",props:{nodeName:{},hideExecute:{type:Boolean},hideDocs:{type:Boolean},hideTabs:{type:Boolean},disableExecute:{type:Boolean},executeButtonTooltip:{},selectedTab:{},nodeType:{},pushRef:{}},emits:["execute","stop-execution","value-changed","tab-changed"],setup(e,{emit:t}){const a=t;return(t,n)=>(x(),s("div",{class:S(t.$style.header)},[e.hideTabs?l("",!0):(x(),v($t,{key:0,"hide-docs":e.hideDocs,"model-value":e.selectedTab,"node-type":e.nodeType,"push-ref":e.pushRef,class:S(t.$style.tabs),"tabs-variant":"modern","onUpdate:modelValue":n[0]||(n[0]=e=>a("tab-changed",e))},null,8,["hide-docs","model-value","node-type","push-ref","class"])),e.hideExecute?l("",!0):(x(),v(ut,{key:1,"data-test-id":"node-execute-button","node-name":e.nodeName,disabled:e.disableExecute,tooltip:e.executeButtonTooltip,class:S(t.$style.execute),size:"small","telemetry-source":"parameters",onExecute:n[1]||(n[1]=e=>a("execute")),onStopExecution:n[2]||(n[2]=e=>a("stop-execution")),onValueChanged:n[3]||(n[3]=e=>a("value-changed",e))},null,8,["node-name","disabled","tooltip","class"]))],2))}}),zt=Z(Ut,[["__cssModules",{$style:{header:"_header_11v3h_125",execute:"_execute_11v3h_133",tabs:"_tabs_11v3h_137"}}]]),Bt={key:0,class:"webhooks"},It=["title"],Vt={key:0,class:"node-webhooks"},Mt={key:0,class:"url-selection"},Et={key:0,class:"webhook-wrapper"},jt={class:"http-field"},Dt={class:"http-method"},At={class:"url-field"},Pt=["onClick"],Ot={key:1,class:"webhook-wrapper"},Ht={class:"url-field-full-width"},Rt=["onClick"],qt=Z(p({__name:"NodeWebhooks",props:{node:{},nodeTypeDescription:{}},setup(e){const t=e,a=Ze(),r=de(),c=xe(),p=D(),m=se(),g=d(t.nodeTypeDescription&&!je.includes(t.nodeTypeDescription.name)),h=d("test"),f=n((()=>t.nodeTypeDescription&&Pe.includes(t.nodeTypeDescription.name))),k=n((()=>[...f.value?[]:[{label:W.value.testUrl,value:"test"}],{label:W.value.productionUrl,value:"production"}])),N=n((()=>void 0===t.nodeTypeDescription?.webhooks?[]:t.nodeTypeDescription.webhooks.filter((e=>!0!==e.restartWebhook)))),C=j((async()=>{const e=h.value,a=t.node,n=[];for(const t of N.value){let o=!t.ndvHideUrl;if("string"==typeof t.ndvHideUrl&&(o=!(await r.getWebhookExpressionValue(t,"ndvHideUrl"))),!o)continue;let s="";a&&(s=await r.getWebhookUrl(t,a,f.value?"production":e));let l=!t.ndvHideMethod;try{const e=await r.getWebhookExpressionValue(t,"httpMethod",!1);Array.isArray(e)&&1!==e.length?l=!1:"string"==typeof t.ndvHideMethod&&(l=!(await r.getWebhookExpressionValue(t,"ndvHideMethod")))}catch{}let i="";try{const e=await r.getWebhookExpressionValue(t,"httpMethod",!1);i=Array.isArray(e)?e[0]:e}catch{}n.push({webhook:t,url:s,httpMethod:i,isMethodVisible:l})}return n}),[]),W=n((()=>{switch(t.nodeTypeDescription?.name){case Ve:return{toggleTitle:p.baseText("nodeWebhooks.webhookUrls.chatTrigger"),clickToDisplay:p.baseText("nodeWebhooks.clickToDisplayWebhookUrls.formTrigger"),clickToHide:p.baseText("nodeWebhooks.clickToHideWebhookUrls.chatTrigger"),clickToCopy:p.baseText("nodeWebhooks.clickToCopyWebhookUrls.chatTrigger"),testUrl:p.baseText("nodeWebhooks.testUrl"),productionUrl:p.baseText("nodeWebhooks.productionUrl"),copyTitle:p.baseText("nodeWebhooks.showMessage.title.chatTrigger"),copyMessage:p.baseText("nodeWebhooks.showMessage.message.chatTrigger")};case qe:return{toggleTitle:p.baseText("nodeWebhooks.webhookUrls.formTrigger"),clickToDisplay:p.baseText("nodeWebhooks.clickToDisplayWebhookUrls.formTrigger"),clickToHide:p.baseText("nodeWebhooks.clickToHideWebhookUrls.formTrigger"),clickToCopy:p.baseText("nodeWebhooks.clickToCopyWebhookUrls.formTrigger"),testUrl:p.baseText("nodeWebhooks.testUrl"),productionUrl:p.baseText("nodeWebhooks.productionUrl"),copyTitle:p.baseText("nodeWebhooks.showMessage.title.formTrigger"),copyMessage:p.baseText("nodeWebhooks.showMessage.message.formTrigger")};case De:return{toggleTitle:p.baseText("nodeWebhooks.webhookUrls.mcpTrigger"),clickToDisplay:p.baseText("nodeWebhooks.clickToDisplayWebhookUrls.mcpTrigger"),clickToHide:p.baseText("nodeWebhooks.clickToHideWebhookUrls.mcpTrigger"),clickToCopy:p.baseText("nodeWebhooks.clickToCopyWebhookUrls.mcpTrigger"),testUrl:p.baseText("nodeWebhooks.testUrl"),productionUrl:p.baseText("nodeWebhooks.productionUrl"),copyTitle:p.baseText("nodeWebhooks.showMessage.title.mcpTrigger"),copyMessage:void 0};default:return{toggleTitle:p.baseText("nodeWebhooks.webhookUrls"),clickToDisplay:p.baseText("nodeWebhooks.clickToDisplayWebhookUrls"),clickToHide:p.baseText("nodeWebhooks.clickToHideWebhookUrls"),clickToCopy:p.baseText("nodeWebhooks.clickToCopyWebhookUrls"),testUrl:p.baseText("nodeWebhooks.testUrl"),productionUrl:p.baseText("nodeWebhooks.productionUrl"),copyTitle:p.baseText("nodeWebhooks.showMessage.title"),copyMessage:void 0}}}));function U(e){a.copy(e.url),c.showMessage({title:W.value.copyTitle,message:W.value.copyMessage,type:"success"}),m.track("User copied webhook URL",{pane:"parameters",type:`${h.value} url`})}return y((()=>t.node),(()=>{g.value=t.nodeTypeDescription&&!je.includes(t.nodeTypeDescription.name)})),(e,t)=>N.value.length&&i(C).length>0?(x(),s("div",Bt,[$("div",{class:S(["clickable headline",{expanded:!g.value}]),title:g.value?W.value.clickToDisplay:W.value.clickToHide,onClick:t[0]||(t[0]=e=>g.value=!g.value)},[u(i(K),{icon:"chevron-right",class:"minimize-button minimize-icon"}),w(" "+o(W.value.toggleTitle),1)],10,It),u(i(F),null,{default:_((()=>[g.value?l("",!0):(x(),s("div",Vt,[f.value?l("",!0):(x(),s("div",Mt,[u(i(Be),null,{default:_((()=>[u(i(Ie),{span:24},{default:_((()=>[u(i(Y),{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e),options:k.value},null,8,["modelValue","options"])])),_:1})])),_:1})])),(x(!0),s(b,null,T(i(C),((e,a)=>(x(),v(i(q),{key:a,class:"item",content:W.value.clickToCopy,placement:"left"},{default:_((()=>[e.isMethodVisible?(x(),s("div",Et,[$("div",jt,[$("div",Dt,[w(o(e.httpMethod),1),t[2]||(t[2]=$("br",null,null,-1))])]),$("div",At,[$("div",{class:"webhook-url left-ellipsis clickable",onClick:t=>U(e)},[w(o(e.url),1),t[3]||(t[3]=$("br",null,null,-1))],8,Pt)])])):(x(),s("div",Ot,[$("div",Ht,[$("div",{class:"webhook-url left-ellipsis clickable",onClick:t=>U(e)},[w(o(e.url),1),t[4]||(t[4]=$("br",null,null,-1))],8,Rt)])]))])),_:2},1032,["content"])))),128))]))])),_:1})])):l("",!0)}}),[["__scopeId","data-v-75d5f44c"]]),Lt=p({__name:"ExperimentalEmbeddedNdvHeader",props:{node:{},readOnly:{type:Boolean},nodeType:{},pushRef:{},subTitle:{},extraTabsClassName:{},selectedTab:{},includeAction:{type:Boolean},includeCredential:{type:Boolean},hasCredentialIssue:{type:Boolean}},emits:["name-changed","dblclick-title","tab-changed"],setup(e,{emit:t}){const a=t;return(t,n)=>(x(),s("div",{class:S([t.$style.component,e.node.disabled?t.$style.disabled:""])},[$("div",{class:S(t.$style.title),onDblclick:n[1]||(n[1]=e=>a("dblclick-title",e))},[u(ct,{"node-type":e.nodeType,size:16},null,8,["node-type"]),$("div",{class:S(t.$style.titleText)},[u(i(G),{"min-width":0,"model-value":e.node.name,"read-only":e.readOnly,"onUpdate:modelValue":n[0]||(n[0]=e=>a("name-changed",e))},null,8,["model-value","read-only"])],2),u(i(Q),{bold:"",size:"small",color:"text-light",class:S(t.$style.subTitleText)},{default:_((()=>[w(o(e.subTitle),1)])),_:1},8,["class"]),h(t.$slots,"actions")],34),$("div",{class:S(t.$style.tabsContainer)},[u($t,{class:S(e.extraTabsClassName),"model-value":e.selectedTab,"node-type":e.nodeType,"push-ref":e.pushRef,"tabs-variant":"modern",compact:"","include-action":e.includeAction,"include-credential":e.includeCredential,"has-credential-issue":e.hasCredentialIssue,"onUpdate:modelValue":n[2]||(n[2]=e=>a("tab-changed",e))},null,8,["class","model-value","node-type","push-ref","include-action","include-credential","has-credential-issue"])],2)],2))}}),Kt=Z(Lt,[["__cssModules",{$style:{component:"_component_1f41t_125",title:"_title_1f41t_129",disabled:"_disabled_1f41t_137",titleText:"_titleText_1f41t_141",subTitleText:"_subTitleText_1f41t_153",tabsContainer:"_tabsContainer_1f41t_162"}}]]),Qt=["onClick"],Ft=Z(p({__name:"NodeActionsList",props:{node:{}},emits:["actionSelected"],setup(e,{emit:t}){const a=t,r=te(),{generateMergedNodesAndActions:c}=ye(),{parseCategoryActions:p,getActionData:m}=vt(),g=D(),h=d(),f=n((()=>r.getNodeType(e.node.type,e.node.typeVersion))),k=n((()=>{const{actions:t}=c(f.value?[f.value]:[],[]);return p(Object.values(t).flatMap((e=>e.filter((({actionKey:e})=>e!==Ee)).map((e=>({type:"action",subcategory:e.actionKey,key:e.actionKey,properties:e}))))),g.baseText("nodeCreator.actionsCategory.actions"),!0).map((t=>{if("action"!==t.type)return{action:t,isSelected:!1};const a=m(t.properties).value;let n=!0;for(const[o,s]of Object.entries(a))n=n&&e.node.parameters[o]===s;return{action:t,isSelected:n}}))}));function N(e){e instanceof HTMLDivElement&&(h.value=e)}return y(h,(e=>{e?.scrollIntoView()}),{flush:"post"}),(e,t)=>(x(),s("div",{class:S(e.$style.component)},[(x(!0),s(b,null,T(k.value,(t=>(x(),s(b,{key:t.action.key},["label"===t.action.type?(x(),v(i(Q),{key:0,tag:"div",class:S(e.$style.label),size:"xsmall",color:"text-base",bold:""},{default:_((()=>[w(o(t.action.key),1)])),_:2},1032,["class"])):"action"===t.action.type?(x(),s("div",{key:1,ref_for:!0,ref:t.isSelected?N:void 0,class:S({[e.$style.option]:!0,[e.$style.selected]:t.isSelected}),role:"button",onClick:e=>function(e){"action"===e.type&&a("actionSelected",m(e.properties).value)}(t.action)},[u(ct,{size:20,"node-type":f.value},null,8,["node-type"]),u(i(Q),{size:"small",bold:"",class:S(e.$style.optionText)},{default:_((()=>[w(o(t.action.properties.displayName),1)])),_:2},1032,["class"]),t.isSelected?(x(),v(i(K),{key:0,icon:"check",color:"primary"})):l("",!0)],10,Qt)):l("",!0)],64)))),128))],2))}}),[["__cssModules",{$style:{component:"_component_617qw_125",label:"_label_617qw_129",option:"_option_617qw_134",selected:"_selected_617qw_141",optionText:"_optionText_617qw_145"}}]]),Gt={class:"mt-s mb-xs"},Jt=["href","textContent"],Xt=p({__name:"NodeSettingsInvalidNodeWarning",props:{node:{},previewMode:{type:Boolean,default:!1}},setup(e){const t=D(),a=se(),d=te(),r=ve(),c=ee(),p=at(),m=be(),g=n((()=>Ae(e.node.type))),b=n((()=>Ae(e.node.type)&&d.communityNodeType(e.node.type)?.isOfficialNode)),h=n((()=>le(e.node.type.split(".")[0]))),f=n((()=>m.isInstanceOwner)),{getQuickConnectOptionByPackageName:k}=rt(),T=n((()=>k(h.value))),{installNode:N,loading:C}=lt(),W=n((()=>!!d.nodeTypes[e.node.type]));async function U(){a.track("user clicked cnr docs link",{source:"missing node modal source",package_name:e.node.type.split(".")[0],node_type:e.node.type}),b.value?await p.openNodeCreatorWithNode(e.node.name):h.value&&window.open(`https://www.npmjs.com/package/${h.value}`,"_blank")}async function z(){a.track("user clicked cnr install button",{source:"missing node modal source",package_name:h.value,node_type:e.node.type}),b.value?await N({type:"verified",packageName:h.value,nodeType:e.node.type,telemetry:{source:"missing node modal source",hasQuickConnect:void 0!==T.value}}):r.openModalWithData({name:pe,data:{packageName:h.value,disableInput:!0,hideSuggestion:!0,nodeType:e.node.type}})}return y(W,(()=>{W.value&&c.unsetActiveNodeName()})),(a,n)=>(x(),s("div",{class:S(a.$style.nodeIsNotValid)},[$("p",{class:S(a.$style.warningIcon)},[u(i(K),{icon:"triangle-alert"})],2),$("div",Gt,[u(i(Q),{size:"large",color:"text-dark",bold:""},{default:_((()=>[w(o(e.previewMode?i(t).baseText("nodeSettings.communityNodeUnknown.title.preview"):i(t).baseText("nodeSettings.communityNodeUnknown.title")),1)])),_:1})]),g.value&&!e.previewMode?(x(),s("div",{key:0,class:S(a.$style.descriptionContainer)},[u(i(M),{keypath:"nodeSettings.communityNodeUnknown.description",tag:"span",scope:"global"},{action:_((()=>[u(i(Q),{size:"medium",bold:""},{default:_((()=>[w(o(h.value),1)])),_:1})])),_:1}),f.value?(x(),s("div",{key:0,class:S(a.$style.communityNodeActionsContainer)},[f.value?(x(),v(i(H),{key:0,variant:"solid",icon:"hard-drive-download","data-test-id":"install-community-node-button",loading:i(C),disabled:i(C),onClick:z},{default:_((()=>[w(o(i(t).baseText("nodeSettings.communityNodeUnknown.installButton.label")),1)])),_:1},8,["loading","disabled"])):l("",!0),u(i(H),{variant:"subtle",icon:"external-link",onClick:U,"data-test-id":"view-details-button"},{default:_((()=>[w(o(i(t).baseText("nodeSettings.communityNodeUnknown.viewDetailsButton.label")),1)])),_:1})],2)):(x(),v(ot,{key:1,box:!1}))],2)):e.previewMode?l("",!0):(x(),v(i(M),{key:1,keypath:"nodeSettings.nodeTypeUnknown.description",tag:"span",scope:"global"},{action:_((()=>[$("a",{href:i(Oe),target:"_blank",textContent:o(i(t).baseText("nodeSettings.nodeTypeUnknown.description.customNode"))},null,8,Jt)])),_:1}))],2))}}),Yt=Z(Xt,[["__cssModules",{$style:{communityNodeActionsContainer:"_communityNodeActionsContainer_10r04_125",nodeIsNotValid:"_nodeIsNotValid_10r04_130",warningIcon:"_warningIcon_10r04_141",descriptionContainer:"_descriptionContainer_10r04_146"}}]]),Zt={key:0},ea={key:1},ta=p({__name:"NodeStorageLimitCallout",setup(e){const t=D(),a=ee(),d=Ye(),r=n((()=>{if(!He.includes(a.activeNode?.type??""))return null;switch(d.dataTableSizeLimitState){case"error":return"danger";case"warn":return"warning";default:return null}}));return(e,a)=>r.value?(x(),v(i(A),{key:0,theme:r.value,class:"mt-xs"},{default:_((()=>["danger"===r.value?(x(),s("span",Zt,o(i(t).baseText("dataTable.banner.storageLimitError.message",{interpolate:{usage:`${i(d).dataTableSize} / ${i(d).maxSizeMB}MB`}})),1)):(x(),s("span",ea,o(i(t).baseText("dataTable.banner.storageLimitWarning.message",{interpolate:{usage:`${i(d).dataTableSize} / ${i(d).maxSizeMB}MB`}})),1))])),_:1},8,["theme"])):l("",!0)}}),aa=p({__name:"NodeTitle",props:{modelValue:{default:""},nodeType:{default:void 0},iconSource:{default:void 0},readOnly:{type:Boolean,default:!1}},emits:["update:model-value"],setup(e,{emit:t}){const a=t;function n(e){""!==e.trim()&&a("update:model-value",e.trim())}const o=N("wrapperRef"),{width:l}=z(o);return(t,a)=>(x(),s("span",{class:S(t.$style.container),"data-test-id":"node-title-container"},[$("span",{class:S(t.$style.iconWrapper)},[e.iconSource?(x(),v(ct,{key:1,"icon-source":e.iconSource,"node-type":e.nodeType,size:18,"show-tooltip":!0,"tooltip-position":"left"},null,8,["icon-source","node-type"])):(x(),v(ct,{key:0,"node-type":e.nodeType,size:18,"show-tooltip":!0,"tooltip-position":"left"},null,8,["node-type"]))],2),$("div",{ref_key:"wrapperRef",ref:o,class:S(t.$style.textWrapper)},[u(i(G),{"max-width":i(l),"model-value":e.modelValue,"read-only":e.readOnly,"onUpdate:modelValue":n},null,8,["max-width","model-value","read-only"])],2)],2))}}),na=Z(aa,[["__cssModules",{$style:{container:"_container_jnhsg_125",textWrapper:"_textWrapper_jnhsg_134",iconWrapper:"_iconWrapper_jnhsg_139"}}]]),oa=a(X(),1),sa=["data-has-output-connection"],la={class:"header-side-menu"},ia={key:1,class:"no-parameters"},da={key:2,class:"parameter-item parameter-notice","data-test-id":"node-parameters-http-notice"},ra={class:"node-version","data-test-id":"node-version"},ca=p({__name:"NodeSettings",props:{eventBus:{},dragging:{type:Boolean},pushRef:{},readOnly:{type:Boolean},foreignCredentials:{},blockUI:{type:Boolean},executable:{type:Boolean},inputSize:{default:0},activeNode:{default:void 0},isEmbeddedInCanvas:{type:Boolean,default:!1},subTitle:{default:void 0},extraTabsClassName:{},extraParameterWrapperClassName:{},isNdvV2:{type:Boolean,default:!1},hideExecute:{type:Boolean,default:!1},hideDocs:{type:Boolean,default:!0},hideSubConnections:{type:Boolean,default:!1}},emits:["stopExecution","valueChanged","switchSelectedNode","openConnectionNodeCreator","activate","execute","captureWheelBody","dblclickHeader"],setup(e,{emit:t}){const a=e,c=t;W();const p=d(Ne()),m=te(),b=ee(),f=ge(),T=ie(),z=re(),B=me(),V=ue(),M=se(),E=ne(),j=_e(),A=D(),H=P(),R=Te(),q=N("nodeParameterWrapper"),F=d(!1);a.isEmbeddedInCanvas&&I(q,(()=>{F.value=(q.value?.scrollHeight??0)>(q.value?.offsetHeight??0)}));const G=d(!0),J=d("params"),X=d(!1),Y=d([]),Z=d(null),ae=n((()=>H?.name===Ke.DEMO)),{isPreviewMode:le}=he(),de=n((()=>ae.value&&le)),pe=n((()=>T.getWorkflowById(f.workflowObject.id))),ve=n((()=>a.foreignCredentials.length>0)),ye=n((()=>pe.value?.homeProject?.type===oe.Team)),xe=n((()=>a.readOnly||ve.value&&!ye.value)),Ce=n((()=>a.activeNode??b.activeNode)),Be=n((()=>Ce.value?m.getNodeType(Ce.value.type,Ce.value.typeVersion):null)),{areAllCredentialsSet:Ie}=We(Ce,Be,""),{installedPackage:Ve,isUpdateCheckAvailable:Ee}=nt(n((()=>Ce.value?.type))),je=n((()=>!!Ce.value&&m.isTriggerNode(Ce.value.type))),De=n((()=>!!Ce.value&&m.isToolNode(Ce.value.type))),Pe=n((()=>E.isNodeExecutable(Ce.value,a.executable,a.foreignCredentials))),Oe=n((()=>Ce.value?m.getNodeVersions(Ce.value.type):[])),He=n((()=>Math.max(...Oe.value))),qe=n((()=>!Ce.value?.typeVersion||He.value===Ce.value.typeVersion)),Le=n((()=>Ce.value&&qe.value&&a.inputSize>1&&!E.isSingleExecution(Ce.value.type,Ce.value.parameters)?A.baseText("nodeSettings.executeButtonTooltip.times",{interpolate:{inputSize:a.inputSize}}):"")),Ge=n((()=>!Be.value||Be.value.hidden?A.baseText("nodeSettings.deprecated"):qe.value?A.baseText("nodeSettings.latest"):A.baseText("nodeSettings.latestVersion",{interpolate:{version:He.value.toString()}}))),Je=n((()=>null===Be.value?[]:Be.value?.properties??[])),Xe=n((()=>we(Je.value,a.isEmbeddedInCanvas))),Ye=n((()=>B.getCredentialTypesNodeDescriptions("",Be.value).filter((e=>At(e))).length>0)),Ze=n((()=>B.getCredentialTypesNodeDescriptions("",Be.value).filter((e=>At(e))).map((e=>e.name)))),{getQuickConnectOptionByCredentialTypes:at}=rt(),ot=n((()=>at(Ze.value))),lt=n((()=>ot.value&&!Ie.value&&!xe.value&&!de.value&&!a.isEmbeddedInCanvas)),ct=n((()=>!Ye.value&&0===(Xe.value.params??[]).filter((e=>"notice"!==e.type)).length)),pt=n((()=>b.outputPanelEditMode)),vt=n((()=>!!Ce.value&&Ae(Ce.value.type))),mt=n((()=>Ce.value?.type.split(".")[0]??"")),gt=n((()=>Object.values(f.usedCredentials).filter((e=>Object.values(Ce.value?.credentials||[]).find((t=>t.id===e.id)))))),bt=n((()=>{const e=gt.value?Object.values(gt.value).find((e=>e.id===a.foreignCredentials[0])):void 0;return B.getCredentialOwnerName(e)})),ht=n((()=>Be.value?`${Qe}${Be.value.name}`:"")),ft=n((()=>{if(!Ce.value)return!1;const e=f.outgoingConnectionsByNodeName(Ce.value.name);return(Object.values(e)?.[0]?.[0]??[]).length>0})),_t=e=>{let t;t=e.hasOwnProperty("value")?e.value:(0,oa.default)(p.value,e.name);const a=e.node||Ce.value?.name;if(!a)return;const n=f.getNodeByName(a);if(null!==n)if("name"===e.name)c("valueChanged",{value:t,oldValue:a,name:e.name});else if("parameters"===e.name){const a=m.getNodeType(n.type,n.typeVersion);if(!a)return;let o=Re(a.properties,n.parameters,!1,!1,n,a);const s=Object.assign({},o);if(o=Me(o),e.value&&"object"==typeof e.value)for(const[l,i]of Object.entries(e.value)){t=i;const e=R.updateParameterByPath(l,t,o,a,n.typeVersion);j.run("nodeSettings.valueChanged",{parameterPath:e,newValue:t,parameters:Je.value,oldNodeParameters:s})}o=Re(a.properties,o,!0,!1,n,a);for(const e of Object.keys(o))null!=o?.[e]&&R.setValue(p,`parameters.${e}`,o[e]);if(o){const e={name:n.name,value:o};z.setNodeParameters(e),E.updateNodeParameterIssuesByName(n.name),E.updateNodeCredentialIssuesByName(n.name)}}else if(ze(e))R.updateNodeParameter(p,e,t,n,De.value);else{p.value={...p.value,[e.name]:t};const a={name:n.name,key:e.name,value:t};z.setNodeValue(a)}},xt=e=>{try{_t({node:Ce.value?.name,name:"parameters",value:e})}catch{}},kt=e=>{c("switchSelectedNode",e)},Tt=(e,t,a=0)=>{c("openConnectionNodeCreator",e,t,a)},wt=n((()=>Se(De.value,A.baseText.bind(A)))),Nt=n((()=>tt(Be.value??Ce.value?.type,Ce.value??null))),Wt=e=>{Y.value=Y.value.filter((t=>t!==e))},St=()=>{Y.value=[],c("activate")},Ut=()=>{Y.value=[],Z.value?.showNodeInputsIssues(),c("execute")},Bt=e=>{z.updateNodeProperties(e);const t=f.getNodeByName(e.name);t&&E.updateNodeCredentialIssues(t),j.run("nodeSettings.credentialSelected",{updateInformation:e})},It=e=>{Ce.value&&V.pushCommandToUndo(new fe(Ce.value.name,e,Date.now())),_t({value:e,name:"name"})},Vt=()=>{Ce.value?(null!==Be.value?(G.value=!0,p.value=$e(Ce.value,wt.value)):G.value=!1,X.value=!0):X.value=!0},Mt=()=>{c("stopExecution")},Et=()=>{J.value="settings"},jt=e=>{J.value=e},Dt=()=>{window.open(ht.value,"_blank"),Ce.value&&M.track("User clicked ndv link",{node_type:Ce.value.type,workflow_id:f.workflowId,push_ref:a.pushRef,pane:Fe.Main,type:"i-wish-this-node-would"})};function At(e){return void 0===e.displayOptions||!!Ce.value&&E.displayParameter(Ce.value.parameters,e,"",Ce.value)}function Pt(e){for(const[t,a]of Object.entries(e))_t({name:`parameters.${t}`,value:a});!Ye.value||Ie.value?Xe.value.params.length>0&&jt("params"):jt("credential")}return y(Ce,(()=>{Vt()})),g((async()=>{Ce.value&&f.isNodePristine(Ce.value.name)&&(Y.value.push("credentials"),Xe.value.params.forEach((e=>{Y.value.push(e.name)})),f.setNodePristine(Ce.value.name,!1)),Vt(),a.eventBus?.on("openSettings",Et),null!==Ce.value&&E.updateNodeParameterIssues(Ce.value,Be.value),ce.on("setHttpNodeParameters",xt),et.on("updateParameterValue",_t)})),r((()=>{a.eventBus?.off("openSettings",Et),ce.off("setHttpNodeParameters",xt),et.off("updateParameterValue",_t)})),(t,n)=>(x(),s("div",{class:S({"node-settings":!0,dragging:e.dragging,embedded:a.isEmbeddedInCanvas}),"data-has-output-connection":ft.value,onKeydown:n[2]||(n[2]=k((()=>{}),["stop"]))},[e.isEmbeddedInCanvas&&Ce.value?(x(),v(Kt,{key:0,node:Ce.value,"selected-tab":J.value,"read-only":e.readOnly,"node-type":Be.value,"push-ref":e.pushRef,"sub-title":e.subTitle,"extra-tabs-class-name":e.extraTabsClassName,"include-action":Xe.value.action.length>0,"include-credential":Ye.value,"has-credential-issue":!i(Ie),onNameChanged:It,onTabChanged:jt,onDblclickTitle:n[0]||(n[0]=e=>c("dblclickHeader",e))},{actions:_((()=>[h(t.$slots,"actions",{},void 0,!0)])),_:3},8,["node","selected-tab","read-only","node-type","push-ref","sub-title","extra-tabs-class-name","include-action","include-credential","has-credential-issue"])):e.isNdvV2?Ce.value&&G.value?(x(),v(zt,{key:2,"selected-tab":J.value,"node-name":Ce.value.name,"node-type":Be.value,"execute-button-tooltip":Le.value,"hide-execute":a.hideExecute||!Pe.value||e.blockUI||!Ce.value||!G.value,"disable-execute":pt.value.enabled&&!je.value,"hide-tabs":!G.value,"hide-docs":a.hideDocs,"push-ref":e.pushRef,onExecute:Ut,onStopExecution:Mt,onValueChanged:_t,onTabChanged:jt},null,8,["selected-tab","node-name","node-type","execute-button-tooltip","hide-execute","disable-execute","hide-tabs","hide-docs","push-ref"])):l("",!0):(x(),s("div",{key:1,class:S(t.$style.header)},[$("div",la,[Ce.value?(x(),v(na,{key:0,class:"node-name","model-value":Ce.value.name,"icon-source":Nt.value,"read-only":xe.value,"node-type":Be.value,"onUpdate:modelValue":It},null,8,["model-value","icon-source","read-only","node-type"])):l("",!0),Pe.value&&!e.blockUI&&Ce.value&&G.value?(x(),v(ut,{key:1,"data-test-id":"node-execute-button","node-name":Ce.value.name,disabled:pt.value.enabled&&!je.value,tooltip:Le.value,size:"small","telemetry-source":"parameters",onExecute:Ut,onStopExecution:Mt,onValueChanged:_t},null,8,["node-name","disabled","tooltip"])):l("",!0)]),Ce.value&&G.value?(x(),v($t,{key:0,"model-value":J.value,"node-type":Be.value,"push-ref":e.pushRef,"onUpdate:modelValue":jt},null,8,["model-value","node-type","push-ref"])):l("",!0)],2)),Ce.value&&!G.value?(x(),v(Yt,{key:3,node:Ce.value,"preview-mode":de.value},null,8,["node","preview-mode"])):l("",!0),Ce.value&&G.value?(x(),s("div",{key:4,ref_key:"nodeParameterWrapper",ref:q,class:S(["node-parameters-wrapper",F.value?"with-static-scrollbar":"",{"ndv-v2":e.isNdvV2},e.extraParameterWrapperClassName??""]),"data-test-id":"node-parameters",onWheelCapture:n[1]||(n[1]=e=>c("captureWheelBody",e))},[ve.value&&!ye.value?(x(),v(i(L),{key:0,content:i(A).baseText("nodeSettings.hasForeignCredential",{interpolate:{owner:bt.value}})},null,8,["content"])):l("",!0),u(yt),u(ta),"action"===J.value?(x(),v(Ft,{key:1,class:"action-tab",node:Ce.value,onActionSelected:Pt},null,8,["node"])):l("",!0),"credential"===J.value?(x(),v(ke,{key:2,node:Ce.value,readonly:xe.value,"show-all":!0,"hide-issues":Y.value.includes("credentials"),onCredentialSelected:Bt,onValueChanged:_t,onBlur:Wt},null,8,["node","readonly","hide-issues"])):l("",!0),U($("div",null,[u(qt,{node:Ce.value,"node-type-description":Be.value},null,8,["node","node-type-description"]),X.value?(x(),v(Ue,{key:0,parameters:Xe.value.params,"hide-delete":!0,"node-values":p.value,"is-read-only":xe.value,"hidden-issues-inputs":Y.value,path:"parameters",node:a.activeNode,onValueChanged:_t,onActivate:St,onParameterBlur:Wt},{default:_((()=>[lt.value?(x(),v(dt,{key:0,text:ot.value?.text??"",class:S(t.$style.quickConnectBanner)},null,8,["text","class"])):l("",!0),e.isEmbeddedInCanvas||de.value?l("",!0):(x(),v(ke,{key:1,node:Ce.value,readonly:xe.value,"show-all":!0,"hide-issues":Y.value.includes("credentials"),onCredentialSelected:Bt,onValueChanged:_t,onBlur:Wt},null,8,["node","readonly","hide-issues"]))])),_:1},8,["parameters","node-values","is-read-only","hidden-issues-inputs","node"])):l("",!0),ct.value?(x(),s("div",ia,[u(i(Q),null,{default:_((()=>[w(o(i(A).baseText("nodeSettings.thisNodeDoesNotHaveAnyParameters")),1)])),_:1})])):l("",!0),i(E).isCustomApiCallSelected(p.value)?(x(),s("div",da,[u(i(L),{content:i(A).baseText("nodeSettings.useTheHttpRequestNode",{interpolate:{nodeTypeDisplayName:Be.value?.displayName??""}})},null,8,["content"])])):l("",!0)],512),[[C,"params"===J.value]]),U($("div",null,[i(Ee)&&i(Ve)?.updateAvailable?(x(),v(st,{key:0,"data-test-id":"update-available","package-name":mt.value,style:{"margin-top":"var(--spacing--sm)"},source:"node settings"},null,8,["package-name"])):l("",!0),u(Ue,{parameters:Xe.value.settings,"node-values":p.value,"is-read-only":xe.value,"hide-delete":!0,"hidden-issues-inputs":Y.value,path:"parameters",onValueChanged:_t,onParameterBlur:Wt},null,8,["parameters","node-values","is-read-only","hidden-issues-inputs"]),u(Ue,{parameters:wt.value,"hide-delete":!0,"node-values":p.value,"is-read-only":xe.value,"hidden-issues-inputs":Y.value,path:"",onValueChanged:_t,onParameterBlur:Wt},null,8,["parameters","node-values","is-read-only","hidden-issues-inputs"]),$("div",ra,[w(o(i(A).baseText("nodeSettings.nodeVersion",{interpolate:{node:Be.value?.displayName,version:(Ce.value.typeVersion??He.value).toString()}}))+" ",1),$("span",null,"("+o(Ge.value)+")",1)])],512),[[C,"settings"===J.value]]),e.isNdvV2&&ht.value&&!e.isEmbeddedInCanvas?(x(),s("div",{key:3,class:S(t.$style.featureRequest)},[$("a",{target:"_blank",onClick:Dt},[u(i(K),{icon:"lightbulb"}),w(" "+o(i(A).baseText("ndv.featureRequest")),1)])],2)):l("",!0)],34)):l("",!0),Ce.value&&!e.hideSubConnections?(x(),v(Ct,{key:5,ref_key:"subConnections",ref:Z,"root-node":Ce.value,onSwitchSelectedNode:kt,onOpenConnectionNodeCreator:Tt},null,8,["root-node"])):l("",!0),u(i(O),{show:e.blockUI,class:S({[t.$style.uiBlockerNdvV2]:e.isNdvV2})},null,8,["show","class"]),"settings"===J.value&&vt.value?(x(),v(it,{key:6,"package-name":mt.value,"show-manage":i(be)().isInstanceOwner},null,8,["package-name","show-manage"])):l("",!0)],42,sa))}}),e("t",Z(ca,[["__cssModules",{$style:{header:"_header_17oyk_125",featureRequest:"_featureRequest_17oyk_129",quickConnectBanner:"_quickConnectBanner_17oyk_143",uiBlockerNdvV2:"_uiBlockerNdvV2_17oyk_147"}}],["__scopeId","data-v-9bbda0c2"]]))}}}));
//# sourceMappingURL=NodeSettings-legacy-lAEmS_aB.js.map