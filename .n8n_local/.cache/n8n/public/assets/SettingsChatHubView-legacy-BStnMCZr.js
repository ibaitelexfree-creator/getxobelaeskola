!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./CredentialIcon-legacy-CaQiQjuK.js","./TimeAgo-legacy-B4YnT5IQ.js","./constants-legacy-CLWGezV2.js","./chat.store-legacy-BiASMOEd.js"],(function(e,t){var a,s,i,n,l,o,d,r,c,u,g,b,p,y,_,h,v,m,f,w,x,T,C,j,k,z,H,M,P,$,q,A,E,I,S,D,N,O,R,L,B,F;return{setters:[function(e){a=e.C,s=e.Cn,i=e.D,n=e.E,l=e.Gt,o=e.It,d=e.M,r=e.P,c=e.T,u=e.Z,g=e.bt,b=e.et,p=e.j,y=e.vn,_=e.w},function(e){h=e.yt},function(e){v=e.Et,m=e.Hi,f=e.Oi,w=e.Pi,x=e.Tt,T=e.Vi,C=e.p,j=e.zi},function(e){k=e.t},function(e){},function(e){z=e.Lt,H=e.fn,M=e.r,P=e.rt,$=e.t,q=e.ws,A=e.yr},function(e){E=e.oi},function(e){},function(e){},function(e){},function(e){},function(e){I=e.t},function(e){S=e.t},function(e){D=e.o,N=e.y},function(e){O=e.t}],execute:function(){(R=document.createElement("style")).textContent="._container_qsz2g_125{margin-top:var(--spacing--sm);margin-bottom:var(--spacing--xl)}._tableContainer_qsz2g_130 .table-pagination{display:none}._actions_qsz2g_134{align-items:center;gap:var(--spacing--xs);display:flex}._header_qsz2g_140{margin-bottom:var(--spacing--sm);justify-content:space-between;align-items:center;display:flex}._chatProvidersTable_qsz2g_147 tr:last-child{border-bottom:none!important}._menuIcon_qsz2g_151{flex-shrink:0}._providerCell_qsz2g_155{align-items:center;gap:var(--spacing--xs);display:flex}._container_sw5ac_125{gap:var(--spacing--lg);flex-direction:column;display:flex}._title_sw5ac_131{margin-bottom:var(--spacing--sm)}\n/*$vite$:1*/",document.head.appendChild(R);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(V=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[V]="7ab4ca4b-3183-4bb4-a101-9b967bba012c",t._sentryDebugIdIdentifier="sentry-dbid-7ab4ca4b-3183-4bb4-a101-9b967bba012c")}catch(t){}var t,V;L={key:0},B=r({__name:"ChatProvidersTable",props:{settings:{},loading:{type:Boolean},disabled:{type:Boolean}},emits:["editProvider","refresh"],setup(e,{emit:t}){const r=e,u=t,k=h(),z=o([{title:k.baseText("settings.chatHub.providers.table.provider"),key:"provider",width:120,disableSort:!0,value(){}},{title:k.baseText("settings.chatHub.providers.table.models"),key:"models",width:300,disableSort:!0,value(){}},{title:k.baseText("settings.chatHub.providers.table.updatedAt"),key:"updatedAt",disableSort:!0,width:80,value(){}},{title:"",key:"actions",align:"end",width:50,disableSort:!0,value(){}}]),H=a((()=>[{label:k.baseText("settings.chatHub.providers.table.action.editProvider"),value:"editProvider",disabled:r.disabled}])),M=a((()=>r.settings?Object.values(r.settings):[])),P=e=>e.enabled?0===e.allowedModels.length?k.baseText("settings.chatHub.providers.table.models.allModels"):e.allowedModels.length>4?e.allowedModels.slice(0,4).map((e=>e.displayName)).join(", ")+k.baseText("settings.chatHub.providers.table.models.more",{interpolate:{count:e.allowedModels.length-4}}):e.allowedModels.map((e=>e.displayName)).join(", "):k.baseText("settings.chatHub.providers.table.models.disabled");return(e,t)=>(b(),i("div",{class:y(e.$style.tableContainer)},[r.loading?(b(),i("div",L,[d(l(v),{loading:r.loading,variant:"h1",class:y(e.$style.header)},null,8,["loading","class"]),d(l(v),{loading:r.loading,variant:"p",rows:5,"shrink-last":!1},null,8,["loading"])])):(b(),i("div",{key:1,class:y(e.$style.container)},[_("div",{class:y(e.$style.header)},[d(l(j),{size:"medium",bold:!0},{default:g((()=>[p(s(l(k).baseText("settings.chatHub.providers.table.title")),1)])),_:1}),_("div",{class:y(e.$style.actions)},[d(l(f),{content:l(k).baseText("settings.chatHub.providers.table.refresh.tooltip")},{default:g((()=>[d(l(m),{variant:"subtle",iconOnly:"",size:"small",icon:"refresh-cw",onClick:t[0]||(t[0]=t=>e.$emit("refresh"))})])),_:1},8,["content"])],2)],2),r.settings?(b(),c(l(C),{key:1,class:y(e.$style.chatProvidersTable),headers:z.value,items:M.value,"items-length":M.value.length},{"item.provider":g((({item:t})=>[_("div",{class:y(e.$style.providerCell)},[t.provider in l(E)?(b(),c(I,{key:0,"credential-type-name":l(E)[t.provider],size:16,class:y(e.$style.menuIcon)},null,8,["credential-type-name","class"])):n("",!0),d(l(T),{bold:""},{default:g((()=>[p(s(l(N)[t.provider]),1)])),_:2},1024)],2)])),"item.models":g((({item:e})=>[e.allowedModels?.length&&e.allowedModels?.length>4?(b(),c(l(f),{key:0,content:e.allowedModels?.map((e=>e.displayName)).join(", ")},{default:g((()=>[d(l(T),{color:e.enabled?"text-base":"primary"},{default:g((()=>[p(s(P(e)),1)])),_:2},1032,["color"])])),_:2},1032,["content"])):(b(),c(l(T),{key:1,color:e.enabled?"text-base":"primary"},{default:g((()=>[p(s(P(e)),1)])),_:2},1032,["color"]))])),"item.updatedAt":g((({item:e})=>[_("span",null,[e.updatedAt?(b(),c(S,{key:0,date:e.updatedAt},null,8,["date"])):(b(),c(l(T),{key:1},{default:g((()=>[...t[1]||(t[1]=[p("-",-1)])])),_:1}))])])),"item.actions":g((({item:e})=>[d(l(x),{placement:"bottom",actions:H.value,theme:"dark",onAction:t=>{return a=e,void("editProvider"===t&&u("editProvider",a));var a}},null,8,["actions","onAction"])])),_:2},1032,["class","headers","items","items-length"])):(b(),c(l(w),{key:0,heading:l(k).baseText("settings.chatHub.providers.table.empty.title"),description:l(k).baseText("settings.chatHub.providers.table.empty.description")},null,8,["heading","description"]))],2))],2))}}),F=k(B,[["__cssModules",{$style:{container:"_container_qsz2g_125",tableContainer:"_tableContainer_qsz2g_130",actions:"_actions_qsz2g_134",header:"_header_qsz2g_140",chatProvidersTable:"_chatProvidersTable_qsz2g_147",menuIcon:"_menuIcon_qsz2g_151",providerCell:"_providerCell_qsz2g_155"}}]]),e("default",k(r({__name:"SettingsChatHubView",setup(e){const t=h(),n=A(),o=H(),r=O(),c=$(),v=q(),m=P(),f=M(),w=z(),x=a((()=>c.isInstanceOwner)),T=a((()=>c.isAdmin)),C=a((()=>!x.value&&!T.value)),k=async()=>{try{await r.fetchAllChatSettings()}catch(e){n.showError(e,t.baseText("settings.chatHub.providers.fetching.error"))}};function I(e){f.openModalWithData({name:D,data:{provider:e.provider,disabled:C.value,onNewCredential:e=>{const t=E[e];w.track("User opened Credential modal",{credential_type:t,source:"chat_hub_settings",new_credential:!0,workflow_id:null}),f.openNewCredential(t)},onConfirm:async e=>{try{await r.updateProviderSettings(e),n.showMessage({title:t.baseText("settings.chatHub.providers.updated.success"),type:"success"}),await v.getModuleSettings()}catch(a){n.showError(a,t.baseText("settings.chatHub.providers.updated.error"))}},onCancel:()=>{}}})}async function S(){await k()}return u((async()=>{o.set(t.baseText("settings.chatHub")),v.isChatFeatureEnabled&&await Promise.all([k(),m.fetchAllCredentials(),m.fetchCredentialTypes(!1)])})),(e,a)=>(b(),i("div",{class:y(e.$style.container)},[d(l(j),{size:"2xlarge",class:y(e.$style.title)},{default:g((()=>[p(s(l(t).baseText("settings.chatHub")),1)])),_:1},8,["class"]),_("div",{class:y(e.$style.container)},[d(F,{"data-test-id":"chat-providers-table",settings:l(r).settings,loading:l(r).settingsLoading,disabled:C.value,onEditProvider:I,onRefresh:S},null,8,["settings","loading","disabled"])],2)],2))}}),[["__cssModules",{$style:{container:"_container_sw5ac_125",title:"_title_sw5ac_131"}}]]))}}}));
//# sourceMappingURL=SettingsChatHubView-legacy-BStnMCZr.js.map