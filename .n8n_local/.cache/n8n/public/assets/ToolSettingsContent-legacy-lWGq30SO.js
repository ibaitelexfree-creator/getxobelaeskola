!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./users.store-legacy-B-bVJKl3.js","./ParameterInputList-legacy-B-cVfigK.js","./constants-legacy-DVkAm8xO.js"],(function(e,a){var t,n,l,s,o,r,u,i,d,v,p,c,m,f,g,y,h,b,_,w,C,N,x,T,j,$,k,P,I,E,V,S,D,A,O,H,M,R,B,F,G,K,L,U;return{setters:[function(e){t=e.C,n=e.Cn,l=e.D,s=e.E,o=e.Gt,r=e.It,u=e.J,i=e.M,d=e.P,v=e.T,p=e.Z,c=e._t,m=e.bt,f=e.et,g=e.j,y=e.nt,h=e.p,b=e.vn,_=e.w,w=e.xt,C=e.zt},function(e){N=e.yt},function(e){x=e.Vi,T=e.j},function(e){j=e.t},function(e){$=e.C,k=e.Gt,P=e.It,I=e.Pt,E=e.rt},function(e){V=e.O,S=e.f,D=e.m,A=e.t,O=e.x},function(e){H=e.Ha,M=e.Oi,R=e.Ta,B=e.bc,F=e.fa,G=e.pa,K=e.xc,L=e.ya}],execute:function(){(U=document.createElement("style")).textContent="._container_rha2t_125{flex-direction:column;flex:1;min-height:0;display:flex;overflow:hidden}._tabs_rha2t_133{margin-bottom:var(--spacing--xs);padding-right:var(--spacing--lg);flex-shrink:0}._tabContent_rha2t_139{min-height:0;padding-right:var(--spacing--lg);flex:1;overflow-y:auto}._noParameters_rha2t_146{margin-top:var(--spacing--xs)}\n/*$vite$:1*/",document.head.appendChild(U);try{a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(W=(new a.Error).stack)&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[W]="44d3dcbf-6bb6-4468-8b3d-5955576d6a13",a._sentryDebugIdIdentifier="sentry-dbid-44d3dcbf-6bb6-4468-8b3d-5955576d6a13")}catch(a){}var a,W;e("t",j(d({__name:"ToolSettingsContent",props:{initialNode:{},existingToolNames:{}},emits:["update:valid","update:node-name"],setup(e,{expose:a,emit:d}){const j=e,U=d,W=N(),z=$(),J=E(),Y=k(),Z=P(),q=I(),Q=C(j.initialNode),X=r(!1),ee=t((()=>j.existingToolNames??[])),ae=t((()=>j.initialNode?z.getNodeType(j.initialNode.type):null)),te=r("params"),ne=t((()=>S(ae.value?.properties??[],!1))),le=t((()=>oe.value.length>0||ne.value.settings.length>0)),se=t((()=>{const e=[{label:W.baseText("nodeSettings.parameters"),value:"params"}];return le.value&&e.push({label:W.baseText("nodeSettings.settings"),value:"settings"}),e})),oe=t((()=>D(!0,W.baseText.bind(W)).filter((e=>"notes"!==e.name&&"notesInFlow"!==e.name)))),re=t((()=>Q.value?{parameters:H(Q.value.parameters)}:{parameters:{}})),ue=t((()=>0===ne.value.params.filter((e=>"notice"!==e.type)).length)),ie=t((()=>{if(!ae.value||!Q.value)return!1;const e=G(ae.value.properties,Q.value,ae.value);return null!==e&&Object.keys(e.parameters??{}).length>0})),de=t((()=>{if(!ae.value||!Q.value)return!1;const e=Z.getNodeIssues(ae.value,Q.value,{getNode:()=>Q.value},["parameters","execution","typeUnknown","input"]);return Object.keys(e?.credentials??{}).length>0})),ve=t((()=>{if(!Q.value)return;const e=new M({id:"chat-tool-workflow",name:"Tool Configuration",nodes:[Q.value],connections:{},active:!1,nodeTypes:{getByName(e){const a=z.getNodeType(e);if(null===a)throw new Error(`Node type "${e}" not found`);return{description:a}},getByNameAndVersion(e,a){const t=z.getNodeType(e,a);if(null===t)throw new Error(`Node type "${e}" (v${a}) not found`);return{description:t}},getKnownTypes:()=>({})},settings:{}});return{localResolve:!0,envVars:q.variablesAsObject,workflow:e,execution:null,nodeName:Q.value.name,additionalKeys:{},connections:{},inputNode:void 0}})),pe=t((()=>Q.value?.name&&!ie.value&&!de.value));function ce(e,a){if(!a.includes(e))return e;let t=1;for(;a.includes(`${e} (${t})`);)t++;return`${e} (${t})`}function me(e){if(!Q.value)return;const a=H(Q.value.parameters);O(a,e.name,e.value),Q.value={...Q.value,parameters:a}}function fe(e){if(Q.value)if(e.name.startsWith("parameters.")){const a=e.name.slice(11),t=H(Q.value.parameters);O(t,a,e.value),Q.value={...Q.value,parameters:t}}else Q.value={...Q.value,[e.name]:e.value}}function ge(e){Q.value&&(Q.value={...Q.value,...e.properties})}return y(K,ve),y(B,!0),c((()=>j.initialNode),(e=>{if(e){const a=ce(e.name,ee.value);let t=a!==e.name?{...e,name:a}:e;if(ae.value){const e=F(ae.value.properties??[],t.parameters??{},!0,!1,t,ae.value);t={...t,parameters:e??{}};const a=t.name.replace(/ \(\d+\)$/,"");if(X.value=!(L(a,ae.value,t.parameters)||a===ae.value.displayName),!X.value){const e=R(t.parameters??{},ae.value);e&&e!==a&&(t={...t,name:ce(e,ee.value)})}}Q.value=t}else Q.value=e,X.value=!1}),{immediate:!0}),c((()=>[Q.value?.parameters?.resource,Q.value?.parameters?.operation]),(()=>{if(X.value||!Q.value||!ae.value)return;const e=R(Q.value.parameters,ae.value);if(e){const a=ce(e,ee.value);a!==Q.value.name&&(Q.value={...Q.value,name:a})}})),c(pe,(e=>{U("update:valid",!!e)})),c((()=>Q.value?.name),(e=>{e&&U("update:node-name",e)})),p((async()=>{U("update:valid",!!pe.value),Q.value?.name&&U("update:node-name",Q.value.name);const e=Y.personalProject;e&&(Y.setCurrentProject(e),0===J.allCredentials.length&&await Promise.all([J.fetchCredentialTypes(!1),J.fetchAllCredentialsForWorkflow({projectId:e.id})]))})),u((()=>{Y.setCurrentProject(null)})),a({node:Q,isValid:pe,nodeTypeDescription:ae,handleChangeName:function(e){Q.value&&(X.value=!0,Q.value={...Q.value,name:e})}}),(e,a)=>(f(),l("div",{class:b(e.$style.container)},[se.value.length>1?(f(),v(o(T),{key:0,"model-value":te.value,options:se.value,class:b(e.$style.tabs),"onUpdate:modelValue":a[0]||(a[0]=e=>te.value=e)},null,8,["model-value","options","class"])):s("",!0),_("div",{class:b(e.$style.tabContent)},[w(_("div",null,[Q.value?(f(),v(A,{key:0,parameters:ne.value.params,"hide-delete":!0,"node-values":Q.value.parameters,"is-read-only":!1,node:Q.value,onValueChanged:me},{default:m((()=>[i(V,{node:Q.value,readonly:!1,"show-all":!0,"hide-issues":!1,onCredentialSelected:ge,onValueChanged:me},null,8,["node"])])),_:1},8,["parameters","node-values","node"])):s("",!0),ue.value?(f(),l("div",{key:1,class:b(e.$style.noParameters)},[i(o(x),null,{default:m((()=>[g(n(o(W).baseText("nodeSettings.thisNodeDoesNotHaveAnyParameters")),1)])),_:1})],2)):s("",!0)],512),[[h,"params"===te.value]]),w(_("div",null,[Q.value&&ne.value.settings.length>0?(f(),v(A,{key:0,parameters:ne.value.settings,"node-values":re.value,"is-read-only":!1,"hide-delete":!0,path:"parameters",node:Q.value,onValueChanged:fe},null,8,["parameters","node-values","node"])):s("",!0),Q.value?(f(),v(A,{key:1,parameters:oe.value,"hide-delete":!0,"node-values":re.value,"is-read-only":!1,path:"",node:Q.value,onValueChanged:fe},null,8,["parameters","node-values","node"])):s("",!0)],512),[[h,"settings"===te.value]])],2)],2))}}),[["__cssModules",{$style:{container:"_container_rha2t_125",tabs:"_tabs_rha2t_133",tabContent:"_tabContent_rha2t_139",noParameters:"_noParameters_rha2t_146"}}]]))}}}));
//# sourceMappingURL=ToolSettingsContent-legacy-lWGq30SO.js.map