(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`b9ea2c6c-2172-4b6b-a496-d25829d7f14b`,e._sentryDebugIdIdentifier=`sentry-dbid-b9ea2c6c-2172-4b6b-a496-d25829d7f14b`)})()}catch{}import{C as e,Cn as t,D as n,E as r,Gt as i,It as a,J as o,M as s,P as c,T as l,Z as u,_ as d,bt as f,et as p,h as m,it as h,j as g,vn as _,w as v}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as y}from"./_MapCache-DjbOQyB7.js";import{Et as b,Hi as x,Ui as S,Vi as C,zi as w}from"./src-CppJvwzX.js";import{t as T}from"./_plugin-vue_export-helper-B_J4Khre.js";import{$i as E,Ai as D}from"./users.store-pCkD7Zo0.js";import{t as O}from"./NodeIcon-Dv1e4Lvu.js";import{t as k}from"./TimeAgo-BLqTSlco.js";var A=T(c({__name:`NodeList`,props:{nodes:{},limit:{default:4},size:{default:`sm`}},setup(i){let a=i,o=e(()=>D(a.nodes)),c=e(()=>o.value.length-u(o.value)),l=e(()=>o.value.slice(0,u(o.value))),u=e=>e.length>a.limit?a.limit-1:a.limit;return(e,a)=>(p(),n(`div`,{class:_(e.$style.list)},[(p(!0),n(d,null,h(l.value,t=>(p(),n(`div`,{key:t.name,class:_([e.$style.container,e.$style[i.size]])},[s(O,{"node-type":t,size:i.size===`md`?24:18,"show-tooltip":!0},null,8,[`node-type`,`size`])],2))),128)),o.value.length>i.limit+1?(p(),n(`div`,{key:0,class:_([e.$style.button,i.size===`md`?e.$style.buttonMd:e.$style.buttonSm])},` +`+t(c.value),3)):r(``,!0)],2))}}),[[`__cssModules`,{$style:{list:`_list_1uohu_125`,container:`_container_1uohu_133`,sm:`_sm_1uohu_138`,md:`_md_1uohu_142`,button:`_button_1uohu_146`,buttonSm:`_buttonSm_1uohu_160`,buttonMd:`_buttonMd_1uohu_167`}}]]),j={key:1},M={key:0},N=5,P=T(c({__name:`TemplateCard`,props:{workflow:{},lastItem:{type:Boolean,default:!1},firstItem:{type:Boolean,default:!1},useWorkflowButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},simpleView:{type:Boolean,default:!1}},emits:[`useWorkflow`,`click`],setup(e,{emit:a}){let o=y(),c=a;function u(e){c(`useWorkflow`,e)}function d(e){c(`click`,e)}return(a,c)=>(p(),n(`div`,{class:_([a.$style.card,e.lastItem&&a.$style.last,e.firstItem&&a.$style.first,!e.loading&&a.$style.loaded]),"data-test-id":`template-card`,onClick:d},[e.loading?(p(),n(`div`,{key:0,class:_(a.$style.loading)},[s(i(b),{rows:2,"shrink-last":!1,loading:e.loading},null,8,[`loading`])],2)):e.workflow?(p(),n(`div`,j,[s(i(w),{bold:!0,size:`small`},{default:f(()=>[g(t(e.workflow.name),1)]),_:1}),e.simpleView?r(``,!0):(p(),n(`div`,{key:0,class:_(a.$style.content)},[e.workflow.totalViews?(p(),n(`span`,M,[s(i(C),{size:`small`,color:`text-light`},{default:f(()=>[s(i(S),{icon:`eye`,size:`xsmall`}),g(` `+t(i(E)(e.workflow.totalViews)),1)]),_:1})])):r(``,!0),e.workflow.totalViews?(p(),n(`div`,{key:1,class:_(a.$style.line),textContent:`|`},null,2)):r(``,!0),s(i(C),{size:`small`,color:`text-light`},{default:f(()=>[s(k,{date:e.workflow.createdAt},null,8,[`date`])]),_:1}),e.workflow.user?(p(),n(`div`,{key:2,class:_(a.$style.line),textContent:`|`},null,2)):r(``,!0),e.workflow.user?(p(),l(i(C),{key:3,size:`small`,color:`text-light`},{default:f(()=>[g(t(i(o).baseText(`template.byAuthor`,{interpolate:{name:e.workflow.user.username}})),1)]),_:1})):r(``,!0)],2))])):r(``,!0),!e.loading&&e.workflow?(p(),n(`div`,{key:2,class:_([a.$style.nodesContainer,e.useWorkflowButton&&a.$style.hideOnHover])},[e.workflow.nodes?(p(),l(A,{key:0,nodes:e.workflow.nodes,limit:N,size:`md`},null,8,[`nodes`])):r(``,!0)],2)):r(``,!0),e.useWorkflowButton?(p(),n(`div`,{key:3,class:_(a.$style.buttonContainer)},[e.useWorkflowButton?(p(),l(i(x),{key:0,variant:`outline`,label:`Use workflow`,"data-test-id":`use-workflow-button`,onClick:m(u,[`stop`])})):r(``,!0)],2)):r(``,!0)],2))}}),[[`__cssModules`,{$style:{nodes:`_nodes_1s7e9_125`,icon:`_icon_1s7e9_132`,card:`_card_1s7e9_136`,hideOnHover:`_hideOnHover_1s7e9_148`,buttonContainer:`_buttonContainer_1s7e9_151`,loaded:`_loaded_1s7e9_162`,first:`_first_1s7e9_166`,last:`_last_1s7e9_172`,content:`_content_1s7e9_177`,line:`_line_1s7e9_182`,loading:`_loading_1s7e9_188`,nodesContainer:`_nodesContainer_1s7e9_193`}}]]),F={key:0,"data-test-id":`template-count-label`},I=[`textContent`],L={key:1,"data-test-id":`templates-loading-container`},R=T(c({__name:`TemplateList`,props:{workflows:{default:()=>[]},infiniteScrollEnabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},useWorkflowButton:{type:Boolean,default:!1},totalWorkflows:{default:0},simpleView:{type:Boolean,default:!1},totalCount:{default:0}},emits:[`loadMore`,`openTemplate`,`useWorkflow`],setup(e,{emit:c}){let m=c,b=e,x=y(),S=a(null);u(()=>{if(b.infiniteScrollEnabled){let e=document.getElementById(`content`);e&&e.addEventListener(`scroll`,C)}}),o(()=>{let e=document.getElementById(`content`);e&&e.removeEventListener(`scroll`,C)});function C(){let e=S.value;if(!e||b.loading)return;let t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)&&m(`loadMore`)}function T(e,t){m(`openTemplate`,{event:e,id:t})}function E(e,t){m(`useWorkflow`,{event:e,id:t})}return(a,o)=>e.loading||e.workflows.length?(p(),n(`div`,{key:0,class:_(a.$style.list)},[e.simpleView?r(``,!0):(p(),n(`div`,{key:0,class:_(a.$style.header)},[s(i(w),{bold:!0,size:`medium`,color:`text-light`},{default:f(()=>[g(t(i(x).baseText(`templates.workflows`))+` `,1),e.totalCount>0?(p(),n(`span`,F,`(`+t(e.totalCount)+`)`,1)):r(``,!0),!e.loading&&e.totalWorkflows?(p(),n(`span`,{key:1,textContent:t(`(${e.totalWorkflows})`)},null,8,I)):r(``,!0)]),_:1})],2)),v(`div`,{class:_(a.$style.container)},[(p(!0),n(d,null,h(e.workflows,(t,n)=>(p(),l(P,{key:t.id,workflow:t,"first-item":n===0,"simple-view":e.simpleView,"last-item":n===e.workflows.length-1&&!e.loading,"use-workflow-button":e.useWorkflowButton,onClick:e=>T(e,t.id),onUseWorkflow:e=>E(e,t.id)},null,8,[`workflow`,`first-item`,`simple-view`,`last-item`,`use-workflow-button`,`onClick`,`onUseWorkflow`]))),128)),e.infiniteScrollEnabled?(p(),n(`div`,{key:0,ref_key:`loader`,ref:S},null,512)):r(``,!0),e.loading?(p(),n(`div`,L,[(p(),n(d,null,h(4,t=>s(P,{key:`index-`+t,loading:!0,"first-item":e.workflows.length===0&&t===1,"last-item":t===4},null,8,[`first-item`,`last-item`])),64))])):r(``,!0)],2)],2)):r(``,!0)}}),[[`__cssModules`,{$style:{header:`_header_1tbk0_125`,workflowButton:`_workflowButton_1tbk0_129`,button:`_button_1tbk0_129`,nodes:`_nodes_1tbk0_132`}}]]);export{A as n,R as t};
//# sourceMappingURL=TemplateList-DWe5QI38.js.map