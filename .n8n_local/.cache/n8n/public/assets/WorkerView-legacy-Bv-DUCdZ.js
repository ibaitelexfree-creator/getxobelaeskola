!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./banners.store-legacy-B3TV_6lC.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./useClipboard-legacy-CaRHRTup.js","./executions.store-legacy-OEeCPZk_.js","./assistant.store-legacy-5vR0xJ8p.js","./usePinnedData-legacy-B5CI71uf.js","./nodeIcon-legacy-KJSlWBN7.js","./canvas.utils-legacy-BQnUeqx3.js","./nodeCreator.store-legacy-i0crt2uh.js","./useCanvasOperations-legacy-CEMGNuuE.js","./folders.store-legacy-BDfX2wrH.js","./useRunWorkflow-legacy-4stFR283.js","./pushConnection.store-legacy-C36NF7Lj.js","./sortByProperty-legacy-BPd5tPZW.js","./readyToRun.store-legacy-CKgcGLoh.js","./aiTemplatesStarterCollection.store-legacy-Ch_qppxf.js","./ConnectionTracker-legacy-DrdY1yoj.js","./usePushConnection-legacy-OU2Q923F.js","./dist-legacy-XeDNUblt.js"],(function(e,t){var a,s,n,o,r,i,l,c,d,u,m,_,p,y,g,f,h,k,b,v,w,x,$,I,j,T,M,L,C,A,z,B,D,R,S,U,H,W,P,E,q,J,N,F,O,G,V,Q,Y,Z,K,X,ee,te,ae,se,ne,oe,re,ie,le;function ce(e){return e.reduce(((e,t)=>e+t),0)/e.length}function de(e){return ce(e).toFixed(2)}function ue(e,t=2){return Number((e/1024/1024/1024).toFixed(t))}function me(e,t=2){return Number((e/1024/1024).toFixed(t))}return{setters:[function(e){a=e.C,s=e.Cn,n=e.D,o=e.E,r=e.Gt,i=e.It,l=e.J,c=e.M,d=e.P,u=e.T,m=e.Z,_=e._,p=e.at,y=e.bt,g=e.et,f=e.it,h=e.j,k=e.q,b=e.vn,v=e.w},function(e){w=e.yt},function(e){x=e.F,$=e.Pi,I=e.Ui,j=e.Vi,T=e.bt,M=e.wi,L=e.zi},function(e){C=e.t},function(e){},function(e){A=e.Lt,z=e.fn,B=e.ws,D=e.yr},function(e){},function(e){},function(e){R=e.r},function(e){},function(e){},function(e){},function(e){},function(e){S=e.t},function(e){U=e.t},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){H=e.t},function(e){W=e.t},function(e){},function(e){},function(e){P=e.t},function(e){e.n,E=e.r,q=e.t},function(e){J=e.n}],execute:function(){(N=document.createElement("style")).textContent="._container_k0ymr_125{width:100%}._header_k0ymr_129{cursor:pointer;padding-top:var(--spacing--sm);align-items:center;display:flex}._header_k0ymr_129 ._headerText_k0ymr_135{flex-grow:1}._expanded_k0ymr_139{padding:var(--spacing--sm)0 0 0}._description_k0ymr_143{padding:0 var(--spacing--sm)var(--spacing--sm)var(--spacing--sm);display:flex}._description_k0ymr_143 b{font-weight:var(--font-weight--bold)}._accordionItems_1mb6o_125{width:100%;display:flex;flex-direction:column!important;align-items:flex-start!important}._accordionItem_1mb6o_125{text-align:left;margin-bottom:var(--spacing--4xs);display:block!important}._empty_1mb6o_138{text-align:left;margin-top:var(--spacing--2xs);margin-left:var(--spacing--4xs);display:block!important}._accordionItems_tq3dn_125{width:100%;margin-top:var(--spacing--2xs);display:flex;flex-direction:column!important;align-items:flex-start!important}._accordionItem_tq3dn_125{text-align:left;margin-bottom:var(--spacing--4xs);display:block!important}._clickable_tq3dn_139{cursor:pointer!important}._clickable_tq3dn_139:hover{color:var(--color--primary)}._accordionItems_16rh4_125{width:100%;display:flex;flex-direction:column!important;align-items:flex-start!important}._accordionItem_16rh4_125{text-align:left;margin-bottom:var(--spacing--4xs);display:block!important}._charts_16rh4_138{flex-direction:column;width:100%}._chart_16rh4_138{max-width:100%;max-height:200px;position:relative}table th,table td{text-align:left;font-weight:400}table td{font-variant-numeric:tabular-nums;padding-left:8px}._accordion-content_1lqir_135{padding:var(--spacing--2xs)}._container_znmwg_125{width:100%}._cardLink_znmwg_129{cursor:pointer;align-items:stretch;padding:0;transition:box-shadow .3s}._cardLink_znmwg_129:hover{box-shadow:var(--shadow--card-hover)}._cardHeading_znmwg_139{font-size:var(--font-size--sm);word-break:break-word;padding:var(--spacing--sm)0 0 var(--spacing--sm)}._stale_znmwg_145{opacity:.5}._cardDescription_znmwg_149{min-height:19px;padding:0 0 var(--spacing--sm)var(--spacing--sm);align-items:center;display:flex}._cardActions_znmwg_156{padding:0 var(--spacing--sm)0 0;cursor:default;flex-direction:row;justify-content:center;align-self:stretch;align-items:center;display:flex}._workerListHeader_ifjfd_125{margin-bottom:var(--spacing--sm);justify-content:space-between;align-items:center;display:flex}._card_ifjfd_132{margin-bottom:var(--spacing--sm)}._tableLoader_ifjfd_136{width:100%;height:48px;margin-bottom:var(--spacing--2xs)}._actionBox_t24gt_125{margin:var(--spacing--2xl)0 0}\n/*$vite$:1*/",document.head.appendChild(N);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(_e=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[_e]="a87d38ee-fa21-47d5-93c6-74c3077161b4",t._sentryDebugIdIdentifier="sentry-dbid-a87d38ee-fa21-47d5-93c6-74c3077161b4")}catch(t){}var t,_e;F=d({__name:"WorkerAccordion",props:{icon:{default:"list-checks"},iconColor:{default:"text-dark"},initialExpanded:{type:Boolean,default:!0}},setup(e){const t=i(e.initialExpanded);function a(){t.value=!t.value}return(s,i)=>(g(),n("div",{class:b(["accordion",s.$style.container])},[v("div",{class:b({[s.$style.header]:!0,[s.$style.expanded]:t.value}),onClick:a},[c(r(I),{icon:e.icon,color:e.iconColor,size:"small",class:"mr-2xs"},null,8,["icon","color"]),c(r(j),{class:b(s.$style.headerText),color:"text-base",size:"small",align:"left",bold:""},{default:y((()=>[p(s.$slots,"title")])),_:3},8,["class"]),c(r(I),{icon:t.value?"chevron-up":"chevron-down",bold:""},null,8,["icon"])],2),t.value?(g(),n("div",{key:0,class:b({[s.$style.description]:!0,[s.$style.collapsed]:!t.value})},[p(s.$slots,"content")],2)):o("",!0)],2))}}),O=C(F,[["__cssModules",{$style:{container:"_container_k0ymr_125",header:"_header_k0ymr_129",headerText:"_headerText_k0ymr_135",expanded:"_expanded_k0ymr_139",description:"_description_k0ymr_143"}}]]),G=["href"],V=["href"],Q=C(d({__name:"WorkerJobAccordion",props:{items:{}},setup(e){const t=e,a=w();function o(e){let t=Math.floor(((new Date).getTime()-e.getTime())/1e3);const a=Math.floor(t/3600);t-=3600*a;const s=Math.floor(t/60);return t-=60*s,`${a}h ${s}m ${Math.floor(t)}s`}return(i,l)=>(g(),u(O,{icon:"list-checks","icon-color":"text-dark","initial-expanded":!0},{title:y((()=>[h(s(r(a).baseText("workerList.item.jobListTitle"))+" ("+s(e.items.length)+") ",1)])),content:y((()=>[t.items.length>0?(g(),n("div",{key:0,class:b(i.$style.accordionItems)},[(g(!0),n(_,null,f(t.items,(e=>(g(),n("div",{key:e.executionId,class:b(i.$style.accordionItem)},[v("a",{href:"/workflow/"+e.workflowId+"/executions/"+e.executionId}," Execution "+s(e.executionId)+" - "+s(e.workflowName),9,G),c(r(j),{color:"text-base",size:"small",align:"left"},{default:y((()=>[h(" | Started at: "+s(new Date(e.startedAt)?.toLocaleTimeString())+" | Running for "+s(o(new Date(e.startedAt)))+" "+s(e.retryOf?`| Retry of: ${e.retryOf}`:"")+" | ",1)])),_:2},1024),v("a",{target:"_blank",href:"/workflow/"+e.workflowId}," (Open workflow)",8,V)],2)))),128))],2)):(g(),n("div",{key:1,class:b(i.$style.accordionItems)},[v("span",{class:b(i.$style.empty)},s(r(a).baseText("workerList.item.jobList.empty")),3)],2))])),_:1}))}}),[["__cssModules",{$style:{accordionItems:"_accordionItems_1mb6o_125",accordionItem:"_accordionItem_1mb6o_125",empty:"_empty_1mb6o_138"}}]]),Y=["onClick"],Z=C(d({__name:"WorkerNetAccordion",props:{items:{}},setup(e){const t=e,a=w(),i=U(),{showMessage:l}=D();return(c,d)=>(g(),u(O,{icon:"list-checks","icon-color":"text-dark","initial-expanded":!1},{title:y((()=>[h(s(r(a).baseText("workerList.item.netListTitle"))+" ("+s(e.items.length)+") ",1)])),content:y((()=>[t.items.length>0?(g(),n("div",{key:0,class:b(c.$style.accordionItems)},[(g(!0),n(_,null,f(t.items,(e=>(g(),n("div",{key:e.address,class:b(c.$style.accordionItem),onClick:t=>function(e){try{i.copy(e),l({title:a.baseText("workerList.item.copyAddressToClipboard"),type:"success"})}catch{}}(e.address)},[h(s(e.family)+": ",1),v("span",{class:b(c.$style.clickable)},s(e.address),3),h(" "+s(e.internal?"(internal)":""),1)],10,Y)))),128))],2)):o("",!0)])),_:1}))}}),[["__cssModules",{$style:{accordionItems:"_accordionItems_tq3dn_125",accordionItem:"_accordionItem_tq3dn_125",clickable:"_clickable_tq3dn_139"}}]]),K=C(d({__name:"WorkerChartsAccordion",props:{workerId:{}},setup(e){const t=e,a=w(),n=(e,t,a=0)=>({datasets:[{label:e,backgroundColor:t,data:a?Array(Math.min(100,a)).fill(0):[]}],labels:Array(Math.min(100,a)).fill("")}),o=E(),l=i(void 0),d=i(void 0),m=i(void 0),_={responsive:!0,maintainAspectRatio:!0,scales:{y:{type:"linear",display:!0,position:"left",min:0,suggestedMax:5}}},p={responsive:!0,maintainAspectRatio:!0,scales:{y:{type:"linear",display:!0,position:"left",min:0,suggestedMax:5}}};p.scales?.y&&(p.scales.y.suggestedMax=100);const f={responsive:!0,maintainAspectRatio:!0,scales:{y:{type:"linear",display:!0,position:"left",min:0,suggestedMax:5}}};f.scales?.y&&(f.scales.y.suggestedMax=100);const k=i(n("Job Count","rgb(255, 111, 92)",100)),x=i(n("Processor Usage","rgb(19, 205, 103)",100)),$=i(n("Memory Usage (%)","rgb(244, 216, 174)",100));return o.$onAction((({name:e,store:a})=>{if("updateWorkerStatus"===e){const e=100-(a.workersHistory[t.workerId]?.length??0),s=n("Job Count","rgb(255, 111, 92)",e),o=n("Processor Usage","rgb(19, 205, 103)",e),r=n("Memory Usage (%)","rgb(244, 216, 174)",e);a.workersHistory[t.workerId]?.forEach((e=>{s.datasets[0].data.push(e.data.runningJobsSummary.length),s.labels?.push(new Date(e.timestamp).toLocaleTimeString()),o.datasets[0].data.push(ce(e.data.loadAvg)),o.labels=s.labels,r.labels=s.labels;const t=e.data.isInContainer?e.data.process.memory.constraint:e.data.host.memory.total,a=(t-e.data.process.memory.available)/t*100;r.datasets[0].data.push(a)})),k.value=s,x.value=o,$.value=r}})),(e,t)=>(g(),u(O,{icon:"list-checks","icon-color":"text-dark","initial-expanded":!1},{title:y((()=>[h(s(r(a).baseText("workerList.item.chartsTitle")),1)])),content:y((()=>[v("div",{class:b(e.$style.charts)},[c(r(J),{ref_key:"chartRefJobs",ref:l,type:"line",data:k.value,options:r(_),class:b(e.$style.chart)},null,8,["data","options","class"]),c(r(J),{ref_key:"chartRefCPU",ref:d,type:"line",data:x.value,options:r(p),class:b(e.$style.chart)},null,8,["data","options","class"]),c(r(J),{ref_key:"chartRefMemoryUsage",ref:m,type:"line",data:$.value,options:r(f),class:b(e.$style.chart)},null,8,["data","options","class"])],2)])),_:1}))}}),[["__cssModules",{$style:{accordionItems:"_accordionItems_16rh4_125",accordionItem:"_accordionItem_16rh4_125",charts:"_charts_16rh4_138",chart:"_chart_16rh4_138"}}]]),X={key:0},ee=C(d({__name:"WorkerMemoryMonitorAccordion",props:{worker:{}},setup(e){const t=e,a=w();return(i,l)=>(g(),u(O,{icon:"list-checks","icon-color":"text-dark","initial-expanded":!1},{title:y((()=>[h(s(r(a).baseText("workerList.item.memoryMonitorTitle")),1)])),content:y((()=>[v("div",{class:b(i.$style["accordion-content"])},[l[7]||(l[7]=v("strong",null,"Host/OS Memory:",-1)),v("table",null,[v("tbody",null,[v("tr",null,[l[0]||(l[0]=v("th",null,"Total (os.totalmem)",-1)),v("td",null,s(r(ue)(t.worker.host.memory.total))+"GB",1)]),v("tr",null,[l[1]||(l[1]=v("th",null,"Free (os.freemem)",-1)),v("td",null,s(r(ue)(t.worker.host.memory.free))+"GB",1)])])]),l[8]||(l[8]=v("br",null,null,-1)),l[9]||(l[9]=v("strong",null,"Process Memory:",-1)),l[10]||(l[10]=v("br",null,null,-1)),v("table",null,[v("tbody",null,[e.worker.isInContainer?(g(),n("tr",X,[l[2]||(l[2]=v("th",null,"Constraint: (process.constrainedMemory)",-1)),v("td",null,s(r(me)(t.worker.process.memory.constraint))+"MB",1)])):o("",!0),v("tr",null,[l[3]||(l[3]=v("th",null,"Available: (process.availableMemory)",-1)),v("td",null,s(r(me)(t.worker.process.memory.available))+"MB",1)]),v("tr",null,[l[4]||(l[4]=v("th",null,"RSS: (process.memoryUsage().rss)",-1)),v("td",null,s(r(me)(t.worker.process.memory.rss))+"MB",1)]),v("tr",null,[l[5]||(l[5]=v("th",null,"Heap total: (process.memoryUsage().heapTotal)",-1)),v("td",null,s(r(me)(t.worker.process.memory.heapTotal))+"MB",1)]),v("tr",null,[l[6]||(l[6]=v("th",null,"Heap used: (process.memoryUsage().heapUsed)",-1)),v("td",null,s(r(me)(t.worker.process.memory.heapUsed))+"MB",1)])])])],2)])),_:1}))}}),[["__cssModules",{$style:{"accordion-content":"_accordion-content_1lqir_135"}}]]),te=C(d({__name:"WorkerCard",props:{workerId:{}},setup(e){let t;const n=E(),d=w(),_=e,p=i("0"),f=i(!1),k=a((()=>n.getWorkerStatus(_.workerId))),x=a((()=>W("family",k.value?.interfaces.slice()??[])));function $(e){const t=Math.floor(e/86400);e-=3600*t*24;const a=Math.floor(e/3600);e-=3600*a;const s=Math.floor(e/60);return e-=60*s,`${t}d ${a}h ${s}m ${Math.floor(e)}s`}return m((()=>{t=setInterval((()=>{const e=n.getWorkerLastUpdated(_.workerId);if(!e)return;const t=Math.ceil((Date.now()-e)/1e3);f.value=t>10,p.value=t.toFixed(0)}),500)})),l((()=>{clearInterval(t)})),(e,t)=>k.value?(g(),u(r(T),{key:0,class:b(e.$style.cardLink)},{header:y((()=>[c(r(L),{tag:"h2",bold:"",class:b(f.value?[e.$style.cardHeading,e.$style.stale]:[e.$style.cardHeading]),"data-test-id":"worker-card-name"},{default:y((()=>[h(" Name: "+s(k.value.senderId)+" ("+s(k.value.hostname)+") ",1),t[0]||(t[0]=v("br",null,null,-1)),h(" Average Load: "+s(r(de)(k.value.loadAvg??[0]))+" | Free memory: "+s(r(ue)(k.value.process.memory.available))+"GB / "+s(r(ue)(k.value.isInContainer?k.value.process.memory.constraint:k.value.host.memory.total))+"GB "+s(f.value?" (stale)":""),1)])),_:1},8,["class"])])),append:y((()=>[v("div",{ref:"cardActions",class:b(e.$style.cardActions)},null,2)])),default:y((()=>[v("div",{class:b(e.$style.cardDescription)},[c(r(j),{color:"text-light",size:"small",class:b(e.$style.container)},{default:y((()=>[v("span",null,s(r(d).baseText("workerList.item.lastUpdated"))+" "+s(p.value)+"s ago | n8n-Version: "+s(k.value.version)+" | Architecture: "+s(k.value.arch)+" ( "+s(k.value.platform)+") | Uptime: "+s($(k.value.uptime)),1),t[1]||(t[1]=v("br",null,null,-1)),c(Q,{items:k.value.runningJobsSummary},null,8,["items"]),c(Z,{items:x.value},null,8,["items"]),c(K,{"worker-id":k.value.senderId},null,8,["worker-id"]),c(ee,{worker:k.value},null,8,["worker"])])),_:1},8,["class"])],2)])),_:1},8,["class"])):o("",!0)}}),[["__cssModules",{$style:{container:"_container_znmwg_125",cardLink:"_cardLink_znmwg_129",cardHeading:"_cardHeading_znmwg_139",stale:"_stale_znmwg_145",cardDescription:"_cardDescription_znmwg_149",cardActions:"_cardActions_znmwg_156"}}]]),ae={key:0},se={key:1},ne={key:0},oe={key:1},re=d({__name:"WorkerList",props:{autoRefreshEnabled:{type:Boolean,default:!0}},setup(e){const t=M(),o=w(),i=q({router:t}),d=z(),u=A(),p=E(),$=R(),I=H(),j=a((()=>p.initialStatusReceived)),T=a((()=>Object.keys(p.workers))),C=a((()=>o.baseText("workerList.pageTitle")));return m((()=>{d.set(C.value),u.track("User viewed worker view",{instance_id:$.instanceId})})),k((()=>{i.initialize(),I.pushConnect(),p.startWorkerStatusPolling()})),l((()=>{p.stopWorkerStatusPolling(),I.pushDisconnect(),i.terminate()})),(e,t)=>(g(),n("div",null,[c(P,{class:"actions"}),v("div",{class:b(e.$style.workerListHeader)},[c(r(L),{tag:"h1",size:"2xlarge"},{default:y((()=>[h(s(C.value),1)])),_:1})],2),j.value?(g(),n("div",se,[0===T.value.length?(g(),n("div",ne,s(r(o).baseText("workerList.empty")),1)):(g(),n("div",oe,[(g(!0),n(_,null,f(T.value,(t=>(g(),n("div",{key:t,class:b(e.$style.card)},[c(te,{"worker-id":t,"data-test-id":"worker-card"},null,8,["worker-id"])],2)))),128))]))])):(g(),n("div",ae,[c(r(x))]))]))}}),ie=C(re,[["__cssModules",{$style:{workerListHeader:"_workerListHeader_ifjfd_125",card:"_card_ifjfd_132",tableLoader:"_tableLoader_ifjfd_136"}}]]),le=["href"],e("default",C(d({__name:"WorkerView",setup(e){const t=B(),a=S(),n=w(),o=()=>{a.goToUpgrade("worker-view","upgrade-worker-view")};return(e,a)=>r(t).isQueueModeEnabled&&r(t).isWorkerViewAvailable?(g(),u(ie,{key:0,"data-test-id":"worker-view-licensed"})):(g(),u(r($),{key:1,"data-test-id":"worker-view-unlicensed",class:b(e.$style.actionBox),description:r(n).baseText("workerList.actionBox.description"),"button-text":r(n).baseText("workerList.actionBox.buttonText"),"onClick:button":o},{heading:y((()=>[v("span",null,s(r(n).baseText("workerList.actionBox.title")),1)])),description:y((()=>[h(s(r(n).baseText("workerList.actionBox.description"))+" ",1),v("a",{href:r(n).baseText("workerList.docs.url"),target:"_blank"},s(r(n).baseText("workerList.actionBox.description.link")),9,le)])),_:1},8,["class","description","button-text"]))}}),[["__cssModules",{$style:{actionBox:"_actionBox_t24gt_125"}}]]))}}}));
//# sourceMappingURL=WorkerView-legacy-Bv-DUCdZ.js.map