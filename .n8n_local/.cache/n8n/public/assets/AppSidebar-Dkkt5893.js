(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`4b14a554-0112-489b-b8da-42cf5f130f71`,e._sentryDebugIdIdentifier=`sentry-dbid-4b14a554-0112-489b-b8da-42cf5f130f71`)})()}catch{}import{C as e,Cn as t,D as n,E as r,G as i,Gt as a,It as o,J as s,M as c,P as l,Q as u,T as d,Z as f,_ as p,_t as m,b as h,bn as g,bt as _,et as v,it as y,j as b,q as x,vn as S,w as C}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as w}from"./_MapCache-DjbOQyB7.js";import{Ci as T,Hi as E,I as D,Oi as O,Ui as k,Vi as A,q as j,u as M,wi as N}from"./src-CppJvwzX.js";import{t as P}from"./_plugin-vue_export-helper-B_J4Khre.js";import{Fr as F,Gt as I,Lt as L,lr as R,r as z,s as B,t as V,ur as H,wr as U,ws as ee,xn as te}from"./users.store-pCkD7Zo0.js";import{n as ne,r as W,t as re}from"./MainSidebarHeader-C11PZIjQ.js";import{As as ie,Hc as ae,Wc as G,cc as oe,is as se,qo as K,rs as q}from"./constants-D1jZwsUK.js";import{r as ce}from"./_baseOrderBy-El3qbNHQ.js";import{t as le}from"./versions.store-1_eor2Ku.js";import{t as ue}from"./usePageRedirectionHelper-BoF8hzbN.js";import{n as J,t as de}from"./useBugReporting-CHn_Ru2H.js";import{l as Y}from"./constants-BeYoedeu.js";import{t as X}from"./sourceControl.eventBus-C0Et3VBv.js";import{t as fe}from"./useKeybindings-B_gtbMl6.js";import{t as Z}from"./useGlobalEntityCreation-DU5BFKv0.js";import{t as pe}from"./useSettingsItems-DieYApNB.js";import{t as me}from"./resourceCenter.store-DlWGan11.js";var he=P(l({__name:`MainSidebarSourceControl`,props:{isCollapsed:{type:Boolean}},setup(i){let s=U(),l=I(),u=w(),f=T(),p=N(),m=o(300),h=e(()=>s.preferences.branchName),y=e(()=>H([`rbac`],{rbac:{scope:`sourceControl:push`}})||l.myProjects.some(e=>e.type===`team`&&K(e?.scopes)?.sourceControl?.push)),x=e(()=>H([`rbac`],{rbac:{scope:`sourceControl:pull`}})),D=e(()=>s.isEnterpriseSourceControlEnabled&&(x.value||y.value));function j(e){let t=e.replace(`#`,``),n=parseInt(t.slice(0,2),16)/255,r=parseInt(t.slice(2,4),16)/255,i=parseInt(t.slice(4,6),16)/255,a=e=>e<=.03928?e/12.92:((e+.055)/1.055)**2.4;return .2126*a(n)+.7152*a(r)+.0722*a(i)>.5?`#000000`:`#ffffff`}let M=e(()=>j(s.preferences.branchColor));async function P(){p.push({query:{...f.query,sourceControl:`push`}})}function F(){p.push({query:{...f.query,sourceControl:`pull`}})}return(e,o)=>D.value?(v(),n(`div`,{key:0,class:S({[e.$style.sync]:!0,[e.$style.collapsed]:i.isCollapsed,[e.$style.isConnected]:a(s).isEnterpriseSourceControlEnabled}),"data-test-id":`main-sidebar-source-control`},[a(s).preferences.connected&&a(s).preferences.branchName?(v(),n(`div`,{key:0,class:S(e.$style.connected),"data-test-id":`main-sidebar-source-control-connected`},[i.isCollapsed?(v(),d(a(O),{key:0,"show-after":m.value,placement:`right`,"avoid-collisions":!1},{content:_(()=>[C(`div`,null,t(h.value),1)]),default:_(()=>[C(`div`,{class:S(e.$style.icon),style:g({color:M.value,background:a(s).preferences.branchColor})},[c(a(k),{icon:`git-branch`,size:`small`})],6)]),_:1},8,[`show-after`])):(v(),n(`div`,{key:1,class:S(e.$style.icon),style:g({color:M.value,background:a(s).preferences.branchColor})},[c(a(k),{icon:`git-branch`,size:`small`}),c(a(A),{bold:``,size:`small`,class:S(e.$style.branchName)},{default:_(()=>[b(t(h.value),1)]),_:1},8,[`class`])],6)),C(`div`,{class:S(e.$style.buttonContainer)},[c(a(O),{disabled:!i.isCollapsed&&x.value,"show-after":m.value,placement:i.isCollapsed?`right`:`top`},{content:_(()=>[C(`div`,null,t(x.value?a(u).baseText(`settings.sourceControl.button.pull`):a(u).baseText(`settings.sourceControl.button.pull.forbidden`)),1)]),default:_(()=>[c(a(E),{variant:`ghost`,size:`xsmall`,"data-test-id":`main-sidebar-source-control-pull`,icon:`arrow-down`,disabled:!x.value,label:i.isCollapsed?``:a(u).baseText(`settings.sourceControl.button.pull`),onClick:F},null,8,[`disabled`,`label`])]),_:1},8,[`disabled`,`show-after`,`placement`]),c(a(O),{disabled:!i.isCollapsed&&!a(s).preferences.branchReadOnly&&y.value,"show-after":m.value,placement:i.isCollapsed?`right`:`top`},{content:_(()=>[C(`div`,null,t(a(s).preferences.branchReadOnly||!y.value?a(u).baseText(`settings.sourceControl.button.push.forbidden`):a(u).baseText(`settings.sourceControl.button.push`)),1)]),default:_(()=>[c(a(E),{variant:`ghost`,size:`xsmall`,"data-test-id":`main-sidebar-source-control-push`,icon:`arrow-up`,label:i.isCollapsed?``:a(u).baseText(`settings.sourceControl.button.push`),disabled:a(s).preferences.branchReadOnly||!y.value,onClick:P},null,8,[`label`,`disabled`])]),_:1},8,[`disabled`,`show-after`,`placement`])],2)],2)):r(``,!0)],2)):r(``,!0)}}),[[`__cssModules`,{$style:{sync:`_sync_pfkpq_125`,collapsed:`_collapsed_pfkpq_132`,icon:`_icon_pfkpq_136`,buttonContainer:`_buttonContainer_pfkpq_146`,connected:`_connected_pfkpq_152`,branchName:`_branchName_pfkpq_160`}}]]),ge=P(l({__name:`ProjectNavigation`,props:{collapsed:{type:Boolean},planName:{}},setup(i){let o=i,l=w(),u=Z(),f=I(),m=ee(),h=V(),g=e(()=>u.displayProjects.value),T=e(()=>m.isFoldersFeatureEnabled),E=e(()=>m.isChatFeatureEnabled&&H([`rbac`],{rbac:{scope:`chatHub:message`}})),D=e(()=>h.allUsers.filter(e=>!e.isPendingUser).length>1),O=e(()=>({id:`home`,label:l.baseText(`projects.menu.overview`),icon:`house`,route:{to:{name:q.HOMEPAGE}}})),k=e(()=>({id:`shared`,label:l.baseText(`projects.menu.shared`),icon:`share`,route:{to:{name:q.SHARED_WITH_ME}}})),M=e=>({id:e.id,label:e.name??``,icon:e.icon,route:{to:{name:q.PROJECTS_WORKFLOWS,params:{projectId:e.id}}}}),N=e(()=>({id:f.personalProject?.id??``,label:l.baseText(`projects.menu.personal`),icon:`user`,route:{to:{name:q.PROJECTS_WORKFLOWS,params:{projectId:f.personalProject?.id}}}})),P=e(()=>(Array.isArray(f.projectNavActiveId)?f.projectNavActiveId[0]:f.projectNavActiveId)??void 0),F=e(()=>({id:`chat`,icon:`message-circle`,label:l.baseText(`projects.menu.chat`),position:`bottom`,route:{to:{name:Y}},beta:!0}));async function L(){await f.getMyProjects()}return x(async()=>{await h.fetchUsers({filter:{isPending:!1},take:2}),X.on(`pull`,L)}),s(()=>{X.off(`pull`,L)}),(e,i)=>(v(),n(`div`,{class:S(e.$style.projects)},[C(`div`,{class:S([e.$style.home,o.collapsed?e.$style.collapsed:``])},[c(a(j),{item:O.value,compact:o.collapsed,active:P.value===`home`,"data-test-id":`project-home-menu-item`},null,8,[`item`,`compact`,`active`]),a(f).isTeamProjectFeatureEnabled||T.value?(v(),d(a(j),{key:0,item:N.value,compact:o.collapsed,active:P.value===N.value.id,"data-test-id":`project-personal-menu-item`},null,8,[`item`,`compact`,`active`])):r(``,!0),(a(f).isTeamProjectFeatureEnabled||T.value)&&D.value?(v(),d(a(j),{key:1,item:k.value,compact:o.collapsed,active:P.value===`shared`,"data-test-id":`project-shared-menu-item`},null,8,[`item`,`compact`,`active`])):r(``,!0),E.value?(v(),d(a(j),{key:2,item:F.value,compact:o.collapsed,active:P.value===`chat`,"data-test-id":`project-chat-menu-item`},null,8,[`item`,`compact`,`active`])):r(``,!0)],2),!o.collapsed&&a(f).isTeamProjectFeatureEnabled&&g.value.length>0?(v(),d(a(A),{key:0,class:S([e.$style.projectsLabel]),size:`small`,bold:``,role:`heading`,color:`text-light`},{default:_(()=>[b(t(a(l).baseText(`projects.menu.title`)),1)]),_:1},8,[`class`])):r(``,!0),a(f).isTeamProjectFeatureEnabled||T.value?(v(),n(`div`,{key:1,class:S(e.$style.projectItems)},[(v(!0),n(p,null,y(g.value,t=>(v(),d(a(j),{key:t.id,class:S({[e.$style.collapsed]:o.collapsed}),item:M(t),compact:o.collapsed,active:P.value===t.id,"data-test-id":`project-menu-item`},null,8,[`class`,`item`,`compact`,`active`]))),128))],2)):r(``,!0)],2))}}),[[`__cssModules`,{$style:{projects:`_projects_65xj9_125`,plusBtn:`_plusBtn_65xj9_130`,projectItems:`_projectItems_65xj9_134`,upgradeLink:`_upgradeLink_65xj9_138`,projectsLabel:`_projectsLabel_65xj9_143`,collapsed:`_collapsed_65xj9_152`,addFirstProjectBtn:`_addFirstProjectBtn_65xj9_165`,home:`_home_65xj9_174`}}]]),_e=P(l({__name:`ResourceCenterTooltip`,setup(s){let l=me(),{isCollapsed:p}=W(),{markResourceCenterTooltipDismissed:y,trackResourceCenterTooltipView:b,trackResourceCenterTooltipDismiss:x}=l,T=w(),E=o(),D=o(!1),A=o({top:0,left:0}),j=o(0),M=e(()=>l.shouldShowResourceCenterTooltip),N=e(()=>T.baseText(`experiments.resourceCenter.tooltip.text`)),P=()=>{let e=document.querySelector(`[data-test-id="menu-item"][id="resource-center"]`);if(!e)return;let t=e.getBoundingClientRect();A.value={top:t.top+t.height/2-5,left:t.right},j.value++},F=async()=>{D.value=!0,b(),await i(),P()},I=()=>{D.value=!1},L=()=>{x(),y(),I()},R=()=>{D.value&&P()},z=()=>{D.value&&setTimeout(()=>{P()},500)};m(M,async e=>{e?await F():I()},{immediate:!0}),m(p,async()=>{D.value&&(await i(),setTimeout(()=>{P()},300))});let B=null;return f(()=>{window.addEventListener(`resize`,R),window.addEventListener(`scroll`,R);let e=document.getElementById(`content`);e&&(B=new ResizeObserver(z),B.observe(e))}),u(()=>{window.removeEventListener(`resize`,R),window.removeEventListener(`scroll`,R),B&&=(B.disconnect(),null)}),(e,i)=>(v(),d(h,{to:`body`},[D.value&&M.value?(v(),n(`div`,{ref_key:`tooltipRef`,ref:E,key:j.value,class:S(e.$style.triggerContainer),style:g({position:`fixed`,top:A.value.top+`px`,left:A.value.left+`px`})},[c(a(O),{visible:!0,placement:`right`,"show-arrow":!0,"popper-style":{maxWidth:`260px`,minWidth:`240px`}},{content:_(()=>[C(`div`,{class:S(e.$style.tooltipContent)},[C(`span`,{class:S(e.$style.text)},t(N.value),3),C(`button`,{class:S(e.$style.dismissButton),type:`button`,"aria-label":`Dismiss tooltip`,onClick:L},[c(a(k),{icon:`x`,size:`small`})],2)],2)]),default:_(()=>[C(`div`,{class:S(e.$style.tooltipTrigger)},null,2)]),_:1})],6)):r(``,!0)]))}}),[[`__cssModules`,{$style:{triggerContainer:`_triggerContainer_vqbgd_125`,tooltipTrigger:`_tooltipTrigger_vqbgd_130`,tooltipContent:`_tooltipContent_vqbgd_136`,text:`_text_vqbgd_142`,dismissButton:`_dismissButton_vqbgd_148`}}]]);function ve(){let e=F(),t=z();return{applyExperiment:()=>{if(t.sidebarMenuCollapsed===null){let n=e.getVariant(G.name)===G.variant;t.sidebarMenuCollapsed=!n,n&&localStorage.setItem(oe,`200`)}}}}var ye=P(l({__name:`MainSidebar`,setup(t){let n=R(),r=ce(),l=ee(),u=te(),p=z(),h=le(),y=B(),b=me(),x=w(),T=N(),E=L(),O=ue(),{getReportingURL:k}=de(),{applyExperiment:A}=ve();A();let{isCollapsed:j,sidebarWidth:P,onResizeStart:F,onResize:I,onResizeEnd:V,toggleCollapse:U}=W(),{settingsItems:G}=pe(),oe=o(``),K=o(),Y=o(!1),X=o(!1),Z=null,ye=e(()=>h.hasVersionUpdates||h.whatsNewArticles.some(e=>!h.isWhatsNewArticleRead(e.id))),Q=e(()=>b.isFeatureEnabled()),be=e(()=>b.getCurrentVariant()===ae.variantInspiration?x.baseText(`experiments.resourceCenter.sidebar.inspiration`):x.baseText(`experiments.resourceCenter.sidebar`)),xe=e(()=>[{id:`cloud-admin`,position:`bottom`,label:`Admin Panel`,icon:`cloud`,available:l.isCloudDeployment&&H([`instanceOwner`])},{id:`resource-center`,icon:`lightbulb`,label:be.value,position:`bottom`,available:Q.value,route:{to:{name:q.RESOURCE_CENTER}}},{id:`templates`,icon:`package-open`,label:x.baseText(`generic.templates`),position:`bottom`,available:l.isTemplatesEnabled&&u.hasCustomTemplatesHost&&!Q.value,route:{to:{name:q.TEMPLATES}}},{id:`templates`,icon:`package-open`,label:x.baseText(`generic.templates`),position:`bottom`,available:l.isTemplatesEnabled&&!u.hasCustomTemplatesHost&&!Q.value,link:{href:u.websiteTemplateRepositoryURL,target:`_blank`}},{id:`insights`,icon:`chart-column-decreasing`,label:`Insights`,position:`bottom`,route:{to:{name:q.INSIGHTS}},available:l.isModuleActive(`insights`)&&H([`rbac`],{rbac:{scope:`insights:list`}})},{id:`help`,icon:`circle-help`,label:x.baseText(`mainSidebar.help`),notification:ye.value,position:`bottom`,children:[{id:`quickstart`,icon:`video`,label:x.baseText(`mainSidebar.helpMenuItems.quickstart`),link:{href:J.QUICKSTART_VIDEO,target:`_blank`}},{id:`docs`,icon:`book`,label:x.baseText(`mainSidebar.helpMenuItems.documentation`),link:{href:J.DOCUMENTATION,target:`_blank`}},{id:`forum`,icon:`users`,label:x.baseText(`mainSidebar.helpMenuItems.forum`),link:{href:J.FORUM,target:`_blank`}},{id:`examples`,icon:`graduation-cap`,label:x.baseText(`mainSidebar.helpMenuItems.course`),link:{href:J.COURSES,target:`_blank`}},{id:`report-bug`,icon:`bug`,label:x.baseText(`mainSidebar.helpMenuItems.reportBug`),link:{href:k(),target:`_blank`}},{id:`about`,icon:`info`,label:x.baseText(`mainSidebar.aboutN8n`),position:`bottom`}]},{id:`settings`,label:x.baseText(`mainSidebar.settings`),icon:`settings`,available:!0,children:G.value}]),Se=e(()=>xe.value.filter(e=>e.available!==!1)),$=()=>{let e=K.value?.getScrollPosition();if(e&&K.value?.$el){let t=K.value.$el,n=e.height>t.clientHeight;Y.value=n,X.value=n&&e.top>0}};m(j,()=>{i(()=>{$()})}),f(()=>{oe.value=r.baseUrl,i(()=>{if($(),K.value?.$el){let e=K.value.$el;Z=new ResizeObserver(()=>{$()}),Z.observe(e),$()}}),window.addEventListener(`resize`,$)}),s(()=>{Z&&=(Z.disconnect(),null),window.removeEventListener(`resize`,$)});let Ce=e=>{E.track(`User clicked help resource`,{type:e,workflow_id:y.workflowId})};function we(e){e.stopPropagation(),i(()=>{let e=new KeyboardEvent(`keydown`,{key:`k`,code:`KeyK`,metaKey:!0,bubbles:!0,cancelable:!0});document.dispatchEvent(e)})}let Te=e=>{switch(e){case`resource-center`:b.markResourceCenterTooltipDismissed();break;case`about`:Ce(`about`),p.openModal(se);break;case`cloud-admin`:O.goToDashboard();break;case`quickstart`:case`docs`:case`forum`:case`examples`:Ce(e);break;case`insights`:E.track(`User clicked insights link from side menu`);break;default:if(e.startsWith(`whats-new-article-`)){let t=Number(e.replace(`whats-new-article-`,``));E.track(`User clicked on what's new section`,{article_id:t}),p.openModalWithData({name:ie,data:{articleId:t}})}break}},Ee=()=>{T.push({name:q.SIGNOUT})};return fe({ctrl_alt_o:()=>Te(`about`),bracketleft:()=>U()}),(e,t)=>(v(),d(a(D),{id:`side-menu`,class:S({[e.$style.sideMenu]:!0,[e.$style.sideMenuCollapsed]:a(j)}),width:a(P),style:g({width:`${a(P)}px`}),"supported-directions":[`right`],"min-width":200,"max-width":500,"grid-size":8,onResizestart:a(F),onResize:a(I),onResizeend:a(V)},{default:_(()=>[c(re,{"is-collapsed":a(j),onCollapse:a(U),onOpenCommandBar:we},null,8,[`is-collapsed`,`onCollapse`]),C(`div`,{class:S({[e.$style.scrollAreaWrapper]:!0,[e.$style.scrollAreaWrapperWithBottomBorder]:Y.value&&!a(j),[e.$style.scrollAreaWrapperWithTopBorder]:X.value&&!a(j)})},[c(a(M),{ref_key:`scrollAreaRef`,ref:K,onScrollCapture:$},{default:_(()=>[c(ge,{collapsed:a(j),"plan-name":a(n).currentPlanData?.displayName},null,8,[`collapsed`,`plan-name`])]),_:1},512)],2),c(ne,{items:Se.value,"is-collapsed":a(j),onLogout:Ee,onSelect:Te},null,8,[`items`,`is-collapsed`]),c(he,{"is-collapsed":a(j)},null,8,[`is-collapsed`]),c(_e)]),_:1},8,[`class`,`width`,`style`,`onResizestart`,`onResize`,`onResizeend`]))}}),[[`__cssModules`,{$style:{sideMenu:`_sideMenu_oveah_125`,sideMenuCollapsed:`_sideMenuCollapsed_oveah_133`,scrollAreaWrapper:`_scrollAreaWrapper_oveah_138`,scrollAreaWrapperWithBottomBorder:`_scrollAreaWrapperWithBottomBorder_oveah_147`,scrollAreaWrapperWithTopBorder:`_scrollAreaWrapperWithTopBorder_oveah_151`}}]]),Q=l({__name:`AppSidebar`,setup(e){return(e,t)=>(v(),d(ye))}});export{Q as t};
//# sourceMappingURL=AppSidebar-Dkkt5893.js.map