!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./_initCloneObject-legacy-MRnavmEz.js","./users.store-legacy-B-bVJKl3.js","./radio-legacy-DHK4-nqQ.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./dataTable.store-legacy-bRwnG61W.js","./Modal-legacy-BQYiVbf3.js"],(function(e,t){var a,l,r,o,n,s,i,u,c,d,p,f,m,v,y,b,g,_,h,w,x,k,T,j,$,C,E,S,F,L,R,D,U,I,N,A,M,O,P,z,B,V,H,W,G,q,K,X,J,Y,Z,Q,ee,te,ae,le,re,oe,ne,se,ie,ue,ce,de,pe,fe,me,ve,ye,be,ge,_e,he,we,xe,ke,Te,je,$e,Ce,Ee,Se,Fe,Le,Re,De,Ue,Ie,Ne,Ae,Me,Oe,Pe,ze,Be,Ve,He,We,Ge,qe,Ke,Xe,Je,Ye,Ze,Qe,et,tt,at,lt,rt,ot,nt,st,it,ut,ct,dt,pt,ft,mt,vt,yt,bt,gt,_t,ht,wt,xt,kt,Tt,jt,$t,Ct,Et,St,Ft,Lt,Rt,Dt,Ut,It,Nt,At,Mt,Ot,Pt,zt,Bt,Vt,Ht,Wt,Gt,qt,Kt,Xt,Jt,Yt,Zt,Qt,ea,ta,aa,la,ra,oa,na,sa,ia,ua,ca,da,pa,fa,ma,va,ya,ba,ga,_a,ha,wa,xa,ka,Ta,ja,$a,Ca,Ea,Sa,Fa,La,Ra,Da,Ua,Ia,Na,Aa,Ma,Oa,Pa,za,Ba,Va,Ha;function Wa(e,t){for(var a=-1,l=null==e?0:e.length;++a<l&&!1!==t(e[a],a,e););return e}function Ga(e,t){return e&&Be(t,xe(t),e)}function qa(e,t){return e&&Be(t,Pe(t),e)}function Ka(e,t){return Be(e,Re(e),t)}function Xa(e,t){return Be(e,st(e),t)}function Ja(e){return V(e,Pe,st)}function Ya(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Za(e,t){var a=t?ze(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function Qa(e){var t=new e.constructor(e.source,ft.exec(e));return t.lastIndex=e.lastIndex,t}function el(e){return yt?Object(yt.call(e)):{}}function tl(e,t,a){var l=e.constructor;switch(t){case $t:return ze(e);case gt:case _t:return new l(+e);case Ct:return pt(e,a);case Et:case St:case Ft:case Lt:case Rt:case Dt:case Ut:case It:case Nt:return Oe(e,a);case ht:return new l;case wt:case Tt:return new l(e);case xt:return mt(e);case kt:return new l;case jt:return bt(e)}}function al(e){return ce(e)&&De(e)==Mt}function ll(e){return ce(e)&&De(e)==Vt}function rl(e,t,a,l,r,o){var n,s=t&Kt,i=t&Xt,u=t&Jt;if(a&&(n=r?a(e,l,r,o):a(e)),void 0!==n)return n;if(!Y(e))return e;var c=ue(e);if(c){if(n=dt(e),!s)return Ae(e,n)}else{var d=De(e),p=d==Zt||d==Qt;if(Q(e))return Me(e,s);if(d==ea||d==Yt||p&&!r){if(n=i||p?{}:Ve(e),!s)return i?it(e,rt(n,e)):ot(e,lt(n,e))}else{if(!ta[d])return r?e:{};n=At(e,d,s)}}o||(o=new W);var f=o.get(e);if(f)return f;o.set(e,n),qt(e)?e.forEach((function(l){n.add(rl(l,t,a,l,e,o))})):Bt(e)&&e.forEach((function(l,r){n.set(r,rl(l,t,a,r,e,o))}));var m=c?void 0:(u?i?ut:ae:i?Pe:xe)(e);return at(m||e,(function(l,r){m&&(l=e[r=l]),ne(n,r,rl(l,t,a,r,e,o))})),n}function ol(e){return aa(e,la|ra)}function nl(e,t,a){let l;return l=a.response?`${a.response.error||a.response}`:a.responseText?`${a.responseText}`:`fail to ${t.method} ${e} ${a.status}`,new va(l,a.status,t.method,e)}return{setters:[function(e){e.o},function(e){a=e.C,l=e.Cn,r=e.D,o=e.E,n=e.Gt,s=e.It,i=e.J,u=e.Jt,c=e.M,d=e.P,p=e.T,f=e.Vt,m=e.W,v=e.Z,y=e._,b=e._t,g=e.an,_=e.at,h=e.bn,w=e.bt,x=e.ct,k=e.et,T=e.h,j=e.it,$=e.j,C=e.k,E=e.m,S=e.mn,F=e.nn,L=e.nt,R=e.r,D=e.tn,U=e.un,I=e.vn,N=e.w,A=e.z,M=e.zt},function(e){O=e.yt},function(e){P=e.$r,z=e.Bn,B=e.Ci,V=e.Cr,H=e.Dr,W=e.Er,G=e.Fr,q=e.Gn,K=e.Hi,X=e.Hn,J=e.Ir,Y=e.Jr,Z=e.Kn,Q=e.Lr,ee=e.Mn,te=e.Rn,ae=e.Sr,le=e.Tr,re=e.Ui,oe=e.Vi,ne=e.Vr,se=e.Xn,ie=e.Yn,ue=e.Yr,ce=e.Zr,de=e.ai,pe=e.ar,fe=e.en,me=e.fn,ve=e.ft,ye=e.gr,be=e.hn,ge=e.hr,_e=e.ir,he=e.ji,we=e.jn,xe=e.jr,ke=e.nn,Te=e.ot,je=e.pn,$e=e.pt,Ce=e.rn,Ee=e.rr,Se=e.st,Fe=e.wi,Le=e.wn,Re=e.wr,De=e.xr,Ue=e.zn},function(e){Ie=e.t},function(e){},function(e){Ne=e.a,Ae=e.c,Me=e.i,Oe=e.n,Pe=e.o,ze=e.r,Be=e.s,Ve=e.t},function(e){He=e.Lt,We=e.r,Ge=e.yr},function(e){qe=e.n,Ke=e.t},function(e){Xe=e.Ir,Je=e.ei,Ye=e.na,Ze=e.pi},function(e){},function(e){},function(e){},function(e){},function(e){Qe=e.t},function(e){et=e.t}],execute:function(){(tt=document.createElement("style")).textContent="._header_1ypw9_125{margin-bottom:var(--spacing--xs)}._content_1ypw9_129{flex-direction:column;display:flex}._selectionContent_1ypw9_134{gap:var(--spacing--md);flex-direction:column;display:flex}._radioGroup_1ypw9_140{gap:var(--spacing--xs);flex-direction:column;display:flex}._radioGroup_1ypw9_140 .el-radio{height:auto;margin-right:0}._radioGroup_1ypw9_140 .el-radio__input.is-checked .el-radio__inner{background-color:var(--color--primary);border-color:var(--color--primary)}._radioGroup_1ypw9_140 .el-radio__inner{width:16px;height:16px}._radioGroup_1ypw9_140 .el-radio__input:hover .el-radio__inner{border-color:var(--color--foreground)}._radioGroup_1ypw9_140 .el-radio__input.is-checked:hover .el-radio__inner{border-color:var(--color--primary)}._radioGroup_1ypw9_140 .el-radio__label{font-size:var(--font-size--sm);padding-left:var(--spacing--xs);color:var(--color--text)!important}._radioGroup_1ypw9_140 .el-radio.is-checked .el-radio__label{color:var(--color--text)!important}._uploadSection_1ypw9_172{gap:var(--spacing--sm);flex-direction:column;display:flex}._uploadingMessage_1ypw9_178{padding:var(--spacing--lg);text-align:center;color:var(--color--text--tint-1)}._importContent_1ypw9_184{gap:var(--spacing--md);flex-direction:column;display:flex}._successNotice_1ypw9_190{padding:var(--spacing--sm)var(--spacing--md);background-color:var(--color--success--tint-4);border-radius:var(--radius);color:var(--color--success--shade-1);font-size:var(--font-size--sm);line-height:var(--line-height--lg)}._columnHeaders_1ypw9_199{gap:var(--spacing--md);padding:0 var(--spacing--2xs);grid-template-columns:1fr 1fr;display:grid}._columnHeaderLabel_1ypw9_206{font-size:var(--font-size--sm);font-weight:var(--font-weight--regular);color:var(--color--text--tint-1)}._columnsContainer_1ypw9_212{gap:var(--spacing--md);max-height:400px;padding:var(--spacing--2xs);flex-direction:column;display:flex;overflow-y:auto}._columnItem_1ypw9_221{gap:var(--spacing--md);grid-template-columns:1fr 1fr;align-items:start;display:grid}._columnInputWrapper_1ypw9_228{gap:var(--spacing--4xs);flex-direction:column;display:flex}._columnTypeWrapper_1ypw9_234{align-items:center;display:flex}._inputError_1ypw9_239{border-color:var(--color--danger)!important}._inputError_1ypw9_239:focus{box-shadow:0 0 0 2px var(--color--danger--tint-3)!important}._columnErrorMessage_1ypw9_246{font-size:var(--font-size--3xs);color:var(--color--danger);line-height:var(--line-height--sm)}._footer_1ypw9_252{gap:var(--spacing--2xs);margin-top:var(--spacing--lg);justify-content:flex-end;display:flex}._fileSelectedContainer_1ypw9_259{gap:var(--spacing--lg);padding:var(--spacing--lg)0;flex-direction:column;display:flex}._uploadDemo_1ypw9_266{width:100%}._uploadDemo_1ypw9_266 .el-upload{border-radius:var(--radius--lg);width:100%}._uploadDemo_1ypw9_266 .el-upload-dragger{width:100%;padding:var(--spacing--2xl)var(--spacing--lg);border:1px solid var(--color--foreground);background-color:var(--color--background-base);border-radius:var(--radius--lg);flex-direction:column;justify-content:center;align-items:center;transition:all .2s;display:flex}._uploadDemo_1ypw9_266 .el-upload-dragger:hover{background-color:var(--color--background)}._uploadDemo_1ypw9_266 input[type=file]{display:none!important}._uploadIcon_1ypw9_292{margin-bottom:var(--spacing--sm)}._fileName_1ypw9_296{font-weight:var(--font-weight--regular)}\n/*$vite$:1*/",document.head.appendChild(tt);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(V=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[V]="c3c3215b-6927-4073-acab-21f13905c8e6",t._sentryDebugIdIdentifier="sentry-dbid-c3c3215b-6927-4073-acab-21f13905c8e6")}catch(t){}var t,V;at=Wa,lt=Ga,rt=qa,ot=Ka,nt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)H(t,Re(e)),e=Ne(e);return t}:le,st=nt,it=Xa,ut=Ja,ct=Object.prototype.hasOwnProperty,dt=Ya,pt=Za,ft=/\w*$/,mt=Qa,vt=P?P.prototype:void 0,yt=vt?vt.valueOf:void 0,bt=el,gt="[object Boolean]",_t="[object Date]",ht="[object Map]",wt="[object Number]",xt="[object RegExp]",kt="[object Set]",Tt="[object String]",jt="[object Symbol]",$t="[object ArrayBuffer]",Ct="[object DataView]",Et="[object Float32Array]",St="[object Float64Array]",Ft="[object Int8Array]",Lt="[object Int16Array]",Rt="[object Int32Array]",Dt="[object Uint8Array]",Ut="[object Uint8ClampedArray]",It="[object Uint16Array]",Nt="[object Uint32Array]",At=tl,Mt="[object Map]",Ot=al,Pt=G&&G.isMap,zt=Pt?J(Pt):Ot,Bt=zt,Vt="[object Set]",Ht=ll,Wt=G&&G.isSet,Gt=Wt?J(Wt):Ht,qt=Gt,Kt=1,Xt=2,Jt=4,Zt="[object Function]",Qt="[object GeneratorFunction]",ea="[object Object]",(ta={})[Yt="[object Arguments]"]=ta["[object Array]"]=ta["[object ArrayBuffer]"]=ta["[object DataView]"]=ta["[object Boolean]"]=ta["[object Date]"]=ta["[object Float32Array]"]=ta["[object Float64Array]"]=ta["[object Int8Array]"]=ta["[object Int16Array]"]=ta["[object Int32Array]"]=ta["[object Map]"]=ta["[object Number]"]=ta[ea]=ta["[object RegExp]"]=ta["[object Set]"]=ta["[object String]"]=ta["[object Symbol]"]=ta["[object Uint8Array]"]=ta["[object Uint8ClampedArray]"]=ta["[object Uint16Array]"]=ta["[object Uint32Array]"]=!0,ta["[object Error]"]=ta[Zt]=ta["[object WeakMap]"]=!1,aa=rl,la=1,ra=4,oa=ol,na=we({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ee(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ee([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:ee(Function),default:e=>`${e}%`}}),D(),sa=["aria-valuenow"],ia={viewBox:"0 0 100 100"},ua=["d","stroke","stroke-linecap","stroke-width"],ca=["d","stroke","opacity","stroke-linecap","stroke-width"],da={key:0},pa=Ce(d({...d({name:"ElProgress"}),props:na,setup(e){const t=e,s={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=me("progress"),u=a((()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:F(t.percentage)}))),c=a((()=>(t.strokeWidth/t.width*100).toFixed(1))),d=a((()=>["circle","dashboard"].includes(t.type)?Number.parseInt(""+(50-Number.parseFloat(c.value)/2),10):0)),f=a((()=>{const e=d.value,a="dashboard"===t.type;return`\n          M 50 50\n          m 0 ${a?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${a?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${a?"":"-"}${2*e}\n          `})),m=a((()=>2*Math.PI*d.value)),v=a((()=>"dashboard"===t.type?.75:1)),y=a((()=>-1*m.value*(1-v.value)/2+"px")),b=a((()=>({strokeDasharray:`${m.value*v.value}px, ${m.value}px`,strokeDashoffset:y.value}))),T=a((()=>({strokeDasharray:`${m.value*v.value*(t.percentage/100)}px, ${m.value}px`,strokeDashoffset:y.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),j=a((()=>{let e;return e=t.color?F(t.percentage):s[t.status]||s.default,e})),$=a((()=>"warning"===t.status?ie:"line"===t.type?"success"===t.status?Ue:z:"success"===t.status?te:X)),C=a((()=>"line"===t.type?12+.4*t.strokeWidth:.111111*t.width+2)),E=a((()=>t.format(t.percentage))),F=e=>{var a;const{color:l}=t;if(g(l))return l(e);if(S(l))return l;{const t=function(e){const t=100/e.length;return e.map(((e,a)=>S(e)?{color:e,percentage:(a+1)*t}:e)).sort(((e,t)=>e.percentage-t.percentage))}(l);for(const a of t)if(a.percentage>e)return a.color;return null==(a=t[t.length-1])?void 0:a.color}};return(e,t)=>(k(),r("div",{class:I([n(i).b(),n(i).m(e.type),n(i).is(e.status),{[n(i).m("without-text")]:!e.showText,[n(i).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?(k(),r("div",{key:0,class:I(n(i).b("bar"))},[N("div",{class:I(n(i).be("bar","outer")),style:h({height:`${e.strokeWidth}px`})},[N("div",{class:I([n(i).be("bar","inner"),{[n(i).bem("bar","inner","indeterminate")]:e.indeterminate},{[n(i).bem("bar","inner","striped")]:e.striped},{[n(i).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:h(n(u))},[(e.showText||e.$slots.default)&&e.textInside?(k(),r("div",{key:0,class:I(n(i).be("bar","innerText"))},[_(e.$slots,"default",{percentage:e.percentage},(()=>[N("span",null,l(n(E)),1)]))],2)):o("v-if",!0)],6)],6)],2)):(k(),r("div",{key:1,class:I(n(i).b("circle")),style:h({height:`${e.width}px`,width:`${e.width}px`})},[(k(),r("svg",ia,[N("path",{class:I(n(i).be("circle","track")),d:n(f),stroke:`var(${n(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":n(c),fill:"none",style:h(n(b))},null,14,ua),N("path",{class:I(n(i).be("circle","path")),d:n(f),stroke:n(j),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":n(c),style:h(n(T))},null,14,ca)]))],6)),!e.showText&&!e.$slots.default||e.textInside?o("v-if",!0):(k(),r("div",{key:2,class:I(n(i).e("text")),style:h({fontSize:`${n(C)}px`})},[_(e.$slots,"default",{percentage:e.percentage},(()=>[e.status?(k(),p(n(ke),{key:1},{default:w((()=>[(k(),p(x(n($))))])),_:1})):(k(),r("span",da,l(n(E)),1))]))],6))],10,sa))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]),fa=Le(pa),ma=Symbol("uploadContextKey"),D(),va=class extends Error{constructor(e,t,a,l){super(e),this.name="UploadAjaxError",this.status=t,this.method=a,this.url=l}},ya=e=>{"undefined"==typeof XMLHttpRequest&&_e("ElUpload","XMLHttpRequest is undefined");const a=new XMLHttpRequest,l=e.action;a.upload&&a.upload.addEventListener("progress",(t=>{const a=t;a.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(a)}));const r=new FormData;if(e.data)for(const[t,n]of Object.entries(e.data))F(n)&&n.length?r.append(t,...n):r.append(t,n);r.append(e.filename,e.file,e.file.name),a.addEventListener("error",(()=>{e.onError(nl(l,e,a))})),a.addEventListener("load",(()=>{if(a.status<200||a.status>=300)return e.onError(nl(l,e,a));e.onSuccess(function(e){const a=e.responseText||e.response;if(!a)return a;try{return JSON.parse(a)}catch(t){return a}}(a))})),a.open(e.method,l,!0),e.withCredentials&&"withCredentials"in a&&(a.withCredentials=!0);const o=e.headers||{};if(o instanceof Headers)o.forEach(((e,t)=>a.setRequestHeader(t,e)));else for(const[t,n]of Object.entries(o))ge(n)||a.setRequestHeader(t,String(n));return a.send(r),a},D(),ba=["text","picture","picture-card"],ga=1,_a=()=>Date.now()+ga++,ha=we({action:{type:String,default:"#"},headers:{type:ee(Object)},method:{type:String,default:"post"},data:{type:ee([Object,Function,Promise]),default:()=>be({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:ee(Array),default:()=>be([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:ba,default:"text"},httpRequest:{type:ee(Function),default:ya},disabled:Boolean,limit:Number}),wa=we({...ha,beforeUpload:{type:ee(Function),default:u},beforeRemove:{type:ee(Function)},onRemove:{type:ee(Function),default:u},onChange:{type:ee(Function),default:u},onPreview:{type:ee(Function),default:u},onSuccess:{type:ee(Function),default:u},onProgress:{type:ee(Function),default:u},onError:{type:ee(Function),default:u},onExceed:{type:ee(Function),default:u}}),D(),xa=we({files:{type:ee(Array),default:()=>be([])},disabled:{type:Boolean,default:!1},handlePreview:{type:ee(Function),default:u},listType:{type:String,values:ba,default:"text"}}),ka={remove:e=>!!e},Ta=["onKeydown"],ja=["src"],$a=["onClick"],Ca=["title"],Ea=["onClick"],Sa=["onClick"],Fa=Ce(d({...d({name:"ElUploadList"}),props:xa,emits:ka,setup(e,{emit:t}){const i=e,{t:u}=je(),d=me("upload"),f=me("icon"),m=me("list"),v=fe(),b=s(!1),g=a((()=>[d.b("list"),d.bm("list",i.listType),d.is("disabled",i.disabled)])),x=e=>{t("remove",e)};return(e,t)=>(k(),p(R,{tag:"ul",class:I(n(g)),name:n(m).b()},{default:w((()=>[(k(!0),r(y,null,j(e.files,(a=>(k(),r("li",{key:a.uid||a.name,class:I([n(d).be("list","item"),n(d).is(a.status),{focusing:b.value}]),tabindex:"0",onKeydown:E((e=>!n(v)&&x(a)),["delete"]),onFocus:t[0]||(t[0]=e=>b.value=!0),onBlur:t[1]||(t[1]=e=>b.value=!1),onClick:t[2]||(t[2]=e=>b.value=!1)},[_(e.$slots,"default",{file:a},(()=>["picture"===e.listType||"uploading"!==a.status&&"picture-card"===e.listType?(k(),r("img",{key:0,class:I(n(d).be("list","item-thumbnail")),src:a.url,alt:""},null,10,ja)):o("v-if",!0),"uploading"===a.status||"picture-card"!==e.listType?(k(),r("div",{key:1,class:I(n(d).be("list","item-info"))},[N("a",{class:I(n(d).be("list","item-name")),onClick:T((t=>e.handlePreview(a)),["prevent"])},[c(n(ke),{class:I(n(f).m("document"))},{default:w((()=>[c(n(Z))])),_:1},8,["class"]),N("span",{class:I(n(d).be("list","item-file-name")),title:a.name},l(a.name),11,Ca)],10,$a),"uploading"===a.status?(k(),p(n(fa),{key:0,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:Number(a.percentage),style:h("picture-card"===e.listType?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):o("v-if",!0)],2)):o("v-if",!0),N("label",{class:I(n(d).be("list","item-status-label"))},["text"===e.listType?(k(),p(n(ke),{key:0,class:I([n(f).m("upload-success"),n(f).m("circle-check")])},{default:w((()=>[c(n(Ue))])),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?(k(),p(n(ke),{key:1,class:I([n(f).m("upload-success"),n(f).m("check")])},{default:w((()=>[c(n(te))])),_:1},8,["class"])):o("v-if",!0)],2),n(v)?o("v-if",!0):(k(),p(n(ke),{key:2,class:I(n(f).m("close")),onClick:e=>x(a)},{default:w((()=>[c(n(X))])),_:2},1032,["class","onClick"])),o(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),o(" This is a bug which needs to be fixed "),o(" TODO: Fix the incorrect navigation interaction "),n(v)?o("v-if",!0):(k(),r("i",{key:3,class:I(n(f).m("close-tip"))},l(n(u)("el.upload.deleteTip")),3)),"picture-card"===e.listType?(k(),r("span",{key:4,class:I(n(d).be("list","item-actions"))},[N("span",{class:I(n(d).be("list","item-preview")),onClick:t=>e.handlePreview(a)},[c(n(ke),{class:I(n(f).m("zoom-in"))},{default:w((()=>[c(n(se))])),_:1},8,["class"])],10,Ea),n(v)?o("v-if",!0):(k(),r("span",{key:0,class:I(n(d).be("list","item-delete")),onClick:e=>x(a)},[c(n(ke),{class:I(n(f).m("delete"))},{default:w((()=>[c(n(q))])),_:1},8,["class"])],10,Sa))],2)):o("v-if",!0)]))],42,Ta)))),128)),_(e.$slots,"append")])),_:3},8,["class","name"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]),D(),La=we({disabled:{type:Boolean,default:!1}}),Ra={file:e=>F(e)},Da=["onDrop","onDragover"],Ia=Ce(d({...d({name:Ua="ElUploadDrag"}),props:La,emits:Ra,setup(e,{emit:t}){const a=A(ma);a||_e(Ua,"usage: <el-upload><el-upload-dragger /></el-upload>");const l=me("upload"),o=s(!1),i=fe(),u=e=>{if(i.value)return;o.value=!1,e.stopPropagation();const l=Array.from(e.dataTransfer.files),r=a.accept.value;t("file",r?l.filter((e=>{const{type:t,name:a}=e,l=a.includes(".")?`.${a.split(".").pop()}`:"",o=t.replace(/\/.*$/,"");return r.split(",").map((e=>e.trim())).filter((e=>e)).some((e=>e.startsWith(".")?l===e:/\/\*$/.test(e)?o===e.replace(/\/\*$/,""):!!/^[^/]+\/[^/]+$/.test(e)&&t===e))})):l)},c=()=>{i.value||(o.value=!0)};return(e,t)=>(k(),r("div",{class:I([n(l).b("dragger"),n(l).is("dragover",o.value)]),onDrop:T(u,["prevent"]),onDragover:T(c,["prevent"]),onDragleave:t[0]||(t[0]=T((e=>o.value=!1),["prevent"]))},[_(e.$slots,"default")],42,Da))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]),D(),Na=we({...ha,beforeUpload:{type:ee(Function),default:u},onRemove:{type:ee(Function),default:u},onStart:{type:ee(Function),default:u},onSuccess:{type:ee(Function),default:u},onProgress:{type:ee(Function),default:u},onError:{type:ee(Function),default:u},onExceed:{type:ee(Function),default:u}}),D(),Aa=["onKeydown"],Ma=["name","multiple","accept"],Oa=Ce(d({...d({name:"ElUploadContent",inheritAttrs:!1}),props:Na,setup(e,{expose:a}){const l=e,o=me("upload"),s=fe(),i=M({}),u=M(),c=e=>{if(0===e.length)return;const{autoUpload:t,limit:a,fileList:r,multiple:o,onStart:n,onExceed:s}=l;if(a&&r.length+e.length>a)s(e,r);else{o||(e=e.slice(0,1));for(const a of e){const e=a;e.uid=_a(),n(e),t&&d(e)}}},d=async e=>{if(u.value.value="",!l.beforeUpload)return f(e);let a,r={};try{const t=l.data,o=l.beforeUpload(e);r=U(l.data)?oa(l.data):l.data,a=await o,U(l.data)&&ye(t,r)&&(r=oa(l.data))}catch(t){a=!1}if(!1===a)return void l.onRemove(e);let o=e;a instanceof Blob&&(o=a instanceof File?a:new File([a],e.name,{type:e.type})),f(Object.assign(o,{uid:e.uid}),r)},f=async(e,a)=>{const{headers:r,data:o,method:n,withCredentials:s,name:u,action:c,onProgress:d,onSuccess:p,onError:f,httpRequest:m}=l;try{a=await(async(e,t)=>g(e)?e(t):e)(null!=a?a:o,e)}catch(t){return void l.onRemove(e)}const{uid:v}=e,y={headers:r||{},withCredentials:s,file:e,data:a,method:n,filename:u,action:c,onProgress:t=>{d(t,e)},onSuccess:t=>{p(t,e),delete i.value[v]},onError:t=>{f(t,e),delete i.value[v]}},b=m(y);i.value[v]=b,b instanceof Promise&&b.then(y.onSuccess,y.onError)},m=e=>{const t=e.target.files;t&&c(Array.from(t))},v=()=>{s.value||(u.value.value="",u.value.click())},y=()=>{v()};return a({abort:e=>{pe(i.value).filter(e?([t])=>String(e.uid)===t:()=>!0).forEach((([e,t])=>{t instanceof XMLHttpRequest&&t.abort(),delete i.value[e]}))},upload:d}),(e,t)=>(k(),r("div",{class:I([n(o).b(),n(o).m(e.listType),n(o).is("drag",e.drag)]),tabindex:"0",onClick:v,onKeydown:E(T(y,["self"]),["enter","space"])},[e.drag?(k(),p(Ia,{key:0,disabled:n(s),onFile:c},{default:w((()=>[_(e.$slots,"default")])),_:3},8,["disabled"])):_(e.$slots,"default",{key:1}),N("input",{ref_key:"inputRef",ref:u,class:I(n(o).e("input")),name:e.name,multiple:e.multiple,accept:e.accept,type:"file",onChange:m,onClick:t[0]||(t[0]=T((()=>{}),["stop"]))},null,42,Ma)],42,Aa))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]),Pa="ElUpload",za=e=>{var t;(null==(t=e.url)?void 0:t.startsWith("blob:"))&&URL.revokeObjectURL(e.url)},Ba=(e,t)=>{const a=de(e,"fileList",void 0,{passive:!0}),l=e=>a.value.find((t=>t.uid===e.uid));function r(e){var a;null==(a=t.value)||a.abort(e)}return b((()=>e.listType),(t=>{"picture-card"!==t&&"picture"!==t||(a.value=a.value.map((t=>{const{raw:l,url:r}=t;if(!r&&l)try{t.url=URL.createObjectURL(l)}catch(o){e.onError(o,t,a.value)}return t})))})),b(a,(e=>{for(const t of e)t.uid||(t.uid=_a()),t.status||(t.status="success")}),{immediate:!0,deep:!0}),{uploadFiles:a,abort:r,clearFiles:function(e=["ready","uploading","success","fail"]){a.value=a.value.filter((t=>!e.includes(t.status)))},handleError:(t,r)=>{const o=l(r);o&&(console.error(t),o.status="fail",a.value.splice(a.value.indexOf(o),1),e.onError(t,o,a.value),e.onChange(o,a.value))},handleProgress:(t,r)=>{const o=l(r);o&&(e.onProgress(t,o,a.value),o.status="uploading",o.percentage=Math.round(t.percent))},handleStart:t=>{ge(t.uid)&&(t.uid=_a());const l={name:t.name,percentage:0,status:"ready",size:t.size,raw:t,uid:t.uid};if("picture-card"===e.listType||"picture"===e.listType)try{l.url=URL.createObjectURL(t)}catch(r){Ee(Pa,r.message),e.onError(r,l,a.value)}a.value=[...a.value,l],e.onChange(l,a.value)},handleSuccess:(t,r)=>{const o=l(r);o&&(o.status="success",o.response=t,e.onSuccess(t,o,a.value),e.onChange(o,a.value))},handleRemove:async t=>{const o=t instanceof File?l(t):t;o||_e(Pa,"file to be removed not found");const n=t=>{r(t);const l=a.value;l.splice(l.indexOf(t),1),e.onRemove(t,l),za(t)};e.beforeRemove?!1!==await e.beforeRemove(o,a.value)&&n(o):n(o)},submit:function(){a.value.filter((({status:e})=>"ready"===e)).forEach((({raw:e})=>{var a;return e&&(null==(a=t.value)?void 0:a.upload(e))}))},revokeFileObjectURL:za}},Va=Ce(d({...d({name:"ElUpload"}),props:wa,setup(e,{expose:t}){const l=e,s=fe(),u=M(),{abort:d,submit:v,clearFiles:y,uploadFiles:b,handleStart:g,handleError:h,handleRemove:x,handleSuccess:T,handleProgress:j,revokeFileObjectURL:$}=Ba(l,u),E=a((()=>"picture-card"===l.listType)),S=a((()=>({...l,fileList:b.value,onStart:g,onProgress:j,onSuccess:T,onError:h,onRemove:x})));return i((()=>{b.value.forEach($)})),L(ma,{accept:f(l,"accept")}),t({abort:d,submit:v,clearFiles:y,handleStart:g,handleRemove:x}),(e,t)=>(k(),r("div",null,[n(E)&&e.showFileList?(k(),p(Fa,{key:0,disabled:n(s),"list-type":e.listType,files:n(b),"handle-preview":e.onPreview,onRemove:n(x)},C({append:w((()=>[c(Oa,m({ref_key:"uploadRef",ref:u},n(S)),{default:w((()=>[e.$slots.trigger?_(e.$slots,"trigger",{key:0}):o("v-if",!0),!e.$slots.trigger&&e.$slots.default?_(e.$slots,"default",{key:1}):o("v-if",!0)])),_:3},16)])),_:2},[e.$slots.file?{name:"default",fn:w((({file:t})=>[_(e.$slots,"file",{file:t})]))}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):o("v-if",!0),!n(E)||n(E)&&!e.showFileList?(k(),p(Oa,m({key:1,ref_key:"uploadRef",ref:u},n(S)),{default:w((()=>[e.$slots.trigger?_(e.$slots,"trigger",{key:0}):o("v-if",!0),!e.$slots.trigger&&e.$slots.default?_(e.$slots,"default",{key:1}):o("v-if",!0)])),_:3},16)):o("v-if",!0),e.$slots.trigger?_(e.$slots,"default",{key:2}):o("v-if",!0),_(e.$slots,"tip"),!n(E)&&e.showFileList?(k(),p(Fa,{key:3,disabled:n(s),"list-type":e.listType,files:n(b),"handle-preview":e.onPreview,onRemove:n(x)},C({_:2},[e.$slots.file?{name:"default",fn:w((({file:t})=>[_(e.$slots,"file",{file:t})]))}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):o("v-if",!0)]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]),Ha=Le(Va),e("default",Ie(d({__name:"AddDataTableModal",props:{modalName:{}},setup(e){const t=e,i=Qe(),u=We(),d=B(),f=Fe(),m=O(),b=Ge(),g=He(),_=s("select"),h=s(""),x=s(null),T=s(null),C=s(null),S=s(""),F=s([]),L=s(0),R=s(0),D=s(!1),U=s(!0),A=s(!1),M=[{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Boolean",value:"boolean"},{label:"Datetime",value:"date"}],P=e=>M.some((t=>t.value===e)),z=e=>e&&0!==e.length?M.filter((t=>e.includes(t.value))):M,V=e=>Ye.includes(e)?m.baseText("dataTable.import.systemColumnName",{interpolate:{columnName:e}}):Ze.safeParse(e).success?void 0:m.baseText("dataTable.import.invalidColumnName"),H=a((()=>"import"===_.value&&F.value.some((e=>void 0!==e.error)))),W=a((()=>{if("import"!==_.value)return!1;const e=F.value.map((e=>e.name.toLowerCase()));return e.length!==new Set(e).size})),G=a((()=>"import"===_.value?"Set data table columns":m.baseText("dataTable.add.title"))),q=a((()=>"import"!==_.value||!h.value||!C.value||H.value||W.value));v((()=>{setTimeout((()=>{x.value?.focus(),x.value?.select()}),0)}));const X=s("scratch"),J=async()=>{if(X.value&&h.value&&!D.value)if("scratch"===X.value)await ee();else if("import"===X.value){if(!T.value)return;await Q()}},Y=(e=!1)=>{e&&(h.value=""),T.value=null,C.value=null,S.value="",F.value=[],L.value=0,R.value=0,X.value="scratch",_.value="select"},Z=e=>{e.raw&&(T.value=e.raw)},Q=async()=>{if(T.value){D.value=!0,_.value="import";try{const e=await i.uploadCsvFile(T.value,U.value);C.value=e.id,S.value=e.originalName,L.value=e.rowCount,R.value=e.columnCount,F.value=e.columns.map((e=>{const t=(e.compatibleTypes||[e.type]).filter(P),a=e.name.replace(/\s+/g,"_");return{name:a,type:P(e.type)?e.type:"string",compatibleTypes:t,typeOptions:z(t),error:V(a)}})),h.value||(h.value=T.value.name.replace(/\.csv$/i,""))}catch(e){b.showError(e,m.baseText("dataTable.upload.error")),Y()}finally{D.value=!1}}},ee=async()=>{D.value=!0;try{let e;"scratch"===X.value?e=await i.createDataTable(h.value,d.params.projectId):"import"===_.value&&C.value&&(e=await i.createDataTable(h.value,d.params.projectId,F.value.map((e=>({name:e.name,type:e.type}))),C.value,U.value)),e&&(g.track("User created data table",{data_table_id:e.id,data_table_project_id:e.project?.id,creation_mode:X.value}),Y(!0),u.closeModal(t.modalName),f.push({name:Xe,params:{id:e.id}}))}catch(e){b.showError(e,m.baseText("dataTable.add.error"))}finally{D.value=!1}},te=()=>{_.value="select"},ae=()=>{f.replace({name:Je})};return(e,a)=>(k(),p(et,{name:t.modalName,center:!0,width:"import"===_.value?"700px":"540px","min-height":"import"===_.value?"600px":void 0,"before-close":ae},{header:w((()=>[N("div",{class:I(e.$style.header)},[N("h2",null,l(G.value),1)],2)])),content:w((()=>["select"===_.value?(k(),r("div",{key:0,class:I(e.$style.selectionContent)},[c(n(Te),{label:n(m).baseText("dataTable.add.input.name.label"),required:!0,"input-name":"dataTableNameSelect"},{default:w((()=>[c(n(he),{ref_key:"inputRef",ref:x,modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),type:"text",placeholder:n(m).baseText("dataTable.add.input.name.placeholder"),"data-test-id":"data-table-name-input-select",name:"dataTableNameSelect",onKeydown:E(J,["enter"])},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),c(n(qe),{modelValue:X.value,"onUpdate:modelValue":a[1]||(a[1]=e=>X.value=e),class:I(e.$style.radioGroup)},{default:w((()=>[c(n(Ke),{label:"scratch","data-test-id":"create-from-scratch-option"},{default:w((()=>[$(l(n(m).baseText("dataTable.add.fromScratch")),1)])),_:1}),c(n(Ke),{label:"import","data-test-id":"import-csv-option"},{default:w((()=>[$(l(n(m).baseText("dataTable.add.importCsv")),1)])),_:1})])),_:1},8,["modelValue","class"]),"import"===X.value?(k(),r("div",{key:0,class:I(e.$style.uploadSection)},[c(n(Ha),{class:I(e.$style.uploadDemo),drag:"","auto-upload":!1,"show-file-list":!1,accept:".csv","on-change":Z,onMouseenter:a[2]||(a[2]=e=>A.value=!0),onMouseleave:a[3]||(a[3]=e=>A.value=!1)},{default:w((()=>[c(n(re),{icon:"file",size:24,color:A.value?"text-dark":"text-light",class:I(e.$style.uploadIcon)},null,8,["color","class"]),T.value?(k(),p(n(oe),{key:0,color:A.value?"text-dark":"text-light"},{default:w((()=>[$(l(T.value?.name),1)])),_:1},8,["color"])):(k(),p(n(oe),{key:1,size:"medium",color:A.value?"text-dark":"text-light"},{default:w((()=>[$(l(n(m).baseText("dataTable.upload.dropOrClick")),1)])),_:1},8,["color"]))])),_:1},8,["class"]),c(n(Se),{modelValue:U.value,"onUpdate:modelValue":a[4]||(a[4]=e=>U.value=e),label:n(m).baseText("dataTable.upload.hasHeaders"),"data-test-id":"has-headers-checkbox"},null,8,["modelValue","label"])],2)):o("",!0)],2)):"import"===_.value?(k(),r("div",{key:1,class:I(e.$style.content)},[D.value?(k(),r("div",{key:0,class:I(e.$style.uploadingMessage)},l(n(m).baseText("dataTable.upload.uploading")),3)):C.value?C.value&&F.value.length>0?(k(),r("div",{key:2,class:I(e.$style.importContent)},[N("div",{class:I(e.$style.successNotice)},l(n(m).baseText("dataTable.upload.success",{adjustToNumber:L.value,interpolate:{fileName:S.value,columnCount:R.value,rowCount:L.value}})),3),N("div",{class:I(e.$style.columnHeaders)},[N("div",{class:I(e.$style.columnHeaderLabel)},l(n(m).baseText("dataTable.import.columnName")),3),N("div",{class:I(e.$style.columnHeaderLabel)},l(n(m).baseText("dataTable.import.columnType")),3)],2),N("div",{class:I(e.$style.columnsContainer)},[(k(!0),r(y,null,j(F.value,((t,a)=>(k(),r("div",{key:a,class:I(e.$style.columnItem)},[N("div",{class:I(e.$style.columnInputWrapper)},[c(n(he),{modelValue:t.name,"onUpdate:modelValue":[e=>t.name=e,e=>(e=>{const t=F.value[e];t&&(t.error=V(t.name),F.value.some(((a,l)=>l!==e&&a.name.toLowerCase()===t.name.toLowerCase()))&&!t.error&&(t.error=m.baseText("dataTable.import.duplicateColumnName")),F.value.forEach(((t,a)=>{if(a!==e){const e=F.value.some(((e,l)=>l!==a&&e.name.toLowerCase()===t.name.toLowerCase())),l=V(t.name);t.error=e&&!l?m.baseText("dataTable.import.duplicateColumnName"):l}})))})(a)],placeholder:n(m).baseText("dataTable.import.columnNamePlaceholder"),"data-test-id":`column-name-${a}`,class:I({[e.$style.inputError]:t.error})},null,8,["modelValue","onUpdate:modelValue","placeholder","data-test-id","class"]),t.error?(k(),r("div",{key:0,class:I(e.$style.columnErrorMessage)},l(t.error),3)):o("",!0)],2),N("div",{class:I(e.$style.columnTypeWrapper)},[c(n(ve),{modelValue:t.type,"onUpdate:modelValue":e=>t.type=e,disabled:1===t.typeOptions.length,"data-test-id":`column-type-${a}`},{default:w((()=>[(k(!0),r(y,null,j(t.typeOptions,(e=>(k(),p(n($e),{key:e.value,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled","data-test-id"])],2)],2)))),128))],2)],2)):o("",!0):(k(),r("div",{key:1,class:I(e.$style.uploadingMessage)},l(n(m).baseText("dataTable.upload.selectFile")),3))],2)):o("",!0)])),footer:w((()=>[N("div",{class:I(e.$style.footer)},["select"===_.value?(k(),p(n(K),{key:0,variant:"subtle",size:"large",label:n(m).baseText("generic.cancel"),"data-test-id":"cancel-select-button",onClick:ae},null,8,["label"])):o("",!0),"select"===_.value?(k(),p(n(K),{key:1,loading:D.value,size:"large",disabled:!h.value||!X.value||"import"===X.value&&!T.value,label:n(m).baseText("generic.create"),"data-test-id":"proceed-from-select-button",onClick:J},null,8,["loading","disabled","label"])):o("",!0),"import"===_.value?(k(),p(n(K),{key:2,variant:"subtle",size:"large",label:n(m).baseText("generic.back"),"data-test-id":"back-button",onClick:te},null,8,["label"])):o("",!0),"import"===_.value?(k(),p(n(K),{key:3,loading:D.value,size:"large",disabled:q.value,label:n(m).baseText("generic.create"),"data-test-id":"confirm-add-data-table-button",onClick:ee},null,8,["loading","disabled","label"])):o("",!0)],2)])),_:1},8,["name","width","min-height"]))}}),[["__cssModules",{$style:{header:"_header_1ypw9_125",content:"_content_1ypw9_129",selectionContent:"_selectionContent_1ypw9_134",radioGroup:"_radioGroup_1ypw9_140",uploadSection:"_uploadSection_1ypw9_172",uploadingMessage:"_uploadingMessage_1ypw9_178",importContent:"_importContent_1ypw9_184",successNotice:"_successNotice_1ypw9_190",columnHeaders:"_columnHeaders_1ypw9_199",columnHeaderLabel:"_columnHeaderLabel_1ypw9_206",columnsContainer:"_columnsContainer_1ypw9_212",columnItem:"_columnItem_1ypw9_221",columnInputWrapper:"_columnInputWrapper_1ypw9_228",columnTypeWrapper:"_columnTypeWrapper_1ypw9_234",inputError:"_inputError_1ypw9_239",columnErrorMessage:"_columnErrorMessage_1ypw9_246",footer:"_footer_1ypw9_252",fileSelectedContainer:"_fileSelectedContainer_1ypw9_259",uploadDemo:"_uploadDemo_1ypw9_266",uploadIcon:"_uploadIcon_1ypw9_292",fileName:"_fileName_1ypw9_296"}}]]))}}}));
//# sourceMappingURL=AddDataTableModal-legacy-D6l35hPQ.js.map