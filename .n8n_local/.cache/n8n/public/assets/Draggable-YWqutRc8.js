(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`73a76c40-e861-4de8-b4c6-945fd5c9a4eb`,e._sentryDebugIdIdentifier=`sentry-dbid-73a76c40-e861-4de8-b4c6-945fd5c9a4eb`)})()}catch{}import{C as e,It as t,J as n,P as r,T as i,at as a,b as o,bn as s,bt as c,ct as l,et as u,p as d,vn as f,w as p,xt as m}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{t as h}from"./_plugin-vue_export-helper-B_J4Khre.js";import{ca as g}from"./users.store-pCkD7Zo0.js";var _=h(r({__name:`Draggable`,props:{type:{},data:{default:null},tag:{default:`div`},targetDataKey:{default:null},disabled:{type:Boolean,default:!1},canDrop:{type:Boolean,default:!1},stickyPosition:{default:null},dragThreshold:{default:10}},emits:[`drag`,`dragstart`,`dragend`],setup(r,{emit:h}){let _=r,v=h,y=t(!1),b=t(),x=t([0,0]),S=t(),C=t(null),w=e(()=>({transform:`translate(${x.value[0]}px, ${x.value[1]}px)`})),T=e=>{if(_.disabled||e.buttons!==1||(b.value=e.target,_.targetDataKey&&b.value.dataset?.target!==_.targetDataKey&&(b.value=b.value.closest(`[data-target="${_.targetDataKey}"]`)),_.targetDataKey&&b.value?.dataset?.target!==_.targetDataKey))return;e.preventDefault(),e.stopPropagation(),y.value=!1,C.value=[e.pageX,e.pageY],x.value=[e.pageX,e.pageY],window.addEventListener(`mousemove`,E),window.addEventListener(`mouseup`,D);let t=document.activeElement;t&&t.blur()},E=e=>{if(e.preventDefault(),e.stopPropagation(),!_.disabled){if(!y.value&&b.value){if(C.value&&_.dragThreshold>0){let t=e.pageX-C.value[0],n=e.pageY-C.value[1];if(Math.sqrt(t*t+n*n)<_.dragThreshold)return}y.value=!0;let t=_.targetDataKey?b.value.dataset.value:_.data??``;v(`dragstart`,b.value,t),document.body.style.cursor=`grabbing`}S.value=window.requestAnimationFrame(()=>{_.canDrop&&_.stickyPosition?x.value=_.stickyPosition:x.value=[e.pageX,e.pageY],v(`drag`,x.value)})}},D=()=>{_.disabled||(document.body.style.cursor=`unset`,window.removeEventListener(`mousemove`,E),window.removeEventListener(`mouseup`,D),g(S.value)&&window.cancelAnimationFrame(S.value),setTimeout(()=>{y.value&&b.value&&v(`dragend`,b.value),y.value=!1,b.value=void 0,C.value=null}))};return n(()=>{y.value&&b.value&&v(`dragend`,b.value)}),(e,t)=>(u(),i(l(r.tag),{ref:`wrapper`,class:f({[e.$style.dragging]:y.value}),"data-test-id":`draggable`,onMousedown:T},{default:c(()=>[a(e.$slots,`default`,{isDragging:y.value}),(u(),i(o,{to:`body`},[m(p(`div`,{ref:`draggable`,class:f(e.$style.draggable),style:s(w.value)},[a(e.$slots,`preview`,{canDrop:r.canDrop,el:b.value})],6),[[d,y.value]])]))]),_:3},40,[`class`]))}}),[[`__cssModules`,{$style:{dragging:`_dragging_8hfmf_125`,draggable:`_draggable_8hfmf_130`,"draggable-data-transfer":`_draggable-data-transfer_8hfmf_138`}}]]);export{_ as t};
//# sourceMappingURL=Draggable-YWqutRc8.js.map