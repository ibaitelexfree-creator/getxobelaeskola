!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./banners.store-legacy-B3TV_6lC.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./useEnvFeatureFlag-legacy-D1JgdFvC.js","./uniqBy-legacy-D3DmQIZU.js","./nodeIcon-legacy-KJSlWBN7.js","./folders.store-legacy-BDfX2wrH.js","./ProjectIcon-legacy-j5-RLKs-.js","./ProjectCardBadge-legacy-CnGUtAhp.js","./usage.store-legacy-COjB70KG.js","./useDynamicCredentials-legacy-DtgrzjN_.js","./Draggable-legacy-DR_TRqSl.js","./NodeIcon-legacy-DOI-M5xN.js","./pushConnection.store-legacy-C36NF7Lj.js","./nodeTransforms-legacy-Bt0tXwjd.js","./collaboration.store-legacy-COoId2Xe.js","./EnterpriseEdition.ee-legacy-a_97PcVf.js","./TimeAgo-legacy-B4YnT5IQ.js","./orderBy-legacy-BePN9Mxt.js","./ProjectSharing-legacy-BSYOg5eC.js","./TagsDropdown-legacy-BxHqGla1.js","./WorkflowTagsDropdown-legacy-DpQYAd99.js","./insights.store-legacy-BeV4G8Lk.js","./insights.constants-legacy-CSuwNipZ.js","./insights.utils-legacy-BZFivQZh.js","./templateTransforms-legacy-Crg03c3X.js","./useMcp-legacy-BnFtTyT-.js","./shuffle-legacy-9zvAh24V.js","./useWorkflowActivate-legacy-BYoAWriG.js","./values-legacy-B8AhYS69.js","./readyToRun.store-legacy-CKgcGLoh.js","./aiTemplatesStarterCollection.store-legacy-Ch_qppxf.js","./FolderBreadcrumbs-legacy-FM8APFoR.js","./ProjectBreadcrumb-legacy-DAFk_R0v.js","./emptyStateBuilderPrompt.store-legacy-BPX3i9GN.js","./EmptySharedSectionActionBox-legacy-CISdXDcM.js","./ResourcesListLayout-legacy-F7QQXxoV.js","./ResourceFiltersDropdown-legacy-CHaOqZQ_.js","./ProjectHeader-legacy-DGkAQnAC.js","./mcp.store-legacy-DptxaWCG.js","./RecommendedTemplateCard-legacy-DpWFIlNK.js","./InsightsSummary-legacy-MuDFw8Uk.js"],(function(e,a){var t,o,r,s,l,n,i,d,c,u,p,m,f,g,v,w,h,_,y,b,k,x,T,C,j,I,S,F,E,A,P,$,O,z,W,M,D,B,R,L,N,U,V,H,q,J,G,K,Y,Q,X,Z,ee,ae,te,oe,re,se,le,ne,ie,de,ce,ue,pe,me,fe,ge,ve,we,he,_e,ye,be,ke,xe,Te,Ce,je,Ie,Se,Fe,Ee,Ae,Pe,$e,Oe,ze,We,Me,De,Be,Re,Le,Ne,Ue,Ve,He,qe,Je,Ge,Ke,Ye,Qe,Xe,Ze,ea,aa,ta,oa,ra,sa,la,na,ia,da,ca,ua,pa,ma,fa,ga,va,wa,ha,_a,ya,ba,ka,xa,Ta,Ca,ja,Ia,Sa,Fa,Ea,Aa,Pa,$a,Oa,za,Wa,Ma,Da,Ba,Ra,La,Na,Ua,Va,Ha,qa,Ja,Ga,Ka,Ya,Qa,Xa,Za,et,at,tt,ot,rt,st,lt,nt,it;function dt(e){let a,t=0;const o=e.edgeSize??Pa,r=e.maxSpeed??$a,s=()=>{t=0,void 0!==a&&(cancelAnimationFrame(a),a=void 0)},l=()=>{const o=e.container.value;o&&0!==t?(o.scrollBy({top:t}),a=requestAnimationFrame(l)):a=void 0},n=n=>{const i=e.container.value;if(!i)return void s();const{scrollHeight:d,clientHeight:c}=i;if(d<=c)return void s();const u=i.getBoundingClientRect(),p=n.clientY;let m=0,f=0;if(p<u.top)m=-1,f=o;else if(p>u.bottom)m=1,f=o;else{const e=p-u.top,a=u.bottom-p,t=a<o;(e<o||t)&&(!t||e<=a?(m=-1,f=o-Math.min(e,o)):(m=1,f=o-Math.min(a,o)))}if(0===m)return void s();const g=Math.min(f/o,1);var v;v=m*Math.max(2,g*r),t=v,a??=requestAnimationFrame(l)},i=()=>{window.removeEventListener("mousemove",n)};w([e.isActive,e.container],(([e,a],t,o)=>{i(),s(),e&&a&&window.addEventListener("mousemove",n),o((()=>{i(),s()}))}),{immediate:!0}),u((()=>{i(),s()}))}function ct(e){if(0===e.length)return Oa;const a=function(e){return Object.keys(za).filter((a=>e.includes(a))).reduce(((e,a)=>[...e,...za[a]]),[])}(e);return a.length>0?a:[]}function ut(e){return e.length<=3?e:Array.from(new Map(e.map((e=>[e.id,e]))).values()).sort(((e,a)=>a.totalViews-e.totalViews)).slice(0,3)}function pt(e,a){return b(),s("div",Da,[h(e.$slots,"default")])}function mt(){const e=P(),a=Ie(),t=ne(),r=Se(),s=ya(),l=fa(),n=o((()=>a.currentUser??{})),i=o((()=>t.personalProject)),d=o((()=>r.preferences.branchReadOnly)),c=o((()=>Re(t.currentProject?.scopes??i.value?.scopes))),u=o((()=>!d.value&&c.value.workflow.create)),p=o((()=>s.isFeatureEnabled&&!d.value&&c.value.workflow.create));return{showBuilderPrompt:o((()=>l.isFeatureEnabled&&!d.value&&c.value.workflow.create)),showRecommendedTemplatesInline:p,builderHeading:o((()=>{const a=n.value.firstName;return a?e.baseText("workflows.empty.heading.builder",{interpolate:{name:a}}):e.baseText("workflows.empty.heading.builder.userNotSetup")})),emptyStateHeading:o((()=>{const a=n.value.firstName;return p.value?a?e.baseText("workflows.empty.heading",{interpolate:{name:a}}):e.baseText("workflows.empty.heading.userNotSetup"):a?e.baseText("workflows.empty.headingWithIcon",{interpolate:{name:a}}):e.baseText("workflows.empty.headingWithIcon.userNotSetup")})),emptyStateDescription:o((()=>d.value?e.baseText("workflows.empty.description.readOnlyEnv"):c.value.workflow.create?e.baseText("workflows.empty.description"):e.baseText("workflows.empty.description.noPermission"))),canCreateWorkflow:u,readOnlyEnv:d,projectPermissions:c}}function ft(e,a){const t=i(0),r=i("");let s=null;const l=o((()=>{const a=e.value;return 0===a.length?"":a[t.value%a.length]?.summary??""})),n=o((()=>et+r.value));function d(){null!==s&&(clearTimeout(s),s=null)}function c(){if(!a.value)return;if(0===e.value.length)return;const t=l.value;r.value.length<t.length?(r.value=t.slice(0,r.value.length+1),s=setTimeout(c,Ya)):s=setTimeout(u,Xa)}function u(){p()}function p(){a.value&&0!==e.value.length&&(r.value.length>0?(r.value=r.value.slice(0,-1),s=setTimeout(p,Qa)):(t.value=(t.value+1)%e.value.length,s=setTimeout(c,Za)))}return w(a,(e=>{e?(d(),c()):d()}),{immediate:!0}),m((()=>{d()})),{placeholder:n}}return{setters:[function(e){t=e.o},function(e){o=e.C,r=e.Cn,s=e.D,l=e.E,n=e.Gt,i=e.It,d=e.J,c=e.M,u=e.Nt,p=e.P,m=e.Q,f=e.T,g=e.Z,v=e._,w=e._t,h=e.at,_=e.bn,y=e.bt,b=e.et,k=e.h,x=e.it,T=e.j,C=e.k,j=e.mt,I=e.ot,S=e.p,F=e.vn,E=e.w,A=e.xt},function(e){P=e.yt},function(e){$=e.A,O=e.At,z=e.Bi,W=e.C,M=e.Ci,D=e.Et,B=e.Hi,R=e.Oi,L=e.Pi,N=e.Q,U=e.Tt,V=e.Ui,H=e.Vi,q=e._t,J=e.bt,G=e.d,K=e.ft,Y=e.gi,Q=e.hi,X=e.ot,Z=e.pt,ee=e.st,ae=e.wi,te=e.zi},function(e){oe=e.t},function(e){},function(e){re=e.Ba,se=e.C,le=e.Fr,ne=e.Gt,ie=e.Hr,de=e.Kt,ce=e.La,ue=e.Lt,pe=e.Ma,me=e.Ot,fe=e.Ra,ge=e.Rr,ve=e.Ti,we=e.Tr,he=e.Va,_e=e.Wc,ye=e.cr,be=e.fn,ke=e.lr,xe=e.or,Te=e.qa,Ce=e.r,je=e.s,Ie=e.t,Se=e.wr,Fe=e.ws,Ee=e.xn,Ae=e.yr,e.za},function(e){Pe=e.Ga,$e=e.Hs,Oe=e.Kc,e.Ss,ze=e.Xs,We=e.Yc,Me=e.ds,De=e.fs,e.i,e.ko,Be=e.ps,Re=e.qo,Le=e.rs,Ne=e.zs},function(e){},function(e){Ue=e.N,Ve=e.j},function(e){He=e.t},function(e){qe=e.t},function(e){Je=e.n,Ge=e.t},function(e){},function(e){},function(e){},function(e){Ke=e.t},function(e){},function(e){Ye=e.t},function(e){Qe=e.t},function(e){Xe=e.t},function(e){Ze=e.t},function(e){ea=e.t},function(e){},function(e){},function(e){},function(e){},function(e){aa=e.t},function(e){},function(e){},function(e){},function(e){ta=e.t},function(e){oa=e.t},function(e){},function(e){},function(e){},function(e){ra=e.t},function(e){sa=e.n,la=e.r,na=e.t},function(e){ia=e.t},function(e){},function(e){da=e.r,ca=e.t},function(e){ua=e.t},function(e){pa=e.n,ma=e.t},function(e){},function(e){fa=e.t},function(e){ga=e.t},function(e){va=e.t},function(e){},function(e){wa=e.n,ha=e.t},function(e){_a=e.t},function(e){e.n,ya=e.r,ba=e.t},function(e){ka=e.t}],execute:function(){(xa=document.createElement("style")).textContent='._card_mp6zu_125{cursor:pointer;transition:box-shadow .3s}._card_mp6zu_125:hover{box-shadow:var(--shadow--card-hover)}._folder-icon_mp6zu_133{width:var(--spacing--xl);height:var(--spacing--xl);color:var(--color--text);text-align:center;flex-shrink:0;align-content:center}._card-header_mp6zu_142{padding-right:var(--spacing--xs);margin-bottom:var(--spacing--5xs);justify-content:space-between;align-items:center;display:flex}._card-footer_mp6zu_150{display:flex}._info-cell_mp6zu_154+._info-cell_mp6zu_154:before{content:"|";margin:0 var(--spacing--4xs)}._cardBadge_mp6zu_159._with-breadcrumbs_mp6zu_159 .n8n-badge{padding-right:0}._cardBadge_mp6zu_159._with-breadcrumbs_mp6zu_159 .n8n-breadcrumbs{padding-left:var(--spacing--5xs)}._card-actions_mp6zu_166{gap:var(--spacing--xs);display:flex}@media screen and (max-width:991px){._card_mp6zu_125{flex-wrap:wrap}._card_mp6zu_125 .n8n-card-append{width:100%;margin-top:var(--spacing--3xs);padding-left:40px}._card_mp6zu_125 ._card-actions_mp6zu_166{justify-content:space-between;width:100%}._info-cell--created_mp6zu_184{display:none}}._cardLink_fcosa_125{cursor:pointer;align-items:stretch;padding:0;transition:box-shadow .3s}._cardLink_fcosa_125:hover{box-shadow:var(--shadow--card-hover)}._cardHeading_fcosa_135{font-size:var(--font-size--sm);word-break:break-word;padding:var(--spacing--sm)0 0 var(--spacing--sm);align-items:center;display:flex}._cardHeadingArchived_fcosa_143{color:var(--color--text--tint-1)}._description-popper_fcosa_147{min-width:300px}._cardDescription_fcosa_151{min-height:var(--spacing--xl);padding:0 0 var(--spacing--sm)var(--spacing--sm);font-size:var(--font-size--2xs);color:var(--color--text--tint-1);align-items:center;gap:var(--spacing--2xs);display:flex}._cardTags_fcosa_161{margin-top:var(--spacing--4xs);display:inline-block}._cardActions_fcosa_166{gap:var(--spacing--2xs);padding:0 var(--spacing--sm)0 0;cursor:default;flex-direction:row;justify-content:center;align-self:stretch;align-items:center;display:flex}._cardBadge_fcosa_177{background-color:var(--color--background--light-3)}._cardBadge_fcosa_177._with-breadcrumbs_fcosa_181 .n8n-badge{padding-right:0}._cardBadge_fcosa_177._with-breadcrumbs_fcosa_181 .n8n-breadcrumbs{padding-left:var(--spacing--5xs)}._cardArchived_fcosa_188{background-color:var(--color--background--light-2);border-color:var(--color--foreground--tint-1);color:var(--color--text)}._description-cell--mcp_fcosa_194{align-items:center;display:inline-flex}._description-cell--mcp_fcosa_194:hover{color:var(--color--text)}._dynamicBadgeText_fcosa_202{align-items:center;gap:var(--spacing--4xs);font-size:var(--font-size--3xs);height:18px;display:inline-flex}._resolverMissingBadge_fcosa_210{font-size:var(--font-size--3xs);height:18px;color:var(--color--warning);align-items:center;display:inline-flex}._tooltipContent_fcosa_218{gap:var(--spacing--4xs);flex-direction:column;display:flex}._publishIndicator_fcosa_224{align-items:center;gap:var(--spacing--3xs);margin-left:var(--spacing--2xs);padding:var(--spacing--4xs)var(--spacing--2xs);border-radius:var(--spacing--4xs);border:var(--border);display:flex}._publishIndicator_fcosa_224 *{line-height:calc(var(--font-size--sm) + 1px)}._publishIndicatorDot_fcosa_237{width:var(--spacing--2xs);height:var(--spacing--2xs);background-color:var(--color--mint-600);border-radius:50%}@media screen and (max-width:991px){._cardLink_fcosa_125{--card--padding:0 var(--spacing--sm)var(--spacing--sm);--card--append--width:100%;flex-direction:column}._cardActions_fcosa_166{width:100%;padding:0 var(--spacing--sm)var(--spacing--sm);justify-content:end}._cardBadge_fcosa_177,._breadcrumbs_fcosa_256{margin-right:auto}}@media screen and (max-width:767px){._breadcrumbs_fcosa_256>div{flex-direction:column}}._suggested-workflow-callout_1wrxf_125{margin-top:var(--spacing--xs);padding-left:var(--spacing--sm);padding-right:var(--spacing--md);border-style:dashed}._suggested-workflow-callout_1wrxf_125 ._callout-content_1wrxf_131{flex-direction:column;display:flex}._suggested-workflow-callout_1wrxf_125 ._callout-trailing-content_1wrxf_135{align-items:center;gap:var(--spacing--md);display:flex}._suggested-workflow-callout_1wrxf_125 a span span{color:var(--callout--color--text--secondary)}._suggested-workflows_15lpu_125{margin-top:var(--spacing--xs)}._nodeCard_tubis_125{flex-direction:column;justify-content:center;align-items:center;width:100px;height:80px;padding:0;display:inline-flex}._nodeIcon_tubis_135{font-size:var(--font-size--2xl)}._emptyStateCardContent_tubis_139{flex-direction:column;flex:1;justify-content:center;align-items:center;display:inline-flex}._nodeCardsContainer_1seru_125{justify-content:center;gap:var(--spacing--sm);margin-top:var(--spacing--xl);display:flex}._card_1pphi_125{padding:var(--spacing--lg);background-color:var(--color--background--light-3);flex-direction:column;min-width:200px;display:flex}._widthRow_1pphi_133{gap:var(--spacing--xs);margin-bottom:calc(-1*var(--spacing--sm));display:flex;overflow:hidden}._widthBlock_1pphi_140{width:var(--spacing--4xl);visibility:hidden;height:0}._cardContent_1pphi_146{gap:var(--spacing--sm);flex-direction:column;flex:1;display:flex}._nodes_1pphi_153{flex-direction:row;display:flex}._nodeIcon_1pphi_158{width:var(--spacing--xl);height:var(--spacing--xl);padding:0 var(--spacing--2xs);background-color:var(--dialog--color--background);border-radius:var(--radius--lg);margin-right:var(--spacing--3xs);overflow:hidden}._title_1pphi_168{height:var(--font-size--md);border-radius:var(--radius);width:80%;overflow:hidden}._stats_1pphi_175{margin-top:auto}._statItem_1pphi_179{height:var(--font-size--sm);width:var(--spacing--3xl);border-radius:var(--radius);overflow:hidden}._container_d40wj_125{text-align:left;width:100%;margin-top:var(--spacing--xl)}._header_d40wj_131{justify-content:space-between;align-items:center;gap:var(--spacing--md);margin-bottom:var(--spacing--xs);display:flex}@media (max-width:768px){._header_d40wj_131{align-items:flex-start;gap:var(--spacing--xs);margin-bottom:var(--spacing--sm);flex-direction:column}}._allTemplatesLink_d40wj_147{white-space:nowrap}._suggestions_d40wj_151{gap:var(--spacing--2xs);grid-template-columns:repeat(3,minmax(0,1fr));min-height:182px;display:grid}@media (max-width:1200px){._suggestions_d40wj_151{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width:600px){._suggestions_d40wj_151{gap:var(--spacing--sm);grid-template-columns:1fr;min-height:auto}}._container_1wank_125{align-items:center;gap:var(--spacing--lg);flex-direction:column;width:100%;display:flex}._subtitle_1wank_133{font-size:var(--font-size--sm);color:var(--color--text--tint-1);margin:0}._promptInput_1wank_139{width:100%;max-width:700px}._promptInput_1wank_139 :deep(._el-tooltip__trigger_1wank_143){width:100%;display:block}._footer_1wank_148{margin-top:var(--spacing--lg);flex-direction:column;align-items:center;display:flex}._alternativeActions_1wank_155{align-items:center;gap:var(--spacing--xs);flex-wrap:wrap;justify-content:center;display:flex}._startWithText_1wank_163{font-size:var(--font-size--xs);color:var(--color--text--tint-1)}._emptyStateLayout_1bn4b_125{padding:var(--spacing--4xl)var(--spacing--2xl)0;max-width:var(--content-container--width);flex-direction:column;display:flex}@media (max-width:1920px){._emptyStateLayout_1bn4b_125{padding:var(--spacing--xl)var(--spacing--xs)0}}._emptyStateLayout_1bn4b_125._noTemplatesContent_1bn4b_136{padding-top:var(--spacing--3xl)}._emptyStateLayout_1bn4b_125._builderLayout_1bn4b_139{width:100%;max-width:none;padding:var(--spacing--lg);justify-content:center;align-items:center}._content_1bn4b_147{flex-direction:column;align-items:center;width:100%;display:flex}._builderContent_1bn4b_154{text-align:center;max-width:1024px}._welcomeBuilder_1bn4b_159{margin-bottom:var(--spacing--sm)}._welcomeTitle_1bn4b_163{margin-bottom:var(--spacing--2xl)}._templatesSection_1bn4b_167{width:100%}._fallbackContent_1bn4b_171{text-align:center;flex-direction:column;align-items:center;display:flex}._actionCardsContainer_1bn4b_178{gap:var(--spacing--lg);margin-top:var(--spacing--2xl);grid-template-columns:repeat(2,192px);justify-content:center;display:grid}._actionCardsContainer_1bn4b_178._singleCard_1bn4b_185{grid-template-columns:192px}@media (max-width:768px){._actionCardsContainer_1bn4b_178{gap:var(--spacing--md);margin-top:var(--spacing--lg);grid-template-columns:1fr}}._actionCard_1bn4b_178{text-align:center;justify-content:center;align-items:center;width:192px;height:230px;transition:transform .2s,box-shadow .2s;display:flex}._actionCard_1bn4b_178:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,.1)}._actionCard_1bn4b_178:hover ._cardIcon_1bn4b_209 svg{color:var(--color--primary)}._cardContent_1bn4b_213{padding:var(--spacing--md);flex-direction:column;justify-content:center;align-items:center;display:flex}._cardIcon_1bn4b_209{margin-bottom:var(--spacing--xs);font-size:48px}._cardIcon_1bn4b_209 svg{transition:color .3s}._orDivider_1bn4b_229{margin-top:var(--spacing--lg);text-align:center}._actionButtons_1bn4b_234{justify-content:center;gap:var(--spacing--xs);margin:var(--spacing--lg)0;display:flex}._templatesContainer_152id_125{justify-content:center;width:100%;display:flex}._templatesContainer_152id_125>section{margin-top:var(--spacing--2xl)}._easy-ai-workflow-callout_152id_134{margin-top:var(--spacing--xs);padding-left:var(--spacing--sm);padding-right:var(--spacing--md)}._easy-ai-workflow-callout_152id_134 ._callout-trailing-content_152id_139{align-items:center;gap:var(--spacing--md);display:flex}._emptyStateCard_152id_145{text-align:center;width:192px;height:230px;display:inline-flex}._emptyStateCard_152id_145+._emptyStateCard_152id_145{margin-left:var(--spacing--sm)}._emptyStateCard_152id_145:hover svg{color:var(--color--primary)}._emptyStateCardContent_152id_158{flex-direction:column;justify-content:center;align-items:center;display:inline-flex}._emptyStateCardIcon_152id_165{font-size:48px}._emptyStateCardIcon_152id_165 svg{transition:color .3s}._emptyStateNoTemplates_152id_172{gap:var(--spacing--2xl);flex-direction:column;justify-content:center;align-items:center;display:flex}._add-folder-button_152id_180{width:30px;height:30px}._breadcrumbs-container_152id_185{align-self:flex-end;align-items:center;display:flex}._breadcrumbs-loading_152id_191 .el-skeleton__item{width:400px;height:40px;margin:0}._empty-folder-container_152id_197 button{margin-top:var(--spacing--2xs)}._drag-active_152id_201 *,._drag-active_152id_201 .action-toggle{cursor:grabbing!important}._dragging_152id_206{opacity:.3;pointer-events:none;border-style:dashed;transition:opacity .3s}._drop-active_152id_213 .card{border-color:var(--color--secondary);background-color:var(--callout--color--background--secondary)}._path-separator_152id_218{font-size:var(--font-size--xl);color:var(--color--foreground);padding:var(--spacing--3xs)var(--spacing--4xs)var(--spacing--4xs)}._name_152id_224{color:var(--color--text--shade-1);font-size:var(--font-size--sm);padding:var(--spacing--3xs)var(--spacing--4xs)var(--spacing--4xs)}._pointer-disabled_152id_230{pointer-events:none}.add-folder-modal{width:500px;padding-bottom:0}.add-folder-modal .el-message-box__message{font-size:var(--font-size--xl)}.add-folder-modal .el-message-box__btns{padding:0 var(--spacing--lg)var(--spacing--lg)}.add-folder-modal .el-message-box__content{padding:var(--spacing--lg)}\n/*$vite$:1*/',document.head.appendChild(xa);try{a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(u=(new a.Error).stack)&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[u]="1f9c766c-49cb-4dcc-a307-50d678ffe1ff",a._sentryDebugIdIdentifier="sentry-dbid-1f9c766c-49cb-4dcc-a307-50d678ffe1ff")}catch(a){}var a,u;Ta={"data-test-id":"folder-card"},Ca={key:0},ja=p({__name:"FolderCard",props:{data:{},personalProject:{},actions:{default:()=>[]},readOnly:{type:Boolean,default:!0},showOwnershipBadge:{type:Boolean,default:!1}},emits:["action","folderOpened"],setup(e,{emit:a}){const t=e,d=P(),u=M(),p=ae(),m=Ke(),g=a,v=i(new Promise((()=>{}))),w=i([]),h=o((()=>d.baseText("generic.folder").toLowerCase())),_=o((()=>S(t.data.id))),x=o((()=>t.data.homeProject?.type===de.Personal?d.baseText("projects.menu.personal"):t.data.homeProject?.name)),C=o((()=>t.data.parentFolder?[{id:t.data.parentFolder.id,name:t.data.parentFolder.name,label:t.data.parentFolder.name,href:p.resolve({name:Le.PROJECTS_FOLDERS,params:{projectId:t.data.homeProject?.id,folderId:t.data.parentFolder.id}}).href}]:[])),j=o((()=>t.showOwnershipBadge&&C.value.length)),S=e=>p.resolve({name:Le.PROJECTS_FOLDERS,params:{projectId:u.params.projectId,folderId:e},query:u.query}).href,A=async e=>{if(e===ce.OPEN)return g("folderOpened",{folder:t.data}),void(await p.push(_.value));g("action",{action:e,folderId:t.data.id})},$=async()=>{if(t.data.homeProject?.id&&x.value&&t.data.parentFolder){if(w.value.length)return void(v.value=Promise.resolve(w.value));const e=m.getHiddenBreadcrumbsItems({id:t.data.homeProject.id,name:x.value},t.data.parentFolder.id);v.value=e,w.value=await e}else v.value=Promise.resolve([])},z=async e=>{e.href&&await p.push(e.href)};return(a,o)=>{const i=I("RouterLink");return b(),s("div",Ta,[c(i,{to:_.value,onClick:o[1]||(o[1]=()=>g("folderOpened",{folder:t.data}))},{default:y((()=>[c(n(J),{class:F(a.$style.card)},{prepend:y((()=>[c(n(V),{"data-test-id":"folder-card-icon",class:F(a.$style["folder-icon"]),icon:"folder",size:"xlarge","stroke-width":1},null,8,["class"])])),header:y((()=>[E("div",{class:F(a.$style["card-header"])},[c(n(te),{tag:"h2",bold:"",size:"small","data-test-id":"folder-card-name"},{default:y((()=>[T(r(e.data.name),1)])),_:1}),e.readOnly?(b(),f(n(O),{key:0,class:"ml-3xs",theme:"tertiary",bold:""},{default:y((()=>[T(r(n(d).baseText("workflows.item.readonly")),1)])),_:1})):l("",!0)],2)])),footer:y((()=>[E("div",{class:F(a.$style["card-footer"])},[e.data.workflowCount>0?(b(),f(n(H),{key:0,size:"small",color:"text-light",class:F([a.$style["info-cell"],a.$style["info-cell--workflow-count"]]),"data-test-id":"folder-card-folder-count"},{default:y((()=>[T(r(n(d).baseText("generic.workflow",{interpolate:{count:e.data.workflowCount}})),1)])),_:1},8,["class"])):l("",!0),e.data.subFolderCount>0?(b(),f(n(H),{key:1,size:"small",color:"text-light",class:F([a.$style["info-cell"],a.$style["info-cell--workflow-count"]]),"data-test-id":"folder-card-workflow-count"},{default:y((()=>[T(r(n(d).baseText("generic.folderCount",{interpolate:{count:e.data.subFolderCount}})),1)])),_:1},8,["class"])):l("",!0),c(n(H),{size:"small",color:"text-light",class:F([a.$style["info-cell"],a.$style["info-cell--updated"]]),"data-test-id":"folder-card-last-updated"},{default:y((()=>[T(r(n(d).baseText("workerList.item.lastUpdated"))+" ",1),c(aa,{date:String(e.data.updatedAt)},null,8,["date"])])),_:1},8,["class"]),c(n(H),{size:"small",color:"text-light",class:F([a.$style["info-cell"],a.$style["info-cell--created"]]),"data-test-id":"folder-card-created"},{default:y((()=>[T(r(n(d).baseText("workflows.item.created"))+" ",1),c(aa,{date:String(e.data.createdAt)},null,8,["date"])])),_:1},8,["class"])],2)])),append:y((()=>[E("div",{class:F(a.$style["card-actions"]),onClick:o[0]||(o[0]=k((()=>{}),["prevent"]))},[e.data.homeProject&&e.showOwnershipBadge?(b(),s("div",Ca,[c(Ye,{class:F({[a.$style.cardBadge]:!0,[a.$style["with-breadcrumbs"]]:j.value}),resource:e.data,"resource-type":n(ve).Workflow,"resource-type-label":h.value,"personal-project":e.personalProject,"show-badge-border":!1},{default:y((()=>[j.value?(b(),s("div",{key:0,class:F(a.$style.breadcrumbs)},[c(n(W),{items:C.value,"hidden-items":null!==e.data.parentFolder?.parentFolderId?v.value:void 0,"path-truncated":null!==e.data.parentFolder?.parentFolderId,"highlight-last-item":!1,"hidden-items-trigger":"hover",theme:"small","data-test-id":"folder-card-breadcrumbs",onTooltipOpened:$,onItemSelected:z},{prepend:y((()=>[...o[2]||(o[2]=[])])),_:1},8,["items","hidden-items","path-truncated"])],2)):l("",!0)])),_:1},8,["class","resource","resource-type","resource-type-label","personal-project"])])):l("",!0),e.actions.length?(b(),f(n(U),{key:1,actions:e.actions,theme:"dark","data-test-id":"folder-card-actions",onAction:A},null,8,["actions"])):l("",!0)],2)])),_:1},8,["class"])])),_:1},8,["to"])])}}}),Ia=oe(ja,[["__cssModules",{$style:{card:"_card_mp6zu_125","folder-icon":"_folder-icon_mp6zu_133","card-header":"_card-header_mp6zu_142","card-footer":"_card-footer_mp6zu_150","info-cell":"_info-cell_mp6zu_154",cardBadge:"_cardBadge_mp6zu_159","with-breadcrumbs":"_with-breadcrumbs_mp6zu_159","card-actions":"_card-actions_mp6zu_166","info-cell--created":"_info-cell--created_mp6zu_184"}}]]),Sa=t(qe(),1),Fa={key:0},Ea=p({__name:"WorkflowCard",props:{data:{},readOnly:{type:Boolean,default:!1},workflowListEventBus:{default:void 0},showOwnershipBadge:{type:Boolean,default:!1},areTagsEnabled:{type:Boolean,default:!0},isMcpEnabled:{type:Boolean,default:!1},areFoldersEnabled:{type:Boolean,default:!1}},emits:["expand:tags","click:tag","workflow:deleted","workflow:archived","workflow:unarchived","workflow:unpublished","workflow:active-toggle","action:move-to-folder"],setup(e,{emit:a}){const t="open",d="share",u="duplicate",p="delete",m="archive",g="unarchive",v="move",w="moveToFolder",h="enableMCPAccess",_="removeMCPAccess",x="unpublish",C=e,j=a,I=Ae(),z=we(),D=P(),B=ae(),L=M(),N=ue(),G=ra(),{isEnabled:K}=Xe(),Y=Ce(),Q=Ie(),X=je(),Z=ge(),ee=ne(),te=Ke(),oe=_a(),re=ia(),se=i(new Promise((()=>{}))),le=i([]),ie=i(null),ce=o((()=>D.baseText("generic.workflow").toLowerCase())),me=o((()=>Q.currentUser??{})),fe=o((()=>Re(C.data.scopes).workflow)),he=o((()=>Re(Q.currentUser?.globalScopes).workflow)),_e=o((()=>Re(ee.myProjects?.find((e=>C.data.homeProject?.id===e.id))?.scopes).workflow)),ye=o((()=>he.value.create??_e.value.create)),be=o((()=>C.showOwnershipBadge&&!Ee.value&&xe.value.length)),ke=o((()=>C.data.homeProject?.type===de.Personal?D.baseText("projects.menu.personal"):C.data.homeProject?.name)),xe=o((()=>C.data.parentFolder?[{id:C.data.parentFolder.id,name:C.data.parentFolder.name,label:C.data.parentFolder.name,href:B.resolve({name:Le.PROJECTS_FOLDERS,params:{projectId:C.data.homeProject?.id,folderId:C.data.parentFolder.id}}).href}]:[])),Te=o((()=>{const e=[{label:D.baseText("workflows.item.open"),value:t},{label:D.baseText("workflows.item.share"),value:d}];return fe.value.read&&ye.value&&!C.readOnly&&!C.data.isArchived&&e.push({label:D.baseText("workflows.item.duplicate"),value:u}),!C.readOnly&&C.areFoldersEnabled&&(fe.value.update||fe.value.move&&ee.isTeamProjectFeatureEnabled)&&L.name!==Le.SHARED_WORKFLOWS&&e.push({label:D.baseText("folders.actions.moveToFolder"),value:w}),fe.value.delete&&!C.readOnly&&(C.data.isArchived?(e.push({label:D.baseText("workflows.item.delete"),value:p}),e.push({label:D.baseText("workflows.item.unarchive"),value:g})):e.push({label:D.baseText("workflows.item.archive"),value:m})),Pe.value&&fe.value.update&&!C.readOnly&&!C.data.isArchived&&e.push({label:D.baseText("menuActions.unpublish"),value:x}),C.isMcpEnabled&&fe.value.update&&!C.readOnly&&!C.data.isArchived&&(Fe.value?e.push({label:D.baseText("workflows.item.disableMCPAccess"),value:_,disabled:!C.data.active}):e.push({label:D.baseText("workflows.item.enableMCPAccess"),value:h,disabled:!C.data.active})),e})),Se=o((()=>{const e=(new Date).getFullYear().toString();return(0,Sa.default)(C.data.createdAt,"d mmmm"+(String(C.data.createdAt).startsWith(e)?"":", yyyy"))})),Fe=o((()=>null===ie.value?C.data.settings?.availableInMCP??!1:ie.value)),Ee=o((()=>C.data.homeProject?.type!==de.Team&&C.data.homeProject?.id!==ee.personalProject?.id)),Pe=o((()=>null!==C.data.activeVersionId)),Oe=o((()=>K.value&&C.data.hasResolvableCredentials)),ze=o((()=>K.value&&C.data.hasResolvableCredentials&&!C.data.settings?.credentialResolverId));async function We(e){if(e?.ctrlKey||e?.metaKey){const e=B.resolve({name:Le.WORKFLOW,params:{name:C.data.id}});window.open(e.href,"_blank")}else await B.push({name:Le.WORKFLOW,params:{name:C.data.id}})}function De(e,a){a.stopPropagation(),j("click:tag",e,a)}function Be(){j("expand:tags")}async function Ue(e){switch(e){case t:await We();break;case u:Y.openModalWithData({name:Me,data:{id:C.data.id,name:C.data.name,tags:(C.data.tags??[]).map((e=>"string"!=typeof e&&"id"in e?e.id:e)),externalEventBus:C.workflowListEventBus,parentFolderId:C.data.parentFolder?.id}});break;case d:Y.openModalWithData({name:$e,data:{id:C.data.id}}),N.track("User opened sharing modal",{workflow_id:C.data.id,user_id_sharer:me.value.id,sub_view:"Workflows listing"});break;case p:await async function(){if("confirm"===await z.confirm(D.baseText("mainSidebar.confirmMessage.workflowDelete.message",{interpolate:{workflowName:C.data.name}}),D.baseText("mainSidebar.confirmMessage.workflowDelete.headline"),{type:"warning",confirmButtonText:D.baseText("mainSidebar.confirmMessage.workflowDelete.confirmButtonText"),cancelButtonText:D.baseText("mainSidebar.confirmMessage.workflowDelete.cancelButtonText")})){try{await Z.deleteWorkflow(C.data.id)}catch(e){return void I.showError(e,D.baseText("generic.deleteWorkflowError"))}I.showMessage({title:D.baseText("mainSidebar.showMessage.handleSelect1.title",{interpolate:{workflowName:C.data.name}}),type:"success"}),j("workflow:deleted")}}();break;case m:await async function(){if(!C.data.active||"confirm"===await z.confirm(D.baseText("mainSidebar.confirmMessage.workflowArchive.message",{interpolate:{workflowName:C.data.name}}),D.baseText("mainSidebar.confirmMessage.workflowArchive.headline"),{type:"warning",confirmButtonText:D.baseText("mainSidebar.confirmMessage.workflowArchive.confirmButtonText"),cancelButtonText:D.baseText("mainSidebar.confirmMessage.workflowArchive.cancelButtonText")})){try{await X.archiveWorkflow(C.data.id)}catch(e){return void I.showError(e,D.baseText("generic.archiveWorkflowError"))}I.showMessage({title:D.baseText("mainSidebar.showMessage.handleArchive.title",{interpolate:{workflowName:C.data.name}}),type:"success"}),j("workflow:archived")}}();break;case g:await async function(){try{await X.unarchiveWorkflow(C.data.id)}catch(e){return void I.showError(e,D.baseText("generic.unarchiveWorkflowError"))}I.showMessage({title:D.baseText("mainSidebar.showMessage.handleUnarchive.title",{interpolate:{workflowName:C.data.name}}),type:"success"}),j("workflow:unarchived")}();break;case v:Y.openModalWithData({name:pe,data:{resource:C.data,resourceType:ve.Workflow,resourceTypeLabel:ce.value,eventBus:C.workflowListEventBus}});break;case w:j("action:move-to-folder",{id:C.data.id,name:C.data.name,parentFolderId:C.data.parentFolder?.id,sharedWithProjects:C.data.sharedWithProjects,homeProjectId:C.data.homeProject?.id});break;case h:await Ve(!0);break;case _:await Ve(!1);break;case x:await async function(){if(!C.data.activeVersionId)return void I.showMessage({title:D.baseText("workflowHistory.action.unpublish.notAvailable"),type:"warning"});const e=q();e.once("unpublish",(async()=>{const e=await re.unpublishWorkflowFromHistory(C.data.id);Y.closeModal(Ne),e&&(j("workflow:unpublished",{id:C.data.id}),I.showMessage({title:D.baseText("workflowHistory.action.unpublish.success.title"),type:"success"}))})),Y.openModalWithData({name:Ne,data:{versionName:C.data.name,eventBus:e}})}()}}async function Ve(e){try{await oe.toggleWorkflowMcpAccess(C.data.id,e),ie.value=e,G.trackMcpAccessEnabledForWorkflow(C.data.id)}catch(a){return void I.showError(a,D.baseText("workflowSettings.toggleMCP.error.title"))}}const He=async()=>{if(C.data.homeProject?.id&&ke.value&&C.data.parentFolder){if(le.value.length)return void(se.value=Promise.resolve(le.value));const e=te.getHiddenBreadcrumbsItems({id:C.data.homeProject.id,name:ke.value},C.data.parentFolder.id);se.value=e,le.value=await e}else se.value=Promise.resolve([])},qe=async e=>{e.href&&await B.push(e.href)},Je=o((()=>C.data.tags?.map((e=>"string"==typeof e?{id:e,name:e}:e))??[]));return(a,t)=>(b(),f(n(J),{class:F({[a.$style.cardLink]:!0,[a.$style.cardArchived]:e.data.isArchived}),"data-test-id":"workflow-card",onClick:We},{header:y((()=>[c(n(H),{tag:"h2",bold:"",class:F({[a.$style.cardHeading]:!0,[a.$style.cardHeadingArchived]:e.data.isArchived}),"data-test-id":"workflow-card-name"},{default:y((()=>[T(r(e.data.name)+" ",1),fe.value.update?l("",!0):(b(),f(n(O),{key:0,class:"ml-3xs",theme:"tertiary",bold:""},{default:y((()=>[T(r(n(D).baseText("workflows.item.readonly")),1)])),_:1})),Oe.value?(b(),f(n(R),{key:1,placement:"top"},{content:y((()=>[E("div",{class:F(a.$style.tooltipContent)},[E("strong",null,r(n(D).baseText("workflows.dynamic.tooltipTitle")),1),E("span",null,r(n(D).baseText("workflows.dynamic.tooltip")),1)],2)])),default:y((()=>[c(n(O),{theme:"tertiary",class:"ml-3xs pl-3xs pr-3xs","data-test-id":"workflow-card-dynamic-credentials"},{default:y((()=>[E("span",{class:F(a.$style.dynamicBadgeText)},[c(n(V),{icon:"key-round",size:"medium"}),T(" "+r(n(D).baseText("credentials.dynamic.badge")),1)],2)])),_:1})])),_:1})):l("",!0),ze.value?(b(),f(n(O),{key:2,theme:"warning",class:"ml-3xs pl-3xs pr-3xs","data-test-id":"workflow-card-resolver-missing"},{default:y((()=>[E("span",{class:F(a.$style.resolverMissingBadge)},r(n(D).baseText("workflows.dynamic.resolverMissing")),3)])),_:1})):l("",!0)])),_:1},8,["class"])])),append:y((()=>[E("div",{class:F(a.$style.cardActions),onClick:t[0]||(t[0]=k((()=>{}),["stop"]))},[e.showOwnershipBadge?(b(),f(Ye,{key:0,class:F({[a.$style.cardBadge]:!0,[a.$style["with-breadcrumbs"]]:be.value}),resource:e.data,"resource-type":n(ve).Workflow,"resource-type-label":ce.value,"personal-project":n(ee).personalProject,"show-badge-border":!1},{default:y((()=>[be.value?(b(),s("div",{key:0,class:F(a.$style.breadcrumbs)},[c(n(W),{items:xe.value,"hidden-items":null!==e.data.parentFolder?.parentFolderId?se.value:void 0,"path-truncated":null!==e.data.parentFolder?.parentFolderId,"highlight-last-item":!1,"hidden-items-trigger":"hover",theme:"small","data-test-id":"workflow-card-breadcrumbs",onTooltipOpened:He,onItemSelected:qe},{prepend:y((()=>[...t[2]||(t[2]=[])])),_:1},8,["items","hidden-items","path-truncated"])],2)):l("",!0)])),_:1},8,["class","resource","resource-type","resource-type-label","personal-project"])):l("",!0),e.data.isArchived?(b(),f(n(H),{key:1,color:"text-light",size:"small",bold:"",class:"ml-s mr-s","data-test-id":"workflow-card-archived"},{default:y((()=>[T(r(n(D).baseText("workflows.item.archived")),1)])),_:1})):Pe.value?(b(),s("div",{key:2,class:F(a.$style.publishIndicator),"data-test-id":"workflow-card-publish-indicator"},[E("span",{class:F(a.$style.publishIndicatorDot)},null,2),c(n(H),{size:"small",color:"text-base"},{default:y((()=>[T(r(n(D).baseText("workflows.published")),1)])),_:1})],2)):l("",!0),c(n(U),{actions:Te.value,theme:"dark","data-test-id":"workflow-card-actions",onAction:Ue},null,8,["actions"])],2)])),default:y((()=>[E("div",{class:F(a.$style.cardDescription)},[A(E("span",null,[T(r(n(D).baseText("workflows.item.updated"))+" ",1),c(aa,{date:String(e.data.updatedAt)},null,8,["date"]),t[1]||(t[1]=T(" | ",-1))],512),[[S,e.data]]),A(E("span",null,[T(r(n(D).baseText("workflows.item.created"))+" "+r(Se.value)+" ",1),C.isMcpEnabled&&Fe.value?(b(),s("span",Fa,"|")):l("",!0)],512),[[S,e.data]]),A(E("span",{class:F([a.$style["description-cell"],a.$style["description-cell--mcp"]]),"data-test-id":"workflow-card-mcp"},[c(n(R),{placement:"right",content:n(D).baseText("workflows.item.availableInMCP"),"data-test-id":"workflow-card-mcp-tooltip"},{default:y((()=>[c(n(V),{icon:"mcp",size:"medium"})])),_:1},8,["content"])],2),[[S,C.isMcpEnabled&&Fe.value]]),C.areTagsEnabled&&e.data.tags&&e.data.tags.length>0?A((b(),s("span",{key:0,class:F(a.$style.cardTags)},[c(n($),{tags:Je.value,"truncate-at":3,truncate:"","data-test-id":"workflow-card-tags","onClick:tag":De,onExpand:Be},null,8,["tags"])],2)),[[S,e.data]]):l("",!0)],2)])),_:1},8,["class"]))}}),Aa=oe(Ea,[["__cssModules",{$style:{cardLink:"_cardLink_fcosa_125",cardHeading:"_cardHeading_fcosa_135",cardHeadingArchived:"_cardHeadingArchived_fcosa_143","description-popper":"_description-popper_fcosa_147",cardDescription:"_cardDescription_fcosa_151",cardTags:"_cardTags_fcosa_161",cardActions:"_cardActions_fcosa_166",cardBadge:"_cardBadge_fcosa_177","with-breadcrumbs":"_with-breadcrumbs_fcosa_181",cardArchived:"_cardArchived_fcosa_188","description-cell--mcp":"_description-cell--mcp_fcosa_194",dynamicBadgeText:"_dynamicBadgeText_fcosa_202",resolverMissingBadge:"_resolverMissingBadge_fcosa_210",tooltipContent:"_tooltipContent_fcosa_218",publishIndicator:"_publishIndicator_fcosa_224",publishIndicatorDot:"_publishIndicatorDot_fcosa_237",breadcrumbs:"_breadcrumbs_fcosa_256"}}]]),Pa=80,$a=20,Oa=[6270,5271,2178],za={"n8n-nodes-base.gmail":[5678,4722,5694],"n8n-nodes-base.googleSheets":[5694,5690,5906],"n8n-nodes-base.telegram":[5626,2114,4875],"@n8n/n8n-nodes-langchain.openAi":[2462,2722,2178],"@n8n/n8n-nodes-langchain.googleGemini":[5993,6270,5677],"n8n-nodes-base.googleCalendar":[2328,3393,2110],"n8n-nodes-base.youTube":[3188,4846,4506],"n8n-nodes-base.airtable":[3053,2700,2579]},Wa=Ve(_e.PERSONALIZED_TEMPLATES,(()=>{const e=ue(),a=le(),t=ke(),r=Ee(),s=i([]),l=ie(ze),n=o((()=>l.value?Pe(l.value,{fallbackValue:[]}):[])),d=o((()=>s.value.filter((({id:e})=>!n.value.includes(e))))),c=()=>a.getVariant(Oe.name)===Oe.variantSuggestedTemplates&&t.userIsTrialing,u=a=>{e.track("User was recommended personalized templates",{templateIds:a})};return w((()=>t.currentUserCloudInfo),(async e=>{if(!e)return;const a=t.codingSkill;await(async(e,a)=>{if(c())try{if(1===e){const e=ct(a);if(e.length>0){const a=e.map((async e=>await r.fetchTemplateById(e.toString()))),t=ut(await Promise.all(a));return s.value=t,void u(t.map((e=>e.id)))}}const t=(await r.getWorkflows({categories:[],search:"",sort:"rank:desc",nodes:a.length>0?a:void 0,combineWith:"or"})).slice(0,3).map((e=>e.id)).map((async e=>await r.fetchTemplateById(e.toString()))),o=ut(await Promise.all(t));s.value=o,u(o.map((e=>e.id)))}catch(t){}})(a,t.selectedApps??[])})),{isFeatureEnabled:c,suggestedWorkflows:d,dismissSuggestedWorkflow:e=>{l.value=JSON.stringify([...n.value??[],e])},trackUserClickedOnPersonalizedTemplate:a=>{e.track("User clicked on personalized template callout",{templateId:a})},trackUserDismissedCallout:a=>{e.track("User dismissed personalized template callout",{templateId:a})},getTemplateRoute:e=>({name:Le.TEMPLATE,params:{id:e}})}})),Ma=oe(p({__name:"SuggestedWorkflowCard",props:{data:{}},setup(e){const{data:a}=e,{dismissSuggestedWorkflow:t,getTemplateRoute:o,trackUserClickedOnPersonalizedTemplate:s,trackUserDismissedCallout:l}=Wa(),i=P(),d=()=>{l(a.id),t(a.id)},u=()=>{s(a.id),t(a.id)};return(e,t)=>(b(),f(n(z),{theme:"secondary",iconless:!0,class:F(e.$style["suggested-workflow-callout"]),slim:!0},{trailingContent:y((()=>[E("div",{class:F(e.$style["callout-trailing-content"])},[c(n(Y),{"data-test-id":"suggested-workflow-button",size:"small",to:n(o)(n(a).id),onClick:u},{default:y((()=>[T(r(n(i).baseText("workflows.itemSuggestion.try")),1)])),_:1},8,["to"]),c(n(V),{size:"small",icon:"x",title:n(i).baseText("generic.dismiss"),class:"clickable",onClick:d},null,8,["title"])],2)])),default:y((()=>[E("div",{class:F(e.$style["callout-content"])},r(n(a).name),3)])),_:1},8,["class"]))}}),[["__cssModules",{$style:{"suggested-workflow-callout":"_suggested-workflow-callout_1wrxf_125","callout-content":"_callout-content_1wrxf_131","callout-trailing-content":"_callout-trailing-content_1wrxf_135"}}]]),Da={class:"suggested-workflows","data-test-id":"suggested-workflows"},Ba=oe({},[["render",pt],["__cssModules",{$style:{"suggested-workflows":"_suggested-workflows_15lpu_125"}}]]),Ra=oe(p({__name:"NodeRecommendationCard",props:{nodeName:{}},setup(e){const a=e,t=Ce(),l=se(),{trackMinicardClick:i}=la(),d=o((()=>l.getNodeType(a.nodeName))),u=()=>{i(d.value?.displayName??a.nodeName),t.openModalWithData({name:De,data:{nodeName:a.nodeName}})};return g((async()=>{await l.loadNodeTypesIfNotLoaded()})),(e,a)=>(b(),s("div",null,[c(n(J),{class:F(e.$style.nodeCard),hoverable:"",onClick:u},{default:y((()=>[E("div",{class:F(e.$style.emptyStateCardContent)},[c(ea,{"node-type":d.value,class:F(e.$style.nodeIcon),"stroke-width":1.5},null,8,["node-type","class"]),c(n(H),{size:"xsmall",class:"mt-xs pl-2xs pr-2xs",bold:!0},{default:y((()=>[T(r(d.value?.displayName),1)])),_:1})],2)])),_:1},8,["class"])]))}}),[["__cssModules",{$style:{nodeCard:"_nodeCard_tubis_125",nodeIcon:"_nodeIcon_tubis_135",emptyStateCardContent:"_emptyStateCardContent_tubis_139"}}]]),La={key:0,class:"text-center mt-3xl","data-test-id":"list-empty-state"},Na=oe(p({__name:"TemplateRecommendationV2",setup(e){const a=la(),t=P();return(e,o)=>n(a).nodes.length?(b(),s("div",La,[c(n(te),{tag:"h2",size:"medium",class:"mb-2xs",color:"text-light"},{default:y((()=>[T(r(n(t).baseText("workflows.templateRecoV2.exploreTemplates")),1)])),_:1}),E("div",{class:F(e.$style.nodeCardsContainer)},[(b(!0),s(v,null,x(n(a).nodes,(e=>(b(),f(Ra,{key:e,"node-name":e},null,8,["node-name"])))),128))],2)])):l("",!0)}}),[["__cssModules",{$style:{nodeCardsContainer:"_nodeCardsContainer_1seru_125"}}]]),Ua=oe(p({__name:"NodeRecommendationCard",props:{nodeName:{}},setup(e){const a=e,t=Ce(),l=se(),{trackPersonalizationCardClick:i,markTemplateRecommendationInteraction:d}=sa(),u=o((()=>l.getNodeType(a.nodeName))),p=()=>{i(),d(),t.openModalWithData({name:Be,data:{nodeName:a.nodeName}})};return g((async()=>{await l.loadNodeTypesIfNotLoaded()})),(e,a)=>(b(),s("div",null,[c(n(J),{class:F(e.$style.nodeCard),hoverable:"",onClick:p},{default:y((()=>[E("div",{class:F(e.$style.emptyStateCardContent)},[c(ea,{"node-type":u.value,class:F(e.$style.nodeIcon),"stroke-width":1.5},null,8,["node-type","class"]),c(n(H),{size:"xsmall",class:"mt-xs pl-2xs pr-2xs",bold:!0},{default:y((()=>[T(r(u.value?.displayName),1)])),_:1})],2)])),_:1},8,["class"])]))}}),[["__cssModules",{$style:{nodeCard:"_nodeCard_tubis_125",nodeIcon:"_nodeIcon_tubis_135",emptyStateCardContent:"_emptyStateCardContent_tubis_139"}}]]),Va={key:0,class:"text-center mt-3xl","data-test-id":"list-empty-state"},Ha=oe(p({__name:"TemplateRecommendationV3",setup(e){const a=sa(),t=P();return(e,o)=>n(a).hasChosenHubSpot?(b(),s("div",Va,[c(n(te),{tag:"h2",size:"medium",class:"mb-2xs",color:"text-light"},{default:y((()=>[T(r(n(t).baseText("experiments.personalizedTemplatesV3.exploreTemplates")),1)])),_:1}),E("div",{class:F(e.$style.nodeCardsContainer)},[c(Ua,{"node-name":"n8n-nodes-base.hubspot"})],2)])):l("",!0)}}),[["__cssModules",{$style:{nodeCardsContainer:"_nodeCardsContainer_1seru_125"}}]]),qa=oe(p({__name:"SkeletonTemplateCard",setup:e=>(e,a)=>(b(),f(n(J),{class:F(e.$style.card),"aria-hidden":"true"},{default:y((()=>[E("div",{class:F(e.$style.cardContent)},[E("div",{class:F(e.$style.widthRow)},[E("div",{class:F(e.$style.widthBlock)},null,2),E("div",{class:F(e.$style.widthBlock)},null,2),E("div",{class:F(e.$style.widthBlock)},null,2)],2),E("div",{class:F(e.$style.nodes)},[E("div",{class:F(e.$style.nodeIcon)},[c(n(D),{variant:"custom"})],2),E("div",{class:F(e.$style.nodeIcon)},[c(n(D),{variant:"custom"})],2)],2),E("div",{class:F(e.$style.title)},[c(n(D),{variant:"custom"})],2),E("div",{class:F(e.$style.title)},[c(n(D),{variant:"custom"})],2),E("div",{class:F(e.$style.title)},[c(n(D),{variant:"custom"})],2),E("div",{class:F(e.$style.stats)},[E("div",{class:F(e.$style.statItem)},[c(n(D),{variant:"custom"})],2)],2)],2)])),_:1},8,["class"]))}),[["__cssModules",{$style:{card:"_card_1pphi_125",widthRow:"_widthRow_1pphi_133",widthBlock:"_widthBlock_1pphi_140",cardContent:"_cardContent_1pphi_146",nodes:"_nodes_1pphi_153",nodeIcon:"_nodeIcon_1pphi_158",title:"_title_1pphi_168",stats:"_stats_1pphi_175",statItem:"_statItem_1pphi_179"}}]]),Ja=oe(p({__name:"RecommendedTemplatesSection",setup(e){const a=P(),t=ya(),{websiteTemplateRepositoryURL:o}=Ue(Ee()),l=i([]),d=i(!1);return g((async()=>{d.value=!0;try{l.value=await t.loadRecommendedTemplates()}finally{d.value=!1}})),(e,t)=>(b(),s("section",{class:F(e.$style.container),"data-test-id":"recommended-templates-section"},[E("div",{class:F(e.$style.header)},[c(n(H),{tag:"h2",size:"large",bold:!0},{default:y((()=>[T(r(n(a).baseText("workflows.empty.startWithTemplate")),1)])),_:1}),c(n(Y),{href:n(o),class:F(e.$style.allTemplatesLink)},{default:y((()=>[T(r(n(a).baseText("templates.featured.seeMore")),1)])),_:1},8,["href","class"])],2),d.value?(b(),s("div",{key:0,class:F(e.$style.suggestions)},[(b(!0),s(v,null,x(n(6),(e=>(b(),f(qa,{key:e})))),128))],2)):(b(),s("div",{key:1,class:F(e.$style.suggestions)},[(b(!0),s(v,null,x(l.value,((e,a)=>(b(),f(ba,{key:e.id,template:e,"tile-number":a+1,clickable:!0},null,8,["template","tile-number"])))),128))],2))],2))}}),[["__cssModules",{$style:{container:"_container_d40wj_125",header:"_header_d40wj_131",allTemplatesLink:"_allTemplatesLink_d40wj_147",suggestions:"_suggestions_d40wj_151"}}]]),Ga=[{id:"multi-agent-research",summary:"a multi-agent research workflow",prompt:'Create a multi-agent AI workflow using `gpt-4.1-mini` where several agents work together to research a topic, fact-check the findings, and write a report that\'s sent as an HTML email. One agent should gather recent, credible information about the topic. Another agent should verify the facts and only mark something as "verified" if it appears in at least two independent sources. A third agent should combine the verified information into a clear, well-written report under 1,000 words. A final agent should edit and format the report to make it look clean and professional in the body of the email. Use Gmail to send the report.'},{id:"email-summary",summary:"an email summary workflow",prompt:"Create an automation that runs on Monday mornings. It reads my Gmail inbox from the weekend, analyzes them with `gpt-4.1-mini` to find action items and priorities, and emails me a structured email using Gmail."},{id:"ai-news-digest",summary:"a daily AI news digest workflow",prompt:'Build an automation that runs every night 8pm. Use the NewsAPI "/everything" endpoint to search for AI-related news from the day. Pick the top 5 articles and use OpenAI `gpt-4.1-mini` to summarize each in two sentences. Generate an image using OpenAI based on the top article\'s summary. Send a structured Telegram message.'},{id:"daily-weather-report",summary:"a daily weather report workflow",prompt:"Create an automation that checks the weather for my location every morning at 5 a.m using OpenWeather. Send me a short weather report by email using Gmail. Use OpenAI `gpt-4.1-mini` to write a short, fun formatted email body by adding personality when describing the weather and how the day might feel. Include all details relevant to decide on my plans and clothes for the day."},{id:"invoice-pipeline",summary:"an invoice processing workflow",prompt:"Create an invoice processing workflow using an n8n Form. When a user submits an invoice file (PDF or image) with their email address, use OpenAI `gpt-4.1-mini` to extract invoice data. Then, validate the date format is correct, the currency is valid, and the total amount is greater than zero. If validation fails, email the user a clear error message that explains which check failed from my Gmail. If the data passes validation, store the structured result in a datatable plus email the user. Every Monday morning, generate a weekly spending report using `gpt-4.1-mini` based on stored invoices and send a clean email using Gmail."},{id:"rag-assistant",summary:"a RAG knowledge agent",prompt:"Build an automation that creates a document-to-chat RAG pipeline. The workflow starts with an n8n Form where a user uploads one or more files (PDF, CSV, or JSON). Each upload should trigger a process that reads the file, splits it into chunks, and generates embeddings using OpenAI `gpt-4.1-mini` model, saved in one Pinecone table. Add a second part of the workflow for querying: use a Chat Message Trigger to act as a chatbot interface. When a user sends a question, retrieve the top 5 most relevant chunks from Pinecone, pass them into `gpt-4.1-mini` as context, and have it answer naturally using only the retrieved information. If a question can't be answered confidently, the bot should respond with: \"I couldn't find that in the uploaded documents.\" Log each chat interaction in a Data Table with the user query, matched file(s), and timestamp. Send a daily summary email through Gmail showing total questions asked, top files referenced, and any failed lookups."},{id:"lead-qualification",summary:"a lead qualification workflow",prompt:"Create an n8n form with a lead generation form I can embed on my website homepage. Build an automation that processes form submissions, uses AI to qualify the lead, sends data to an n8n data table. For high-score leads, it should also email them to offer to schedule a 15-min call in a free slot in my calendar."},{id:"youtube-auto-chapters",summary:"a YouTube chapter generator workflow",prompt:"Build an n8n workflow that automatically generates YouTube chapter timestamps from video captions. Use the n8n chat trigger for me to enter the URL of the YouTube video. Use the YouTube Get a video node to get the video title, description, and existing metadata. Use the YouTube Captions API to download the transcript for the given video ID. Send the transcript to AI agent using Anthropic's Claude model. Prompt the model to identify topic shifts and return structured output in timestamp - chapter format. Append the generated chapter list to the existing video description. Use the YouTube Update a video node to update the video description. Respond back with the updates using the respond to chat node."}],Ka=t(na(),1),Ya=40,Qa=25,Xa=1500,Za=300,et="Build ",at=oe(p({__name:"EmptyStateBuilderPrompt",props:{projectId:{},parentFolderId:{}},emits:["submit","startFromScratch"],setup(e,{emit:a}){const t=e,l=ae(),d=Ae(),u=P(),p=ue(),m=fa(),f=a,g=i(""),v=i(),w=i(null),{placeholder:h}=ft(o((()=>(0,Ka.default)(Ga).slice(0,6))),o((()=>0===g.value.length)));function _(){g.value.trim()&&f("submit",g.value)}function k(){p.track("User clicked from scratch in empty state"),f("startFromScratch")}function x(){ye(xe.emptyStateBuilderPrompt),l.push({name:Le.TEMPLATES})}function C(){w.value?.click()}function j(){const e=w.value;if(!e?.files?.length)return;const a=new FileReader;a.onload=async()=>{const o=a.result;if("string"!=typeof o)return void(e.value="");let r;try{r=JSON.parse(o)}catch{return d.showMessage({title:u.baseText("mainSidebar.showMessage.handleFileImport.title"),message:u.baseText("mainSidebar.showMessage.handleFileImport.message"),type:"error"}),void(e.value="")}try{await m.createWorkflowFromImport(r,t.projectId,t.parentFolderId)}catch{d.showError(new Error(u.baseText("nodeView.couldntLoadWorkflow.invalidWorkflowObject")),u.baseText("nodeView.couldntImportWorkflow"))}finally{e.value=""}},a.readAsText(e.files[0])}return(e,a)=>(b(),s("div",{class:F(e.$style.container)},[E("input",{ref_key:"importFileRef",ref:w,type:"file",accept:".json",style:{display:"none"},onChange:j},null,544),E("p",{class:F(e.$style.subtitle)},r(n(u).baseText("emptyStateBuilderPrompt.subtitle")),3),E("div",{class:F(e.$style.promptInput)},[c(n(Q),{ref_key:"promptInputRef",ref:v,modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),placeholder:n(h),"min-lines":4,"button-label":n(u).baseText("emptyStateBuilderPrompt.buildWorkflow"),"data-test-id":"empty-state-builder-prompt-input",autofocus:"",onSubmit:_},null,8,["modelValue","placeholder","button-label"])],2),E("div",{class:F(e.$style.footer)},[E("div",{class:F(e.$style.alternativeActions)},[E("span",{class:F(e.$style.startWithText)},r(n(u).baseText("emptyStateBuilderPrompt.orStartWith")),3),c(n(R),{content:n(u).baseText("emptyStateBuilderPrompt.fromScratchTooltip")},{default:y((()=>[c(n(B),{variant:"subtle",size:"small",icon:"play",onClick:k},{default:y((()=>[T(r(n(u).baseText("emptyStateBuilderPrompt.fromScratch")),1)])),_:1})])),_:1},8,["content"]),c(n(R),{content:n(u).baseText("emptyStateBuilderPrompt.templateTooltip")},{default:y((()=>[c(n(B),{variant:"subtle",size:"small",icon:"layout-template",onClick:x},{default:y((()=>[T(r(n(u).baseText("emptyStateBuilderPrompt.template")),1)])),_:1})])),_:1},8,["content"]),c(n(R),{content:n(u).baseText("emptyStateBuilderPrompt.importFromFileTooltip")},{default:y((()=>[c(n(B),{variant:"subtle",size:"small",icon:"upload",onClick:C},{default:y((()=>[T(r(n(u).baseText("emptyStateBuilderPrompt.importFromFile")),1)])),_:1})])),_:1},8,["content"])],2)],2)],2))}}),[["__cssModules",{$style:{container:"_container_1wank_125",subtitle:"_subtitle_1wank_133",promptInput:"_promptInput_1wank_139","el-tooltip__trigger":"_el-tooltip__trigger_1wank_143",footer:"_footer_1wank_148",alternativeActions:"_alternativeActions_1wank_155",startWithText:"_startWithText_1wank_163"}}]]),tt=oe(p({__name:"EmptyStateLayout",emits:["click:add"],setup(e,{emit:a}){const t=a,i=P(),d=M(),u=He(),p=ne(),m=da(),g=fa(),w=ca(),{showBuilderPrompt:h,showRecommendedTemplatesInline:k,builderHeading:x,emptyStateHeading:C,emptyStateDescription:j,canCreateWorkflow:I}=mt(),S=()=>{t("click:add")},A=o((()=>w.userCanClaimOpenAiCredits&&I.value)),$=async()=>{try{await w.claimCreditsAndOpenWorkflow("card",W.value,z.value)}catch{}},O=o((()=>({minHeight:`calc(100vh - ${u.bannersHeight}px)`}))),z=o((()=>m.isOverviewSubPage?p.personalProject?.id:d.params.projectId)),W=o((()=>d.params.folderId)),D=async e=>{await g.createWorkflowWithPrompt(e,z.value,W.value)};return(e,a)=>(b(),s("div",{class:F([e.$style.emptyStateLayout,{[e.$style.noTemplatesContent]:!n(k)&&!n(h),[e.$style.builderLayout]:n(h)}]),style:_(O.value)},[E("div",{class:F([e.$style.content,{[e.$style.builderContent]:n(h)}])},[n(h)?(b(),s(v,{key:0},[E("div",{class:F(e.$style.welcomeBuilder)},[c(n(te),{tag:"h1",size:"xlarge"},{default:y((()=>[T(r(n(x)),1)])),_:1})],2),c(at,{"data-test-id":"empty-state-builder-prompt","project-id":z.value,"parent-folder-id":W.value,onSubmit:D,onStartFromScratch:S},null,8,["project-id","parent-folder-id"])],64)):n(k)?(b(),s(v,{key:1},[c(n(te),{tag:"h1",size:"2xlarge",bold:"",class:F(e.$style.welcomeTitle)},{default:y((()=>[T(r(n(C)),1)])),_:1},8,["class"]),E("div",{class:F(e.$style.templatesSection)},[c(Ja),E("div",{class:F(e.$style.orDivider)},[c(n(H),{size:"large"},{default:y((()=>[T(r(n(i).baseText("generic.or")),1)])),_:1})],2),E("div",{class:F(e.$style.actionButtons)},[c(wa,{type:"secondary",size:"large"}),c(n(B),{variant:"subtle",icon:"file",size:"large","data-test-id":"start-from-scratch-button",onClick:S},{default:y((()=>[T(r(n(i).baseText("workflows.empty.startFromScratch")),1)])),_:1})],2)],2)],64)):(b(),s(v,{key:2},[c(n(te),{tag:"h1",size:"2xlarge",bold:"",class:F(e.$style.welcomeTitle)},{default:y((()=>[T(r(n(C)),1)])),_:1},8,["class"]),E("div",{class:F(e.$style.fallbackContent)},[c(n(H),{tag:"p",size:"large",color:"text-base"},{default:y((()=>[T(r(n(j)),1)])),_:1}),n(I)?(b(),s("div",{key:0,class:F([e.$style.actionCardsContainer,{[e.$style.singleCard]:!A.value}])},[A.value?(b(),f(n(J),{key:0,class:F(e.$style.actionCard),hoverable:"","data-test-id":"ready-to-run-card",onClick:$},{default:y((()=>[E("div",{class:F(e.$style.cardContent)},[c(n(V),{class:F(e.$style.cardIcon),icon:"zap",color:"foreground-dark","stroke-width":1.5},null,8,["class"]),c(n(H),{size:"large",class:"mt-xs"},{default:y((()=>[T(r(n(i).baseText("workflows.empty.tryAiWorkflow")),1)])),_:1})],2)])),_:1},8,["class"])):l("",!0),c(n(J),{class:F(e.$style.actionCard),hoverable:"","data-test-id":"new-workflow-card",onClick:S},{default:y((()=>[E("div",{class:F(e.$style.cardContent)},[c(n(V),{class:F(e.$style.cardIcon),icon:"file",color:"foreground-dark","stroke-width":1.5},null,8,["class"]),c(n(H),{size:"large",class:"mt-xs"},{default:y((()=>[T(r(n(i).baseText("workflows.empty.startFromScratch")),1)])),_:1})],2)])),_:1},8,["class"])],2)):l("",!0)],2)],64))],2)],6))}}),[["__cssModules",{$style:{emptyStateLayout:"_emptyStateLayout_1bn4b_125",noTemplatesContent:"_noTemplatesContent_1bn4b_136",builderLayout:"_builderLayout_1bn4b_139",content:"_content_1bn4b_147",builderContent:"_builderContent_1bn4b_154",welcomeBuilder:"_welcomeBuilder_1bn4b_159",welcomeTitle:"_welcomeTitle_1bn4b_163",templatesSection:"_templatesSection_1bn4b_167",fallbackContent:"_fallbackContent_1bn4b_171",actionCardsContainer:"_actionCardsContainer_1bn4b_178",singleCard:"_singleCard_1bn4b_185",actionCard:"_actionCard_1bn4b_178",cardIcon:"_cardIcon_1bn4b_209",cardContent:"_cardContent_1bn4b_213",orDivider:"_orDivider_1bn4b_229",actionButtons:"_actionButtons_1bn4b_234"}}]]),ot=t(Je(),1),rt={key:1},st={class:"text-center mt-s"},lt={key:0,class:"mb-s"},nt={class:"mb-s"},it={class:"mb-s"},e("default",oe(p({__name:"WorkflowsView",setup(e){const a="",t="active",u="deactivated",p={lastUpdated:"updatedAt:desc",lastCreated:"createdAt:desc",nameAsc:"name:asc",nameDesc:"name:desc"},m=P(),h=M(),_=ae(),k=we(),I=Ae(),S=function(){const e=P(),a=Ke(),t=o((()=>null!==a.draggedElement));function r(){a.draggedElement=null,a.activeDropTarget=null,document.body.classList.remove("dragging-resource")}function s(e){const a=e.closest("[data-target]");if(!a)return null;const t=a.dataset.target,o=a.dataset.resourceid,r=a.dataset.resourcename;return t&&o&&r&&["folder","workflow","project"].includes(t)?{type:t,id:o,name:r}:null}return{validateFolderName:function(a){return fe.test(a)?e.baseText("folders.invalidName.invalidCharacters.message",{interpolate:{illegalChars:he.join(" ")}}):re.test(a)?e.baseText("folders.invalidName.only.dots.message"):a.startsWith(".")?e.baseText("folders.invalidName.starts.with.dot..message"):""===a.trim()?e.baseText("folders.invalidName.empty.message"):!(a.length>128)||e.baseText("folders.invalidName.tooLong.message",{interpolate:{maxLength:128}})},onDragStart:function(e){const t=e.closest("[data-target]");if(!t)return;const o=s(t);o&&("folder"!==o.type&&"workflow"!==o.type||(a.draggedElement={type:o.type,id:o.id,name:o.name},document.body.classList.add("dragging-resource")))},onDragEnd:r,onDragEnter:function(e){const o=e.target;if(!o||!t.value)return;e.preventDefault(),e.stopPropagation();const r=s(o);r&&"folder"===r.type&&(a.activeDropTarget={type:r.type,id:r.id,name:r.name})},resetDropTarget:function(){a.activeDropTarget=null},handleDrop:function(e){const o=e.target;if(!o||!t.value)return{};e.preventDefault();const l=a.draggedElement?.id,n=a.draggedElement?.type,i=a.draggedElement?.name;if(!l||!n||!i)return{};r();const d=s(o);return!d||"folder"!==(c=d).type&&"project"!==c.type?{}:{draggedResource:{type:n,id:l,name:i},dropTarget:{type:d.type,id:d.id,name:d.name}};var c}}}(),A=Se(),$=Ie(),O=je(),W=ge(),U=Fe(),Q=ne(),oe=ue(),se=Ce(),le=me(),ie=Ke(),pe=Qe(),ve=oa(),_e=ua(),ye=Wa(),ke=pa(),xe=la(),Ee=sa(),Pe=ca(),$e=be(),{callDebounced:Oe}=Ge(),ze=da(),{showRecommendedTemplatesInline:Me,emptyStateHeading:De,emptyStateDescription:Be,readOnlyEnv:Ne,projectPermissions:Ue}=mt(),Ve=i(!0),He=i(!1),qe=i({search:"",homeProject:"",status:a,showArchived:!1,tags:[]}),Je=q(),Ye=j("resourcesListLayout"),Xe=i([]),ea=i(1),aa=i(50),ra=i("updatedAt:desc"),na=i(null),ia=i(!1),fa=o((()=>[{label:m.baseText("generic.open"),value:ce.OPEN,disabled:!1,onlyAvailableOn:"card"},{label:m.baseText("folders.actions.create"),value:ce.CREATE,disabled:Ne.value||!Pa.value},{label:m.baseText("folders.actions.create.workflow"),value:ce.CREATE_WORKFLOW,disabled:Ne.value||!za.value},{label:m.baseText("generic.rename"),value:ce.RENAME,disabled:Ne.value||!$a.value},{label:m.baseText("folders.actions.moveToFolder"),value:ce.MOVE,disabled:Ne.value||!$a.value},{label:m.baseText("generic.delete"),value:ce.DELETE,disabled:Ne.value||!Oa.value}])),wa=o((()=>fa.value.filter((e=>!e.onlyAvailableOn||"card"===e.onlyAvailableOn)))),_a=o((()=>fa.value.filter((e=>!e.onlyAvailableOn||"mainBreadcrumbs"===e.onlyAvailableOn)))),ya=o((()=>U.isEnterpriseFeatureEnabled[We.Sharing])),ba=o((()=>U.isFoldersFeatureEnabled)),xa=o((()=>U.isModuleActive("mcp")&&U.moduleSettings.mcp?.mcpAccessEnabled)),Ta=o((()=>ba.value&&!ze.isOverviewSubPage&&!ze.isSharedSubPage)),Ca=o((()=>na.value?ie.breadcrumbsCache[na.value]:null)),ja=o((()=>Ca.value?.parentFolder?ie.breadcrumbsCache[Ca.value.parentFolder]:null)),Sa=o((()=>null!==ie.draggedElement)),Fa=o((()=>!Ne.value&&$a.value)),Ea=o((()=>Ye.value?.getScrollContainer?.()??null));dt({isActive:o((()=>Sa.value&&Fa.value)),container:Ea});const Pa=o((()=>!!Da.value&&!0===Re(Da.value.scopes).folder.create)),$a=o((()=>!!Da.value&&!0===Re(Da.value.scopes).folder.update)),Oa=o((()=>!!Da.value&&!0===Re(Da.value.scopes).folder.delete)),za=o((()=>!!Da.value&&!0===Re(Da.value.scopes).workflow.create)),Da=o((()=>Q.currentProject)),Ra=o((()=>Da.value?.type===de.Personal?m.baseText("projects.menu.personal"):Da.value?.name)),La=o((()=>Ca.value?Ca.value.name:Ra.value)),Ua=o((()=>Q.personalProject)),Va=o((()=>(Xe.value||[]).map((e=>"folder"===e.resource?{resourceType:"folder",id:e.id,name:e.name,createdAt:e.createdAt.toString(),updatedAt:e.updatedAt.toString(),homeProject:e.homeProject,workflowCount:e.workflowCount,subFolderCount:e.subFolderCount,parentFolder:e.parentFolder}:{resourceType:"workflow",id:e.id,name:e.name,description:e.description,active:e.active??!1,activeVersionId:e.activeVersionId,isArchived:e.isArchived,updatedAt:e.updatedAt.toString(),createdAt:e.createdAt.toString(),homeProject:e.homeProject,scopes:e.scopes,sharedWithProjects:e.sharedWithProjects,readOnly:!Re(e.scopes).workflow.update,tags:e.tags,parentFolder:e.parentFolder,settings:e.settings,hasResolvableCredentials:e.hasResolvableCredentials})))),qa=o((()=>[{label:m.baseText("workflows.filters.status.all"),value:a},{label:m.baseText("workflows.filters.status.active"),value:t},{label:m.baseText("workflows.filters.status.deactivated"),value:u}])),Ga=o((()=>{const e=ke.isFeatureEnabled,a=ke.isCalloutDismissed;return e&&!a&&!Ve.value&&!Ne.value&&(ze.isOverviewSubPage||Pa.value&&za.value)})),Ka=o((()=>!!(qe.value.search||qe.value.status!==a||qe.value.showArchived||qe.value.tags.length))),Ya=o((()=>0===Xe.value.length&&!Ka.value&&!qe.value.showArchived&&ie.totalWorkflowCount>0)),Qa=o((()=>"default"===U.deploymentType)),Xa=o((()=>Re($.currentUser?.globalScopes).community.register)),Za=o((()=>Qa.value&&!ba.value&&Xa.value)),et=o((()=>!Ve.value&&_e.isFeatureEnabled&&!_e.calloutDismissed&&!Ne.value&&(ze.isOverviewSubPage||Pa.value&&za.value))),at=o((()=>!Ve.value&&ye.isFeatureEnabled())),ct=o((()=>!Ve.value&&Pe.getSimplifiedLayoutVisibility(h))),ut=o((()=>et.value||at.value||Ga.value)),pt=o((()=>!Ve.value&&!Me.value&&!Ne.value&&Ue.value.workflow.create));w([()=>h.params?.projectId,()=>h.name],(async()=>{Ve.value=!0})),w((()=>h.params?.folderId),(async e=>{na.value=e,qe.value.search="",jt(),await Promise.all([yt(),ie.fetchTotalWorkflowsAndFoldersCount(h.params.projectId,na.value??void 0)])})),A.$onAction((({name:e,after:a})=>{"pullWorkfolder"===e&&a((async()=>await _t()))}));const ft=async()=>{await Promise.all([yt(),ie.fetchTotalWorkflowsAndFoldersCount(h.params.projectId,na.value??void 0)])},gt=async e=>{const a=ie.getCachedFolder(e.folderId);ie.deleteFoldersFromCache([e.folderId,a?.parentFolder??""]);const t=na.value===e.folderId?a?.parentFolder??null:na.value;await ie.fetchTotalWorkflowsAndFoldersCount(h.params.projectId,t??void 0),na.value===e.folderId?_.push({name:Le.PROJECTS_FOLDERS,params:{projectId:h.params.projectId,folderId:a?.parentFolder??""}}):await yt(),oe.track("User deleted folder",{folder_id:e.folderId,deleted_sub_folders:e.folderCount,deleted_sub_workflows:e.workflowCount})},vt=o((()=>ze.isOverviewSubPage&&ve.isSummaryEnabled&&(Va.value.length>0||!xe.isFeatureEnabled()&&!Ee.isFeatureEnabled()))),wt=o((()=>xe.isFeatureEnabled()&&!Ve.value)),ht=o((()=>Ee.isFeatureEnabled()&&!Ve.value));g((async()=>{$e.set(m.baseText("workflows.heading")),$.showPersonalizationSurvey(),Je.on("resource-moved",yt),Je.on("workflow-duplicated",yt),Je.on("folder-deleted",gt),Je.on("folder-moved",Gt),Je.on("folder-transferred",Kt),Je.on("workflow-moved",Xt),Je.on("workflow-transferred",Qt)})),d((()=>{Je.off("resource-moved",yt),Je.off("workflow-duplicated",yt),Je.off("folder-deleted",gt),Je.off("folder-moved",Gt),Je.off("folder-transferred",Kt),Je.off("workflow-moved",Xt),Je.off("workflow-transferred",Qt)}));const _t=async()=>{Ve.value=!0,await It(),na.value=h.params.folderId;const[e]=await Promise.all([yt(),W.fetchActiveWorkflows(),pe.getLicenseInfo(),ie.fetchTotalWorkflowsAndFoldersCount(h.params.projectId,na.value??void 0)]);He.value=!1,Xe.value=e,Ve.value=!1},yt=async()=>{const e=(0,ot.default)((()=>{Ve.value=!0}),300),o=h.params?.projectId,r=qe.value.homeProject||void 0,s=h.params?.folderId||void 0,l=qe.value.tags.length?qe.value.tags.map((e=>le.tagsById[e]?.name)):[],n=qe.value.status===a?void 0:qe.value.status===t,i=!!qe.value.showArchived&&void 0,d=Ta.value&&!l.length&&void 0===n;try{const a=await W.fetchWorkflowsPage(o??r,ea.value,aa.value,ra.value,{query:qe.value.search||void 0,active:n,isArchived:i,tags:l.length?l:void 0,parentFolderId:bt(s)},d,ze.isSharedSubPage);ie.cacheFolders(a.filter((e=>"folder"===e.resource)).map((e=>({id:e.id,name:e.name,parentFolder:e.parentFolder?.id}))));const t=void 0!==ie.breadcrumbsCache[s??""];return s&&!t&&o&&(He.value=!0,await ie.getFolderPath(o,s),He.value=!1),Xe.value=a,ia.value=ze.isOverviewSubPage||ze.isSharedSubPage||""!==qe.value.search,a}catch(c){return I.showError(c,m.baseText("workflows.list.error.fetching")),_.push({name:Le.PROJECTS_FOLDERS,params:{projectId:o}}),[]}finally{e.cancel(),Ve.value=!1,He.value&&(He.value=!1)}},bt=e=>null!=e?e:ze.isOverviewSubPage||ze.isSharedSubPage||qe?.value.search?void 0:"0",kt=async()=>{ea.value=1,jt(),Ve.value||await Oe(yt,{debounceTime:100,trailing:!0})},xt=async e=>{ea.value=1,jt(),e?await Oe(yt,{debounceTime:300,trailing:!0}):await yt()},Tt=async e=>{e.page&&(ea.value=e.page),e.pageSize&&(aa.value=e.pageSize),e.sort&&(ra.value=p[e.sort]??"updatedAt:desc"),Ve.value||await Oe(yt,{debounceTime:100,trailing:!0})},Ct=async e=>{qe.value.tags.includes(e)||(qe.value.tags.push(e),ea.value=1,jt(),await yt())},jt=()=>{const e={...h.query};qe.value.search?e.search=qe.value.search:delete e.search,qe.value.status!==a?e.status=(qe.value.status===t).toString():delete e.status,qe.value.showArchived?e.showArchived="true":delete e.showArchived,qe.value.tags.length?e.tags=qe.value.tags.join(","):delete e.tags,qe.value.homeProject?e.homeProject=qe.value.homeProject:delete e.homeProject,_.replace({query:Object.keys(e).length?e:void 0})},It=async()=>{const e={...h.query},{tags:a,status:o,search:r,homeProject:s,sort:l,showArchived:n}=h.query??{},i=e=>"string"==typeof e&&e.trim().length>0;var d;if(i(s)?(await Q.getAvailableProjects(),d=s,Q.availableProjects.some((e=>e.id===d))?(e.homeProject=s,qe.value.homeProject=s):delete e.homeProject):delete e.homeProject,i(r)?(e.search=r,qe.value.search=r):delete e.search,i(a)){await le.fetchAll();const t=a.split(",").filter((e=>le.allTags.map((e=>e.id)).includes(e)));t.length?(e.tags=t.join(","),qe.value.tags=t):delete e.tags}else delete e.tags;if(i(o)?(e.status=o,qe.value.status="true"===o?t:u):delete e.status,i(l)){const a=p[l]??"updatedAt:desc";e.sort=l,ra.value=a}else delete e.sort;i(n)?(e.showArchived=n,qe.value.showArchived="true"===n):(delete e.showArchived,qe.value.showArchived=!1),_.replace({query:e})},St=()=>{se.nodeViewInitialized=!1,_.push({name:Le.NEW_WORKFLOW,query:{projectId:h.params?.projectId,parentFolderId:h.params?.folderId}}),oe.track("User clicked add workflow button",{source:"Workflows list"}),Ft("blank")},Ft=e=>{oe.track("User clicked empty page option",{option:e})},Et=()=>{_e.dismissCallout(),_e.trackUserDismissedCallout()},At=async()=>{qe.value.showArchived=!0,await kt()},Pt=()=>{ke.dismissCallout(),ke.trackDismissCallout()},$t=async e=>{const a=Xe.value.find((a=>a.id===e.id));if(a){a.active=e.active,a.activeVersionId=e.active?a.versionId:null;try{const t=await W.fetchWorkflow(e.id);t.settings&&(a.settings=t.settings)}catch(t){I.showError(t,m.baseText("workflows.list.error.fetching.one"))}}},Ot=async e=>{const a=Xe.value.find((a=>a.id===e.id));a&&(a.activeVersionId=null)},zt=e=>Xe.value.find((a=>"folder"===a.resource&&a.id===e)),Wt=async e=>{const a=zt(e);if(a)return{workflowCount:a.workflowCount,subFolderCount:a.subFolderCount};try{const a=await ie.fetchFolderContent(Da.value?.id??"",e);return{workflowCount:a.totalWorkflows,subFolderCount:a.totalSubFolders}}catch(t){return I.showMessage({title:m.baseText("folders.delete.error.message"),message:m.baseText("folders.not.found.message"),type:"error"}),{workflowCount:0,subFolderCount:0}}},Mt=async e=>{const{draggedResource:a,dropTarget:t}=S.handleDrop(e);a&&t&&await Rt(a,t)},Dt=async e=>{ie.draggedElement&&(await Rt({id:ie.draggedElement.id,type:ie.draggedElement.type,name:ie.draggedElement.name},{id:e.id,type:"folder",name:e.label}),S.onDragEnd())},Bt=async(e,a)=>{ie.draggedElement&&(await Rt({id:ie.draggedElement.id,type:ie.draggedElement.type,name:ie.draggedElement.name},{id:e,type:"project",name:a}),S.onDragEnd())},Rt=async(e,a)=>{if("folder"===e.type){await Gt({folder:{id:e.id,name:e.name},newParent:{id:a.id,name:a.name,type:a.type},options:{skipFetch:!0,skipNavigation:!0}}),Xe.value=Xe.value.filter((a=>a.id!==e.id));const t=zt(a.id);t&&(t.subFolderCount+=1)}else if("workflow"===e.type){await Xt({workflow:{id:e.id,name:e.name,oldParentId:na.value??""},newParent:{id:a.id,name:a.name,type:a.type},options:{skipFetch:!0}}),Xe.value=Xe.value.filter((a=>a.id!==e.id));const t=zt(a.id);t&&(t.workflowCount+=1)}},Lt=e=>{e.href&&(Ve.value=!0,_.push(e.href).then((()=>{na.value=e.id,Ve.value=!1})).catch((e=>{I.showError(e,m.baseText("folders.open.error.title"))})))},Nt=async e=>{switch(e){case ce.CREATE:if(!h.params.projectId)return;const e=Ca.value?.name||Ra.value;if(!e)return;await Vt({id:h.params.folderId??"-1",name:e,type:Ca.value?"folder":"project"});break;case ce.CREATE_WORKFLOW:St();break;case ce.DELETE:if(!h.params.folderId)return;const a=await Wt(h.params.folderId);await Jt(h.params.folderId,a.workflowCount,a.subFolderCount);break;case ce.RENAME:setTimeout((()=>{eo.value?.forceFocus&&eo.value.forceFocus()}),0);break;case ce.MOVE:if(!Ca.value)return;se.openMoveToFolderModal("folder",{id:Ca.value?.id,name:Ca.value?.name,parentFolderId:Ca.value?.parentFolder},Je)}},Ut=async e=>{const a=ie.getCachedFolder(e.folderId);if(a)switch(e.action){case ce.CREATE:await Vt({id:a.id,name:a.name,type:"folder"},{openAfterCreate:!0});break;case ce.CREATE_WORKFLOW:na.value=a.id,_.push({name:Le.NEW_WORKFLOW,query:{projectId:h.params?.projectId,parentFolderId:a.id}});break;case ce.DELETE:{const e=await Wt(a.id);await Jt(a.id,e.workflowCount,e.subFolderCount);break}case ce.RENAME:await Ht(a.id);break;case ce.MOVE:se.openMoveToFolderModal("folder",{id:a.id,name:a.name,parentFolderId:a.parentFolder},Je)}},Vt=async(e,a={openAfterCreate:!1})=>{const t=await k.prompt(m.baseText("folders.add.to.parent.message",{interpolate:{parent:e.name}}),{confirmButtonText:m.baseText("generic.create"),cancelButtonText:m.baseText("generic.cancel"),inputValidator:S.validateFolderName,customClass:"add-folder-modal"});if("confirm"===t.action){const r=t.value;try{const t=await ie.createFolder(r,h.params.projectId,"folder"===e.type?e.id:void 0),o=_.resolve({name:Le.PROJECTS_FOLDERS,params:{projectId:h.params.projectId,folderId:t.id}}).href;I.showToast({title:m.baseText("folders.add.success.title"),message:m.baseText("folders.add.success.message",{interpolate:{link:o,folderName:t.name}}),onClick:e=>{e?.target instanceof HTMLAnchorElement&&(e.preventDefault(),_.push(o))},type:"success"}),oe.track("User created folder",{folder_id:t.id}),a.openAfterCreate?await _.push({name:Le.PROJECTS_FOLDERS,params:{projectId:h.params.projectId,folderId:e.id}}):Xe.value.length?await yt():(Xe.value=[{id:t.id,name:t.name,resource:"folder",createdAt:t.createdAt,updatedAt:t.updatedAt,homeProject:Q.currentProject,workflowCount:0,subFolderCount:0}],ie.cacheFolders([{id:t.id,name:t.name,parentFolder:Ca.value?.id}]))}catch(o){I.showError(o,m.baseText("folders.create.error.title"))}}},Ht=async e=>{const a=ie.getCachedFolder(e);if(!a||!Da.value)return;const t=await k.prompt(m.baseText("folders.rename.message",{interpolate:{folderName:a.name}}),{confirmButtonText:m.baseText("generic.rename"),cancelButtonText:m.baseText("generic.cancel"),inputValue:a.name,customClass:"rename-folder-modal",inputValidator:S.validateFolderName});if("confirm"===t.action){const a=t.value;try{await ie.renameFolder(Da.value?.id,e,a),ie.breadcrumbsCache[e].name=a,I.showMessage({title:m.baseText("folders.rename.success.message",{interpolate:{folderName:a}}),type:"success"}),await yt(),oe.track("User renamed folder",{folder_id:e})}catch(o){I.showError(o,m.baseText("folders.rename.error.title"))}}},qt=async()=>{if(Za.value)return void se.openModalWithData({name:Te,data:{customHeading:m.baseText("folders.registeredCommunity.cta.heading")}});if(!h.params.projectId)return;const e=Ca.value?.name||Ra.value;e&&await Vt({id:h.params.folderId??"-1",name:e,type:Ca.value?"folder":"project"})},Jt=async(e,a,t)=>{t||a?se.openDeleteFolderModal(e,Je,{workflowCount:a,subFolderCount:t}):(await ie.deleteFolder(h.params.projectId,e),I.showMessage({title:m.baseText("folders.delete.success.message"),type:"success"}),await gt({folderId:e,workflowCount:a,folderCount:t}))},Gt=async e=>{if(h.params.projectId){Ve.value=!0;try{e.options?.skipApiCall||await ie.moveFolder(h.params.projectId,e.folder.id,"folder"===e.newParent.type?e.newParent.id:"0");const a=na.value===e.folder.id,t=_.resolve({name:Le.PROJECTS_FOLDERS,params:{projectId:h.params.projectId,folderId:"folder"===e.newParent.type?e.newParent.id:void 0}}).href;a&&!e.options?.skipNavigation?(_.push(t),I.showMessage({title:m.baseText("folders.move.success.title"),message:m.baseText("folders.move.success.messageNoAccess",{interpolate:{folderName:e.folder.name,newFolderName:e.newParent.name}}),type:"success"})):(I.showToast({title:m.baseText("folders.move.success.title"),message:m.baseText("folders.move.success.message",{interpolate:{folderName:e.folder.name,newFolderName:e.newParent.name}}),onClick:e=>{e?.target instanceof HTMLAnchorElement&&(e.preventDefault(),_.push(t))},type:"success"}),e.options?.skipFetch||await yt())}catch(a){I.showError(a,m.baseText("folders.move.error.title"))}finally{Ve.value=!1}}},Kt=async e=>{Ve.value=!0;try{const a=na.value===e.source.folder.id,t=_.resolve({name:Le.PROJECTS_FOLDERS,params:{projectId:e.destination.canAccess?e.destination.projectId:e.source.projectId,folderId:e.destination.canAccess?e.source.folder.id:void 0}}).href;a?e.destination.canAccess?_.push(t):_.push({name:Le.PROJECTS_WORKFLOWS,params:{projectId:e.source.projectId}}):(await ft(),e.destination.canAccess?I.showToast({title:m.baseText("folders.move.success.title"),message:m.baseText("folders.move.success.message",{interpolate:{folderName:e.source.folder.name,newFolderName:e.destination.parentFolder.name}}),onClick:e=>{e?.target instanceof HTMLAnchorElement&&(e.preventDefault(),_.push(t))},type:"success"}):I.showToast({title:m.baseText("folders.move.success.title"),message:m.baseText("folders.move.success.messageNoAccess",{interpolate:{folderName:e.source.folder.name,newFolderName:e.destination.parentFolder.name}}),type:"success"}))}catch(a){I.showError(a,m.baseText("folders.move.error.title"))}finally{Ve.value=!1}},Yt=async e=>{Za.value?se.openModalWithData({name:Te,data:{customHeading:m.baseText("folders.registeredCommunity.cta.heading")}}):se.openMoveToFolderModal("workflow",{id:e.id,name:e.name,parentFolderId:e.parentFolderId,sharedWithProjects:e.sharedWithProjects,homeProjectId:e.homeProjectId},Je)},Qt=async e=>{Ve.value=!0;try{await ft(),e.destination.canAccess?I.showToast({title:m.baseText("folders.move.workflow.success.title"),message:m.baseText("folders.move.workflow.success.message",{interpolate:{workflowName:e.source.workflow.name,newFolderName:e.destination.parentFolder.name}}),onClick:a=>{a?.target instanceof HTMLAnchorElement&&(a.preventDefault(),_.push({name:Le.PROJECTS_FOLDERS,params:{projectId:e.destination.projectId,folderId:e.destination.parentFolder.id}}))},type:"success"}):I.showToast({title:m.baseText("folders.move.workflow.success.title"),message:m.baseText("folders.move.workflow.success.messageNoAccess",{interpolate:{workflowName:e.source.workflow.name,newFolderName:e.destination.parentFolder.name}}),type:"success"})}catch(a){I.showError(a,m.baseText("folders.move.workflow.error.title"))}finally{Ve.value=!1}},Xt=async e=>{if(h.params.projectId){Ve.value=!0;try{const a=_.resolve({name:Le.PROJECTS_FOLDERS,params:{projectId:h.params.projectId,folderId:"folder"===e.newParent.type?e.newParent.id:void 0}}).href;if(!e.options?.skipApiCall){const a=Xe.value.find((a=>a.id===e.workflow.id));await O.updateWorkflow(e.workflow.id,{parentFolderId:"folder"===e.newParent.type?e.newParent.id:"0",versionId:a?.versionId})}e.options?.skipFetch||await yt(),I.showToast({title:m.baseText("folders.move.workflow.success.title"),message:m.baseText("folders.move.workflow.success.message",{interpolate:{workflowName:e.workflow.name,newFolderName:e.newParent.name}}),onClick:e=>{e?.target instanceof HTMLAnchorElement&&(e.preventDefault(),_.push(a))},type:"success"}),oe.track("User moved content",{workflow_id:e.workflow.id,source_folder_id:e.workflow.oldParentId,destination_folder_id:e.newParent.id})}catch(a){I.showError(a,m.baseText("folders.move.workflow.error.title"))}finally{Ve.value=!1}}},Zt=()=>{_.push({name:Le.NEW_WORKFLOW,query:{projectId:Da.value?.id,parentFolderId:h.params.folderId}})},eo=j("renameInput"),ao=async e=>{if(!Ca.value||!Da.value)return;const a=e.trim();if(!a)return void I.showMessage({title:m.baseText("renameAction.emptyName.title"),message:m.baseText("renameAction.emptyName.message"),type:"error"});if(a===Ca.value.name)return void eo.value?.forceCancel();const t=S.validateFolderName(a);if("string"==typeof t)return I.showMessage({title:m.baseText("renameAction.invalidName.title"),message:t,type:"error"}),void eo.value?.forceCancel();try{await ie.renameFolder(Da.value?.id,Ca.value.id,a),ie.breadcrumbsCache[Ca.value.id].name=a,I.showMessage({title:m.baseText("folders.rename.success.message",{interpolate:{folderName:a}}),type:"success"}),oe.track("User renamed folder",{folder_id:Ca.value.id})}catch(o){I.showError(o,m.baseText("folders.rename.error.title")),eo.value?.forceCancel()}};return(e,a)=>ct.value?(b(),f(tt,{key:0,"onClick:add":St})):(b(),f(va,{key:1,ref:"resourcesListLayout",filters:qe.value,"onUpdate:filters":[a[3]||(a[3]=e=>qe.value=e),kt],"resource-key":"workflows",type:"list-paginated",resources:Va.value,"type-props":{itemSize:80},shareable:ya.value,initialize:_t,disabled:n(Ne)||!n(Ue).workflow.create,loading:!1,"resources-refreshing":Ve.value,"custom-page-size":n(50),"total-items":n(W).totalWorkflowCount,"dont-perform-sorting-and-filtering":!0,"has-empty-state":0===n(ie).totalWorkflowCount&&!na.value,"onClick:add":St,"onUpdate:search":xt,"onUpdate:paginationAndSort":Tt,onMouseleave:n(S).resetDropTarget},C({header:y((()=>[c(ha,{"has-active-callouts":ut.value,onCreateFolder:qt},{default:y((()=>[vt.value?(b(),f(ka,{key:0,loading:n(ve).weeklySummary.isLoading,summary:n(ve).weeklySummary.state,"time-range":"week"},null,8,["loading","summary"])):l("",!0)])),_:1},8,["has-active-callouts"])])),callout:y((()=>[et.value?(b(),f(n(z),{key:0,theme:"secondary",icon:"gift",class:F(e.$style["easy-ai-workflow-callout"])},{trailingContent:y((()=>[E("div",{class:F(e.$style["callout-trailing-content"])},[c(n(B),{variant:"subtle","data-test-id":"easy-ai-button",size:"small",onClick:a[0]||(a[0]=e=>(async e=>{try{const a=ze.isOverviewSubPage?Ua.value?.id:h.params.projectId;if("string"!=typeof a)return void I.showError(new Error,m.baseText("workflows.ai.starter.collection.error"));const t=await _e.createStarterWorkflows(a,na.value??void 0);ze.isOverviewSubPage?await _.push({name:Le.PROJECTS_FOLDERS,params:{projectId:a,folderId:t.id}}):Xe.value.unshift({id:t.id,name:t.name,resource:"folder",createdAt:t.createdAt,updatedAt:t.updatedAt,subFolderCount:0,workflowCount:3,parentFolder:t.parentFolder}),_e.trackUserCreatedStarterCollection(e)}catch(a){return void I.showError(a,m.baseText("workflows.ai.starter.collection.error"))}})("callout"))},{default:y((()=>[T(r(n(m).baseText("generic.startNow")),1)])),_:1}),c(n(V),{size:"small",icon:"x",title:n(m).baseText("generic.dismiss"),class:"clickable",onClick:Et},null,8,["title"])],2)])),default:y((()=>[T(r(n(m).baseText("workflows.ai.starter.collection.callout"))+" ",1)])),_:1},8,["class"])):at.value?(b(),f(Ba,{key:1},{default:y((()=>[(b(!0),s(v,null,x(n(ye).suggestedWorkflows,(e=>(b(),f(Ma,{key:e.id,"data-test-id":"resource-list-item-suggested-workflow",data:{id:e.id,name:e.name}},null,8,["data"])))),128))])),_:1})):l("",!0),Ga.value?(b(),f(n(z),{key:2,theme:"secondary",icon:"bolt-filled",class:F(e.$style["easy-ai-workflow-callout"])},{trailingContent:y((()=>[E("div",{class:F(e.$style["callout-trailing-content"])},[c(n(B),{variant:"subtle","data-test-id":"easy-ai-button",size:"small",onClick:a[1]||(a[1]=e=>(async e=>{try{const a=ze.isOverviewSubPage?Ua.value?.id:h.params.projectId;if("string"!=typeof a)return void I.showError(new Error,m.baseText("workflows.readyToRunWorkflows.error"));const t=await ke.createWorkflows(a,na.value??void 0);ke.trackCreateWorkflows(e),ze.isOverviewSubPage?await _.push({name:Le.PROJECTS_FOLDERS,params:{projectId:a,folderId:t.id}}):Xe.value.unshift({id:t.id,name:t.name,resource:"folder",createdAt:t.createdAt,updatedAt:t.updatedAt,subFolderCount:0,workflowCount:4,parentFolder:t.parentFolder})}catch(a){return void I.showError(a,m.baseText("workflows.readyToRunWorkflows.error"))}})("callout"))},{default:y((()=>[T(r(n(m).baseText("generic.startNow")),1)])),_:1}),c(n(V),{size:"small",icon:"x",title:n(m).baseText("generic.dismiss"),class:"clickable",onClick:Pt},null,8,["title"])],2)])),default:y((()=>[T(r(n(ke).getCalloutText())+" ",1)])),_:1},8,["class"])):l("",!0)])),breadcrumbs:y((()=>[He.value?(b(),s("div",{key:0,class:F(e.$style["breadcrumbs-loading"])},[c(n(D),{loading:He.value,rows:1,variant:"p"},null,8,["loading"])],2)):Ta.value&&Ca.value?(b(),s("div",{key:1,class:F(e.$style["breadcrumbs-container"]),"data-test-id":"main-breadcrumbs"},[c(ma,{"current-folder":ja.value,actions:_a.value,"hidden-items-trigger":Sa.value?"hover":"click","current-folder-as-link":!0,onItemSelected:Lt,onAction:Nt,onItemDrop:Dt,onProjectDrop:Bt},{append:y((()=>[E("span",{class:F(e.$style["path-separator"])},"/",2),(b(),f(n(G),{ref_key:"renameInput",ref:eo,key:Ca.value?.id,"data-test-id":"breadcrumbs-item-current",placeholder:n(m).baseText("folders.rename.placeholder"),"model-value":Ca.value.name,"max-length":30,"read-only":n(Ne)||!$a.value,class:F({[e.$style.name]:!0,[e.$style["pointer-disabled"]]:Sa.value}),"onUpdate:modelValue":ao},null,8,["placeholder","model-value","read-only","class"]))])),_:1},8,["current-folder","actions","hidden-items-trigger"])],2)):l("",!0)])),item:y((({item:t,index:o})=>["folder"===t.resourceType?(b(),f(Ze,{key:`folder-${o}`,disabled:!Fa.value,type:"move","target-data-key":"folder",onDragstart:n(S).onDragStart,onDragend:n(S).onDragEnd},{preview:y((()=>[c(n(J),null,{default:y((()=>[c(n(H),{tag:"h2",bold:""},{default:y((()=>[T(r(t.name),1)])),_:2},1024)])),_:2},1024)])),default:y((()=>[c(Ia,{data:t,actions:wa.value,"read-only":n(Ne)||!Oa.value&&!Pa.value,"personal-project":Ua.value,"data-resourceid":t.id,"data-resourcename":t.name,class:F([{"mb-2xs":!0,[e.$style["drag-active"]]:Sa.value,[e.$style.dragging]:"folder"===n(ie).draggedElement?.type&&n(ie).draggedElement?.id===t.id,[e.$style["drop-active"]]:n(ie).activeDropTarget?.id===t.id},"mb-2xs"]),"show-ownership-badge":ia.value,"data-target":"folder","data-droppable":"",onAction:Ut,onMouseenter:n(S).onDragEnter,onMouseup:Mt},null,8,["data","actions","read-only","personal-project","data-resourceid","data-resourcename","class","show-ownership-badge","onMouseenter"])])),_:2},1032,["disabled","onDragstart","onDragend"])):(b(),f(Ze,{key:`workflow-${o}`,disabled:!Fa.value,type:"move","target-data-key":"workflow",onDragstart:n(S).onDragStart,onDragend:n(S).onDragEnd},{preview:y((()=>[c(n(J),null,{default:y((()=>[c(n(H),{tag:"h2",bold:""},{default:y((()=>[T(r(t.name),1)])),_:2},1024)])),_:2},1024)])),default:y((()=>[c(Aa,{"data-test-id":"resources-list-item-workflow","data-target":"workflow",class:F({"mb-2xs":!0,[e.$style["drag-active"]]:Sa.value,[e.$style.dragging]:"workflow"===n(ie).draggedElement?.type&&n(ie).draggedElement?.id===t.id}),data:t,"workflow-list-event-bus":n(Je),"read-only":n(Ne),"data-resourceid":t.id,"data-resourcename":t.name,"show-ownership-badge":ia.value,"are-folders-enabled":n(U).isFoldersFeatureEnabled,"are-tags-enabled":n(U).areTagsEnabled,"is-mcp-enabled":xa.value,"onClick:tag":Ct,"onWorkflow:deleted":ft,"onWorkflow:archived":ft,"onWorkflow:unarchived":ft,"onWorkflow:moved":yt,"onWorkflow:duplicated":yt,"onWorkflow:unpublished":Ot,"onWorkflow:activeToggle":$t,"onAction:moveToFolder":Yt,onMouseenter:a[2]||(a[2]=e=>Sa.value?n(S).resetDropTarget():{})},null,8,["class","data","workflow-list-event-bus","read-only","data-resourceid","data-resourcename","show-ownership-badge","are-folders-enabled","are-tags-enabled","is-mcp-enabled"])])),_:2},1032,["disabled","onDragstart","onDragend"]))])),empty:y((()=>[n(ze).isSharedSubPage&&Ua.value?(b(),f(ga,{key:0,"personal-project":Ua.value,"resource-type":"workflows"},null,8,["personal-project"])):(b(),s("div",rt,[n(Me)?(b(),s("div",{key:0,class:F(e.$style.templatesContainer)},[c(Ja)],2)):(b(),s("div",{key:1,class:F(e.$style.emptyStateNoTemplates),"data-test-id":"list-empty-state"},[E("div",st,[c(n(te),{tag:"h2",size:"xlarge",class:"mb-2xs"},{default:y((()=>[T(r(n(De)),1)])),_:1}),c(n(H),{size:"large",color:"text-base"},{default:y((()=>[T(r(n(Be)),1)])),_:1})]),pt.value?(b(),f(n(J),{key:0,class:F(e.$style.emptyStateCard),hoverable:"","data-test-id":"new-workflow-card",onClick:St},{default:y((()=>[E("div",{class:F(e.$style.emptyStateCardContent)},[c(n(V),{class:F(e.$style.emptyStateCardIcon),icon:"file",color:"foreground-dark","stroke-width":1.5},null,8,["class"]),c(n(H),{size:"large",class:"mt-xs"},{default:y((()=>[T(r(n(m).baseText("workflows.empty.startFromScratch")),1)])),_:1})],2)])),_:1},8,["class"])):l("",!0)],2)),ht.value?(b(),f(Ha,{key:2})):wt.value?(b(),f(Na,{key:3})):l("",!0)]))])),filters:y((({setKeyValue:e})=>[n(U).areTagsEnabled?(b(),s("div",lt,[c(n(X),{label:n(m).baseText("workflows.filters.tags"),bold:!1,size:"small",color:"text-base",class:"mb-3xs"},null,8,["label"]),c(ta,{placeholder:n(m).baseText("workflowOpen.filterWorkflows"),"model-value":qe.value.tags,"create-enabled":!1,"onUpdate:modelValue":a=>e("tags",a)},null,8,["placeholder","model-value","onUpdate:modelValue"])])):l("",!0),E("div",nt,[c(n(X),{label:n(m).baseText("workflows.filters.status"),bold:!1,size:"small",color:"text-base",class:"mb-3xs"},null,8,["label"]),c(n(K),{"data-test-id":"status-dropdown","model-value":qe.value.status,"onUpdate:modelValue":a=>e("status",a)},{default:y((()=>[(b(!0),s(v,null,x(qa.value,(e=>(b(),f(n(Z),{key:e.label,label:e.label,value:e.value,"data-test-id":"status"},null,8,["label","value"])))),128))])),_:1},8,["model-value","onUpdate:modelValue"])]),E("div",it,[c(n(ee),{label:n(m).baseText("workflows.filters.showArchived"),"model-value":qe.value.showArchived||!1,"data-test-id":"show-archived-checkbox","onUpdate:modelValue":a=>e("showArchived",a)},null,8,["label","model-value","onUpdate:modelValue"])])])),postamble:y((()=>[0!==Xe.value.length||Ka.value?l("",!0):(b(),s("div",{key:0,class:F(e.$style["empty-folder-container"]),"data-test-id":"empty-folder-container"},[Ya.value?(b(),f(n(N),{key:0,bold:!1},{default:y((()=>[T(r(n(m).baseText("workflows.archivedOnly.hint"))+" ",1),c(n(Y),{size:"small","data-test-id":"show-archived-link",onClick:At},{default:y((()=>[T(r(n(m).baseText("workflows.archivedOnly.hint.link")),1)])),_:1})])),_:1})):l("",!0),n(ze).isSharedSubPage&&Ua.value?(b(),f(ga,{key:1,"personal-project":Ua.value,"resource-type":"workflows"},null,8,["personal-project"])):Ca.value?(b(),f(n(L),{key:2,"data-test-id":"empty-folder-action-box",heading:n(m).baseText("folders.empty.actionbox.title",{interpolate:{folderName:Ca.value.name}}),"button-text":n(m).baseText("generic.create.workflow"),"button-type":"secondary","button-disabled":n(Ne)||!n(Ue).workflow.create,"onClick:button":Zt},{disabledButtonTooltip:y((()=>[T(r(n(Ne)?n(m).baseText("readOnlyEnv.cantAdd.workflow"):n(m).baseText("generic.missing.permissions")),1)])),_:1},8,["heading","button-text","button-disabled"])):l("",!0)],2)),n(Me)&&Ya.value?(b(),s("div",{key:1,class:F(e.$style.templatesContainer)},[c(Ja)],2)):l("",!0)])),_:2},[Ta.value||Za.value?{name:"add-button",fn:y((()=>[c(n(R),{placement:"top",disabled:!Za.value&&(n(Ne)||!Pa.value)},{content:y((()=>[E("span",null,r(La.value?n(m).baseText("folders.add.to.parent.message",{interpolate:{parent:La.value}}):n(m).baseText("folders.add.here.message")),1)])),default:y((()=>[c(n(B),{variant:"outline",size:"small",iconOnly:"",icon:"folder-plus","data-test-id":"add-folder-button",class:F(e.$style["add-folder-button"]),disabled:!Za.value&&(n(Ne)||!Pa.value),onClick:qt},null,8,["class","disabled"])])),_:1},8,["disabled"])])),key:"0"}:void 0]),1032,["filters","resources","shareable","disabled","resources-refreshing","custom-page-size","total-items","has-empty-state","onMouseleave"]))}}),[["__cssModules",{$style:{templatesContainer:"_templatesContainer_152id_125","easy-ai-workflow-callout":"_easy-ai-workflow-callout_152id_134","callout-trailing-content":"_callout-trailing-content_152id_139",emptyStateCard:"_emptyStateCard_152id_145",emptyStateCardContent:"_emptyStateCardContent_152id_158",emptyStateCardIcon:"_emptyStateCardIcon_152id_165",emptyStateNoTemplates:"_emptyStateNoTemplates_152id_172","add-folder-button":"_add-folder-button_152id_180","breadcrumbs-container":"_breadcrumbs-container_152id_185","breadcrumbs-loading":"_breadcrumbs-loading_152id_191","empty-folder-container":"_empty-folder-container_152id_197","drag-active":"_drag-active_152id_201",dragging:"_dragging_152id_206","drop-active":"_drop-active_152id_213","path-separator":"_path-separator_152id_218",name:"_name_152id_224","pointer-disabled":"_pointer-disabled_152id_230"}}]]))}}}));
//# sourceMappingURL=WorkflowsView-legacy-CCn6HokA.js.map