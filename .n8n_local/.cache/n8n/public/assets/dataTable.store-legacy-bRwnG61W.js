!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./_baseOrderBy-legacy-BnyL5wLN.js"],(function(e,t){var a,n,s,i,o,l,c,d,r,u,f,b,y,p,v,x,w,m,C,T,h,g,D,A,j;return{setters:[function(e){a=e.C,n=e.It},function(e){s=e.$t,i=e.Gt,o=e.Jt,l=e.Qt,c=e.Xt,d=e.Yt,r=e.Zt,u=e.an,f=e.cn,b=e.en,y=e.in,p=e.nn,v=e.on,x=e.rn,w=e.sn,m=e.tn,C=e.ur,T=e.ws},function(e){h=e.Br,g=e.qo},function(e){D=e.j,A=e.r}],execute:function(){try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(I=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[I]="61ffb041-ad8d-4ecf-92fb-e7b411e2e418",t._sentryDebugIdIdentifier="sentry-dbid-61ffb041-ad8d-4ecf-92fb-e7b411e2e418")}catch(t){}var t,I;e("n",j=(e,t,a)=>e.map((e=>e.index===t?{...e,index:a}:t<a&&e.index>t&&e.index<=a?{...e,index:e.index-1}:t>a&&e.index>=a&&e.index<t?{...e,index:e.index+1}:e))),e("t",D(h,(()=>{const e=A(),t=i(),h=T(),D=n([]),I=n(0),S=n(0),R=n("ok"),k=n({}),z=a((()=>g(t.currentProject?.scopes??t.personalProject?.scopes))),B=e=>Number((e/1024/1024).toFixed(2)),E=a((()=>Math.floor(h.settings?.dataTables?.maxSize/1024/1024))),L=a((()=>{const e={};for(const[t,a]of Object.entries(k.value))e[t]=B(a);return e})),O=a((()=>C(["rbac"],{rbac:{scope:"dataTable:list"}}))),_=async(t,a)=>{const n=await m(e.restApiContext,a,void 0,{projectId:a,id:t});return n.data.length>0?(D.value=n.data,n.data[0]):null};return{dataTables:D,totalCount:I,fetchDataTables:async(t,a,n)=>{const s=await m(e.restApiContext,t,{skip:(a-1)*n,take:n});D.value=s.data,I.value=s.count},fetchDataTableSize:async()=>{const t=await b(e.restApiContext);S.value=B(t.totalBytes),R.value=t.quotaStatus;const a={};for(const[e,n]of Object.entries(t.dataTables))a[e]=n.sizeBytes;return k.value=a,t},dataTableSize:a((()=>S.value)),dataTableSizeLimitState:a((()=>R.value)),dataTableSizes:L,maxSizeMB:E,createDataTable:async(a,n,s,i,o=!0)=>{const l=await d(e.restApiContext,a,n,s,i,o);if(!l.project&&n){const e=await t.fetchProject(n);e&&(l.project=e)}return D.value.push(l),I.value+=1,l},uploadCsvFile:async(t,a=!0)=>await f(e.restApiContext,t,a),deleteDataTable:async(t,a)=>{const n=await c(e.restApiContext,t,a);return n&&(D.value=D.value.filter((e=>e.id!==t)),I.value-=1),n},updateDataTable:async(t,a,n)=>{const s=await v(e.restApiContext,t,a,n);if(s){const e=D.value.findIndex((e=>e.id===t));-1!==e&&(D.value[e]={...D.value[e],name:a})}return s},fetchDataTableDetails:_,fetchOrFindDataTable:async(e,t)=>{const a=D.value.find((t=>t.id===e));return a||await _(e,t)},addDataTableColumn:async(t,a,n)=>{const s=await o(e.restApiContext,t,a,n);if(s){const e=D.value.findIndex((e=>e.id===t));-1!==e&&D.value[e].columns.push(s)}return s},deleteDataTableColumn:async(t,a,n)=>{const s=await r(e.restApiContext,t,a,n);if(s){const e=D.value.findIndex((e=>e.id===t));-1!==e&&(D.value[e].columns=D.value[e].columns.filter((e=>e.id!==n)))}return s},moveDataTableColumn:async(t,a,n,s)=>{const i=await y(e.restApiContext,t,a,n,s);if(i){const e=D.value.findIndex((e=>e.id===t)),a=D.value[e].columns.findIndex((e=>e.id===n));D.value[e].columns=j(D.value[e].columns,a,s)}return i},renameDataTableColumn:async(t,a,n,s)=>{await u(e.restApiContext,t,a,n,s);const i=D.value.findIndex((e=>e.id===t));if(-1===i)return;const o=D.value[i].columns.find((e=>e.id===n));o&&(o.name=s)},fetchDataTableContent:async(t,a,n,s,i,o,l)=>await p(e.restApiContext,t,a,{skip:(n-1)*s,take:s,sortBy:i,filter:o,search:l}),insertEmptyRow:async(t,a)=>(await x(e.restApiContext,t,{},a))[0],updateRow:async(t,a,n,s)=>await w(e.restApiContext,t,n,s,a),deleteRows:async(t,a,n)=>await l(e.restApiContext,t,n,a),downloadDataTableCsv:async(t,a,n=!0)=>{const{csvContent:i,filename:o}=await s(e.restApiContext,t,a,n);((e,t)=>{const a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,n.style.display="none",document.body.appendChild(n);try{n.click()}finally{document.body.contains(n)&&document.body.removeChild(n),URL.revokeObjectURL(a)}})((e=>new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}))(i),o)},projectPermissions:z,canViewDataTables:O}})))}}}));
//# sourceMappingURL=dataTable.store-legacy-bRwnG61W.js.map