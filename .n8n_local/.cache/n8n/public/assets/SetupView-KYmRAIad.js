(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`de3bb609-8d77-45a8-acbd-e4ff049c778d`,e._sentryDebugIdIdentifier=`sentry-dbid-de3bb609-8d77-45a8-acbd-e4ff049c778d`)})()}catch{}import{It as e,P as t,Pt as n,T as r,et as i}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as a}from"./_MapCache-DjbOQyB7.js";import{wi as o}from"./src-CppJvwzX.js";import"./sanitize-html-K63Olwt_.js";import{t as s,ws as c,yr as l}from"./users.store-pCkD7Zo0.js";import{rs as u}from"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import"./_baseOrderBy-El3qbNHQ.js";import"./dateformat-BhE5sUDK.js";import"./useDebounce-D6lADr4O.js";import"./sso.store-Dd63iqNy.js";import{t as d}from"./AuthView-O45Jsyy-.js";var f=t({__name:`SetupView`,setup(t){let f=c(),p=s(),m=l(),h=a(),g=o(),_=e(!1),v=n({title:h.baseText(`auth.setup.setupOwner`),buttonText:h.baseText(`auth.setup.next`),inputs:[{name:`email`,properties:{label:h.baseText(`auth.email`),type:`email`,required:!0,validationRules:[{name:`VALID_EMAIL`}],autocomplete:`email`,capitalize:!0}},{name:`firstName`,properties:{label:h.baseText(`auth.firstName`),maxlength:32,required:!0,autocomplete:`given-name`,capitalize:!0}},{name:`lastName`,properties:{label:h.baseText(`auth.lastName`),maxlength:32,required:!0,autocomplete:`family-name`,capitalize:!0}},{name:`password`,properties:{label:h.baseText(`auth.password`),type:`password`,required:!0,validationRules:[{name:`DEFAULT_PASSWORD_RULES`}],infoText:h.baseText(`auth.defaultPasswordRequirements`),autocomplete:`new-password`,capitalize:!0}},{name:`agree`,properties:{label:h.baseText(`auth.agreement.label`),type:`checkbox`}}]}),y=async e=>{try{let t=f.showSetupPage;if(_.value=!0,await p.createOwner(e),e.agree===!0)try{await p.submitContactEmail(e.email.toString(),e.agree)}catch{}t?await g.push({name:u.HOMEPAGE}):await g.push({name:u.USERS_SETTINGS})}catch(e){m.showError(e,h.baseText(`auth.setup.settingUpOwnerError`))}_.value=!1};return(e,t)=>(i(),r(d,{form:v,"form-loading":_.value,"data-test-id":`setup-form`,onSubmit:y},null,8,[`form`,`form-loading`]))}});export{f as default};
//# sourceMappingURL=SetupView-KYmRAIad.js.map