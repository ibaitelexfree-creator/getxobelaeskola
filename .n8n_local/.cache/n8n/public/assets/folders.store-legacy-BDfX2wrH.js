!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./users.store-legacy-B-bVJKl3.js","./_baseOrderBy-legacy-BnyL5wLN.js"],(function(e,t){var n,a,r,o,d,l,i,s,c;async function u(e,t,n,a,r){const o=await c(e,"GET",`/projects/${t}/folders`,{...a?{filter:a}:{},...n||{},...r?{select:JSON.stringify(r)}:{}});return{data:o.data,count:o.count}}return{setters:[function(e){n=e.It},function(e){a=e.yt},function(e){r=e.Wc,o=e.qt,d=e.wa},function(e){l=e.d,i=e.j,s=e.r,c=e.u}],execute:function(){try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(f=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[f]="7ecbf0a3-64d4-4b79-a811-b466889bbf3d",t._sentryDebugIdIdentifier="sentry-dbid-7ecbf0a3-64d4-4b79-a811-b466889bbf3d")}catch(t){}var t,f;e("t",i(r.FOLDERS,(()=>{const e=s(),t=a(),r=n(!1),i=n(0),f=n(null),p=n(null),h=n({}),y=e=>{e.forEach((e=>{h.value[e.id]||(h.value[e.id]={id:e.id,name:e.name,parentFolder:e.parentFolder})}))};async function w(t,n){const a=await async function(e,t,n){return await l(e,"GET",`/projects/${t}/folders/${n}/tree`)}(e.restApiContext,t,n);return y(b(a)),a}function b(e,t){let n=[];return e.forEach((e=>{if(n.push({id:e.id,name:e.name,parentFolder:t}),e.children&&e.children.length>0){const t=b(e.children,e.id);n=[...n,...t]}})),n}return{fetchTotalWorkflowsAndFoldersCount:async function(t,n){r.value=!1;const{count:a}=await d(e.restApiContext,{projectId:t,parentFolderId:n},{skip:0,take:1},!0);return i.value=a,r.value=!0,a},breadcrumbsCache:h,cacheFolders:y,getCachedFolder:e=>h.value[e],createFolder:async function(t,n,a){return await async function(e,t,n,a){return await l(e,"POST",`/projects/${t}/folders`,{name:n,parentFolderId:a})}(e.restApiContext,n,t,a)},getFolderPath:w,totalWorkflowCount:i,workflowsCountLoaded:r,deleteFolder:async function(t,n,a){await async function(e,t,n,a){return await l(e,"DELETE",`/projects/${t}/folders/${n}`,{transferToFolderId:a})}(e.restApiContext,t,n,a)},deleteFoldersFromCache:e=>{e.forEach((e=>{delete h.value[e]}))},renameFolder:async function(t,n,a){await async function(e,t,n,a){return await l(e,"PATCH",`/projects/${t}/folders/${n}`,{name:a})}(e.restApiContext,t,n,a)},fetchProjectFolders:async function(t){return await u(e.restApiContext,t)},fetchFoldersAvailableForMove:async function(t,n,a){let r=0,o=0,d=[];do{const{data:l,count:i}=await u(e.restApiContext,t,{skip:r,take:100,sortBy:"updatedAt:desc"},{excludeFolderIdAndDescendants:n,name:a?.name},["id","name","createdAt","updatedAt","project","tags","parentFolder","workflowCount","subFolderCount","path"]);d=d.concat(l.map((e=>({...e,resource:"folder"})))),o=i,r+=l.length}while(d.length<o&&r<o);return y(d.map((e=>({id:e.id,name:e.name,parentFolder:e.parentFolder?.id})))),d.sort(((e,t)=>{if(e.path.length!==t.path.length)return e.path.length-t.path.length;for(let n=0;n<e.path.length;n++){const a=e.path[n].localeCompare(t.path[n]);if(0!==a)return a}return 0})),d},moveFolder:async function(t,n,a){await async function(e,t,n,a){return await l(e,"PATCH",`/projects/${t}/folders/${n}`,{parentFolderId:a})}(e.restApiContext,t,n,a),delete h.value[n]},moveFolderToProject:async function(t,n,a,r,d){await o(e.restApiContext,t,n,a,r,d),delete h.value[n]},fetchFolderContent:async function(t,n){return await async function(e,t,n){return(await c(e,"GET",`/projects/${t}/folders/${n}/content`)).data}(e.restApiContext,t,n)},getHiddenBreadcrumbsItems:async function(e,n,a){const r=Date.now(),o=await w(e.id,n),d=t=>{const n=[{id:t.id,label:t.name,href:a?.addLinks?`/projects/${e.id}/folders/${t.id}/workflows`:void 0}];if(t.children?.length){const r=t.children.flatMap((t=>{const n=[{id:t.id,label:t.name,href:a?.addLinks?`/projects/${e.id}/folders/${t.id}/workflows`:void 0}];return t.children?.length&&n.push.apply(n,d(t).slice(1)),n}));n.push.apply(n,r)}return n};let l;l=0===o.length?[{id:e.id,label:e.name},{id:"-1",label:t.baseText("folders.breadcrumbs.noTruncated.message")}]:[{id:e.id,label:e.name},...o.flatMap(d)];const i=Date.now()-r,s=Math.max(0,300-i);return s>0&&await new Promise((e=>setTimeout(e,s))),l},draggedElement:f,activeDropTarget:p,fetchFolderUsedCredentials:async function(t,n){return await async function(e,t,n){return(await c(e,"GET",`/projects/${t}/folders/${n}/credentials`)).data}(e.restApiContext,t,n)}}})))}}}));
//# sourceMappingURL=folders.store-legacy-BDfX2wrH.js.map