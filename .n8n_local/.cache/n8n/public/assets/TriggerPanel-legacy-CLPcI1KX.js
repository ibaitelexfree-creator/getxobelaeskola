!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./_baseOrderBy-legacy-BnyL5wLN.js","./CopyInput-legacy-tkihub7c.js","./RunData-legacy-lPpXxp--.js","./NDVEmptyState-legacy-BucrD4N6.js","./usePinnedData-legacy-B5CI71uf.js","./nodeCreator.store-legacy-i0crt2uh.js","./NodeIcon-legacy-DOI-M5xN.js","./VirtualSchema-legacy-DEUlCSUS.js","./useRunWorkflow-legacy-4stFR283.js","./dateFormatter-legacy-Di9U0PH-.js","./useLogsTreeExpand-legacy-D53Lg-vJ.js","./useExecutionData-legacy-B-oDwo5t.js","./RunDataParsedAiContent-legacy-Dx8gqPaN.js"],(function(e,t){var a,n,o,l,i,s,u,r,d,c,v,p,_,g,m,f,y,b,x,h,k,w,T,z,D,N,S,C,$,j,M,O,R,H,E,I,A,B,L,P,V,U,W,q,F,Y,J,K,G,Z,Q,X,ee,te,ae,ne,oe,le,ie,se,ue,re,de,ce,ve,pe,_e,ge,me,fe,ye,be,xe,he,ke,we,Te,ze,De,Ne,Se,Ce,$e,je,Me,Oe,Re,He,Ee,Ie,Ae,Be,Le,Pe,Ve,Ue,We,qe,Fe,Ye,Je,Ke,Ge,Ze,Qe,Xe,et,tt,at;return{setters:[function(e){a=e.o},function(e){n=e.C,o=e.Cn,l=e.D,i=e.E,s=e.Gt,u=e.It,r=e.J,d=e.M,c=e.P,v=e.T,p=e.Z,_=e._,g=e._t,m=e.bt,f=e.et,y=e.h,b=e.it,x=e.j,h=e.k,k=e.n,w=e.p,T=e.st,z=e.vn,D=e.w,N=e.xt,S=e.zt},function(e){C=e.bt,$=e.h,j=e.yt},function(e){M=e.$,O=e.B,R=e.F,H=e.Hi,E=e.Oi,I=e.Q,A=e.Ui,B=e.Vi,L=e._t,P=e.gi,V=e.wi,U=e.z,W=e.zi},function(e){q=e.t},function(e){F=e.Bt,Y=e.C,J=e.Lt,K=e.Or,G=e.S,Z=e.Tt,Q=e.Vi,X=e.Vt,ee=e.f,te=e.ni,ae=e.r,ne=e.s,oe=e.u,le=e.ui},function(e){e.Cr,ie=e.Gt,se=e.Vs,ue=e.fc,re=e.gn,de=e.rs,ce=e.so},function(e){ve=e.N},function(e){pe=e.t},function(e){_e=e.i,ge=e.r,me=e.t},function(e){fe=e.t},function(e){ye=e.n,be=e.t},function(e){xe=e.d},function(e){he=e.t},function(e){ke=e.n},function(e){we=e.r},function(e){Te=e.n},function(e){ze=e.c,De=e.d,Ne=e.n,Se=e.o,Ce=e.r,$e=e.t},function(e){je=e.t},function(e){Me=e.n,Oe=e.t}],execute:function(){(Re=document.createElement("style")).textContent='._floatingNodes_10z2d_125{z-index:10;pointer-events:none;position:absolute;top:0;bottom:0;left:0;right:0}._nodesList_10z2d_135{transform-origin:50%;justify-content:center;align-items:center;gap:var(--spacing--sm);flex-direction:column;width:min-content;margin:auto;padding:0;list-style:none;transition:transform .2s ease-in-out;display:flex;position:absolute}._nodesList_10z2d_135._inputSub_10z2d_149,._nodesList_10z2d_135._outputSub_10z2d_149{flex-direction:row;left:0;right:0}._nodesList_10z2d_135._outputSub_10z2d_149{top:0;transform:translateY(-50%)}._nodesList_10z2d_135._inputSub_10z2d_149{bottom:0;transform:translateY(50%)}._nodesList_10z2d_135._outputMain_10z2d_162,._nodesList_10z2d_135._inputMain_10z2d_162{top:0;bottom:0}._nodesList_10z2d_135._outputMain_10z2d_162{right:0;transform:translate(50%)}._nodesList_10z2d_135._inputMain_10z2d_162{left:0;transform:translate(-50%)}._connectedNode_10z2d_175{border:var(--border);background-color:var(--node--color--background);padding:var(--spacing--sm);cursor:pointer;pointer-events:all;border-radius:100%;place-self:center;transition:transform .2s cubic-bezier(.19,1,.22,1);display:flex;position:relative;transform:scale(.8)}._connectedNode_10z2d_175:after{content:"";z-index:-1;position:absolute;top:-35%;bottom:-35%;left:-15%;right:-15%}._outputMain_10z2d_162 ._connectedNode_10z2d_175,._inputMain_10z2d_162 ._connectedNode_10z2d_175{border-radius:var(--radius--lg);justify-content:center;align-items:center;display:flex}._outputMain_10z2d_162 ._connectedNode_10z2d_175:hover{transform:scale(1.2)translate(-50%)}._outputSub_10z2d_149 ._connectedNode_10z2d_175:hover{transform:scale(1.2)translateY(50%)}._inputMain_10z2d_162 ._connectedNode_10z2d_175:hover{transform:scale(1.2)translate(50%)}._inputSub_10z2d_149 ._connectedNode_10z2d_175:hover{transform:scale(1.2)translateY(-50%)}._v2_10z2d_216 ._connectedNode_10z2d_175{padding:var(--spacing--xs)}._v2_10z2d_216 ._connectedNode_10z2d_175:after{display:none}._v2_10z2d_216 ._connectedNode_10z2d_175:hover{transform:scale(1.1)}._tooltipRow_pdesz_125{column-gap:var(--spacing--4xs);display:flex}._block_eo7zm_125{padding:var(--spacing--sm)0 var(--spacing--2xs)var(--spacing--2xs);border:1px solid var(--color--foreground--tint-1);margin-top:var(--spacing--sm);border-radius:var(--radius)}:root ._blockContent_eo7zm_132{height:0;overflow:hidden}:root ._blockContent_eo7zm_132._blockContentExpanded_eo7zm_136{height:auto}._rawSwitch_eo7zm_140{opacity:0;height:fit-content;margin-left:auto;margin-right:var(--spacing--2xs)}._block_eo7zm_125:hover ._rawSwitch_eo7zm_140{opacity:1}._blockHeader_eo7zm_150{gap:var(--spacing--xs);cursor:pointer;margin:calc(-1*var(--spacing--xs));padding:var(--spacing--2xs)var(--spacing--xs);align-items:center;display:flex}._blockHeader_eo7zm_150 *{user-select:none}._blockTitle_eo7zm_163{font-size:var(--font-size--sm);color:var(--color--text--shade-1);padding-bottom:var(--spacing--4xs);margin:0}._blockToggle_eo7zm_170{color:var(--color--text);margin-top:calc(-1*var(--spacing--3xs));background:0 0;border:none;padding:0}._error_eo7zm_178{padding:var(--spacing--sm)0}._warning_eo7zm_182{padding:var(--spacing--sm)var(--spacing--md);text-align:center;align-items:center;gap:var(--spacing--sm);flex-direction:column;display:flex}._warningState_eo7zm_191{width:100%}._warningActions_eo7zm_195{justify-content:center;gap:var(--spacing--2xs);flex-flow:wrap;align-items:center;width:100%;display:flex}._warningActions_eo7zm_195 .n8n-button{min-width:9rem}._container_1ddvo_2{padding:0 var(--spacing--sm)var(--spacing--sm)}._nodeIcon_1ddvo_5{margin-top:calc(var(--spacing--3xs)*-1)}._header_1ddvo_8{align-items:center;gap:var(--spacing--3xs);margin-bottom:var(--spacing--sm);display:flex}._headerWrap_1ddvo_14{flex-direction:column;display:flex}._title_1ddvo_18{font-size:var(--font-size--sm);align-items:center;gap:var(--spacing--3xs);color:var(--color--text--shade-1);display:flex}._meta_1ddvo_25{font-size:var(--font-size--xs);flex-wrap:wrap;align-items:center;list-style:none;display:flex}._meta_1ddvo_25>li:not(:last-child){border-right:1px solid var(--color--text);padding-right:var(--spacing--3xs)}._meta_1ddvo_25>li:not(:first-child){padding-left:var(--spacing--3xs)}._tokensUsage_1ddvo_41{align-items:center;gap:var(--spacing--3xs);display:flex}._noData_ueqto_125{width:100%;color:var(--color--text--tint-1);justify-content:center;align-items:center;display:flex}._empty_ueqto_133{padding:var(--spacing--lg)}._tree_ueqto_137{flex-grow:0;flex-shrink:0;width:30%;min-width:180px}._runData_ueqto_144{width:100%;height:100%;overflow:auto}._container_ueqto_150{height:100%;padding:0 var(--spacing--xs);gap:var(--spacing--xs);display:flex}[data-output-type=logs] [class*=itemsCount],[data-output-type=logs] [class*=displayModes]{display:none}._runData_1ms3r_130{background-color:var(--run-data--color--background)}._runDataV2_1ms3r_134{background-color:var(--ndvv2--run-data--color--background)}._outputTypeSelect_1ms3r_138{margin-bottom:var(--spacing--4xs);width:fit-content}._titleSection_1ms3r_143{align-items:center;display:flex}._titleSection_1ms3r_143>*{margin-right:var(--spacing--2xs)}._titleSectionV2_1ms3r_151{padding-left:var(--spacing--4xs)}._title_1ms3r_143{text-transform:uppercase;color:var(--color--text--tint-1);letter-spacing:2px;font-weight:var(--font-weight--bold);font-size:var(--font-size--sm)}._titleV2_1ms3r_163{letter-spacing:2px;font-size:var(--font-size--xs)}._noOutputData_1ms3r_168{max-width:180px}._noOutputData_1ms3r_168>:first-child{margin-bottom:var(--spacing--md)}._noOutputData_1ms3r_168>*{margin-bottom:var(--spacing--2xs)}._link_1ms3r_178{font-size:var(--font-size--sm);font-weight:var(--font-weight--regular);padding:0;display:inline}._spinner_1ms3r_185{margin-bottom:var(--ndv--spacing);justify-content:center;display:flex}._spinner_1ms3r_185 *{color:var(--color--primary);min-width:40px;min-height:40px}._container_ffjde_125{background-color:var(--run-data--color--background);width:100%;height:100%;padding:var(--spacing--sm)var(--spacing--sm)var(--spacing--xl)var(--spacing--sm);text-align:center;flex-direction:column;justify-content:center;align-items:center;display:flex;position:relative;overflow:hidden}._container_ffjde_125>*{width:100%}._header_ffjde_142{margin-bottom:var(--spacing--sm)}._header_ffjde_142>*{margin-bottom:var(--spacing--2xs)}._action_ffjde_149{text-align:center;margin-bottom:var(--spacing--2xl);flex-direction:column;justify-content:center;align-items:center;display:flex}._shake_ffjde_158{animation:8s infinite _shake_ffjde_158}@keyframes _shake_ffjde_158{90%{transform:translate(0)}92.5%{transform:translate(6px)}95%{transform:translate(-6px)}97.5%{transform:translate(6px)}to{transform:translate(0)}}._accordion_ffjde_179{width:100%;position:absolute;bottom:0;left:0}.fade-enter-active[data-v-d7e561f4],.fade-leave-active[data-v-d7e561f4]{transition:opacity .2s}.fade-enter[data-v-d7e561f4],.fade-leave-to[data-v-d7e561f4]{opacity:0}\n/*$vite$:1*/',document.head.appendChild(Re);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(nt=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[nt]="ec31bd46-d477-4be6-9de1-8f8036b25cf6",t._sentryDebugIdIdentifier="sentry-dbid-ec31bd46-d477-4be6-9de1-8f8036b25cf6")}catch(t){}var t,nt;He=["data-node-name","data-node-placement","onClick"],Ee=function(e){return e.top="outputSub",e.right="outputMain",e.left="inputMain",e}(Ee||{}),Ie=c({__name:"NDVFloatingNodes",props:{rootNode:{}},emits:["switchSelectedNode"],setup(e,{expose:t,emit:a}){const u=e,c=ne(),g=Y(),y=a,h=n((()=>!0));function k(e){const t=N.value[e][0];t&&y("switchSelectedNode",t.node.name)}function w(e){if(e.shiftKey&&e.altKey&&(e.ctrlKey||e.metaKey)){const t={ArrowUp:Ee.top,ArrowRight:Ee.right,ArrowLeft:Ee.left}[e.key]||null;t&&k(t)}}function T(e){return e.map((e=>{const t=c.getNodeByName(e);if(t){const e=g.getNodeType(t.type);if(e)return{node:t,nodeType:e}}return null})).filter((e=>null!==e))}const N=n((()=>{const e=c.workflowObject,t=u.rootNode.name;return{[Ee.top]:T(e.getChildNodes(t,"ALL_NON_MAIN")),[Ee.right]:T(e.getChildNodes(t,ce.Main,1)).reverse(),[Ee.left]:T(e.getParentNodes(t,ce.Main,1)).reverse()}})),S=[Ee.top,Ee.right,Ee.left],C={[Ee.top]:"bottom",[Ee.right]:"left",[Ee.left]:"right"};return p((()=>{document.addEventListener("keydown",w,!0)})),r((()=>{document.removeEventListener("keydown",w,!0)})),t({moveNodeDirection:k}),(e,t)=>(f(),l("aside",{class:z([e.$style.floatingNodes,{[e.$style.v2]:h.value}]),"data-test-id":"floating-nodes"},[(f(),l(_,null,b(S,(t=>D("ul",{key:t,class:z([e.$style.nodesList,e.$style[t]])},[(f(!0),l(_,null,b(N.value[t],(({node:a,nodeType:n})=>(f(),l(_,null,[a&&n?(f(),v(s(E),{key:a.name,placement:C[t],teleported:!1,offset:h.value?16:60},{content:m((()=>[x(o(a.name),1)])),default:m((()=>[D("li",{class:z(e.$style.connectedNode),"data-test-id":"floating-node","data-node-name":a.name,"data-node-placement":t,onClick:e=>y("switchSelectedNode",a.name)},[d(he,{"node-type":n,"node-name":a.name,"tooltip-position":C[t],size:h.value?24:35,circle:""},null,8,["node-type","node-name","tooltip-position","size"])],10,He)])),_:2},1032,["placement","offset"])):i("",!0)],64)))),256))],2))),64))],2))}}),e("r",q(Ie,[["__cssModules",{$style:{floatingNodes:"_floatingNodes_10z2d_125",nodesList:"_nodesList_10z2d_135",inputSub:"_inputSub_10z2d_149",outputSub:"_outputSub_10z2d_149",outputMain:"_outputMain_10z2d_162",inputMain:"_inputMain_10z2d_162",connectedNode:"_connectedNode_10z2d_175",v2:"_v2_10z2d_216"}}]])),Ae=c({__name:"RunInfo",props:{taskData:{},hasStaleData:{type:Boolean},hasPinData:{type:Boolean}},setup(e){const t=j(),a=e,u=n((()=>a.taskData)),r=n((()=>a.taskData?.error?"danger":"success")),c=n((()=>{if(!u.value)return null;const{date:e,time:t}=Te(u.value.startTime);return{executionTime:u.value.executionTime,startTime:`${e} at ${t}`}}));return(a,n)=>{const p=T("n8n-html");return e.hasStaleData?(f(),v(s(I),{key:0,theme:"warning-light",type:"tooltip","tooltip-placement":"right","data-test-id":"node-run-info-stale"},{default:m((()=>[N(D("span",null,null,512),[[p,s(t).baseText(e.hasPinData?"ndv.output.staleDataWarning.pinData":"ndv.output.staleDataWarning.regular")]])])),_:1})):c.value?(f(),l("div",{key:1,class:z(a.$style.tooltipRow)},["canceled"!==e.taskData?.executionStatus?(f(),v(s(I),{key:0,type:"note",theme:r.value,"data-test-id":`node-run-status-${r.value}`,size:"large"},null,8,["theme","data-test-id"])):i("",!0),d(s(I),{type:"tooltip",theme:"info","data-test-id":"node-run-info","tooltip-placement":"right"},{default:m((()=>[D("div",null,[d(s(B),{bold:!0,size:"small"},{default:m((()=>[x(o(u.value?.error?s(t).baseText("runData.executionStatus.failed"):"canceled"===u.value?.executionStatus?s(t).baseText("runData.executionStatus.canceled"):s(t).baseText("runData.executionStatus.success")),1)])),_:1}),n[0]||(n[0]=D("br",null,null,-1)),d(s(B),{bold:!0,size:"small"},{default:m((()=>[x(o(s(t).baseText("runData.startTime")+":"),1)])),_:1}),x(" "+o(c.value.startTime),1),n[1]||(n[1]=D("br",null,null,-1)),d(s(B),{bold:!0,size:"small"},{default:m((()=>[x(o(s(t).baseText("runData.executionTime")+":"),1)])),_:1}),x(" "+o(c.value.executionTime)+" "+o(s(t).baseText("runData.ms")),1)])])),_:1})],2)):i("",!0)}}}),Be=q(Ae,[["__cssModules",{$style:{tooltipRow:"_tooltipRow_pdesz_125"}}]]),Le=a(xe(),1),Pe=K(),Ve=q(c({__name:"AiRunContentBlock",props:{runData:{},error:{}},setup(e){const t=e,a=j(),r=u(!{input:[ce.AiDocument,ce.AiTextSplitter],output:[ce.AiDocument,ce.AiEmbedding,ce.AiTextSplitter,ce.AiVectorStore]}[t.runData.inOut].includes(t.runData.type)),c=u("rendered"),_=u(0),b=u(!1),x=n((()=>(_.value/1048576).toFixed(1))),h=n((()=>ee(t.runData.data??[],t.runData.type))),k=n((()=>h.value.some((e=>!0===e.parsedContent?.parsed))));function w(){r.value=!r.value}function S(e){c.value=e}function C(){b.value=!1,_.value=new Blob([JSON.stringify(t.runData.data)]).size,b.value=_.value<ue}function $(){b.value=!0}function M(){const e="input"===t.runData.inOut?"input_data":"output_data";(0,Pe.saveAs)(new Blob([JSON.stringify(t.runData.data,null,2)],{type:"application/json"}),`${e}.json`)}return p((()=>{C()})),g((()=>t.runData.data),(()=>{C()})),(t,n)=>{const u=T("n8n-html");return f(),l("div",{class:z(t.$style.block)},[D("header",{class:z(t.$style.blockHeader),onClick:w},[D("button",{class:z(t.$style.blockToggle)},[d(s(A),{icon:r.value?"chevron-down":"chevron-right",size:"large"},null,8,["icon"])],2),D("p",{class:z(t.$style.blockTitle)},o(s(Le.default)(e.runData.inOut)),3),k.value&&!e.error&&r.value?(f(),v(s(U),{key:0,size:"small","model-value":c.value,class:z(t.$style.rawSwitch),options:[{label:"Rendered",value:"rendered"},{label:"JSON",value:"json"}],"onUpdate:modelValue":S},null,8,["model-value","class"])):i("",!0)],2),D("main",{class:z({[t.$style.blockContent]:!0,[t.$style.blockContentExpanded]:r.value})},[e.error?(f(),v(_e,{key:0,error:e.error,class:z(t.$style.error),"show-details":""},null,8,["error","class"])):b.value?(f(),v(Oe,{key:1,data:e.runData.data,type:e.runData.type,content:h.value,"render-type":c.value},null,8,["data","type","content","render-type"])):(f(),l("section",{key:2,class:z(t.$style.warning)},[d(fe,{title:s(a).baseText("ndv.tooMuchData.title",{interpolate:{size:x.value}}),class:z(t.$style.warningState)},{default:m((()=>[N(D("span",null,null,512),[[u,s(a).baseText("ndv.tooMuchData.message")]])])),_:1},8,["title","class"]),D("div",{class:z(t.$style.warningActions)},[d(s(H),{variant:"outline",size:"small",label:s(a).baseText("runData.downloadBinaryData"),onClick:y(M,["stop"])},null,8,["label"]),d(s(H),{size:"small",label:s(a).baseText("ndv.tooMuchData.showDataAnyway"),onClick:y($,["stop"])},null,8,["label"])],2)],2))],2)],2)}}}),[["__cssModules",{$style:{block:"_block_eo7zm_125",blockContent:"_blockContent_eo7zm_132",blockContentExpanded:"_blockContentExpanded_eo7zm_136",rawSwitch:"_rawSwitch_eo7zm_140",blockHeader:"_blockHeader_eo7zm_150",blockTitle:"_blockTitle_eo7zm_163",blockToggle:"_blockToggle_eo7zm_170",error:"_error_eo7zm_178",warning:"_warning_eo7zm_182",warningState:"_warningState_eo7zm_191",warningActions:"_warningActions_eo7zm_195"}}]]),Ue={key:0},We={key:1},qe={key:2},Fe=q(c({__name:"RunDataAiContent",props:{inputData:{}},setup(e){const t=e,a=n((()=>t.inputData.runData?Me(t.inputData.runData):void 0)),u=Y(),r=j(),c=n((()=>De(p.value?.data??[]))),p=n((()=>a.value?.find((e=>"output"===e.inOut)))),g=n((()=>{if(void 0!==p.value)return function(e){const a=t.inputData.node,n=u.getNodeType(a?.type??"");return{startTimeMs:e.metadata.startTime,executionTimeMs:e.metadata.executionTime,node:n,type:e.inOut,connectionType:e.type,subExecution:e.metadata?.subExecution}}(p.value)})),y=n((()=>t.inputData.runData?.error));return(t,n)=>(f(),l("div",{class:z(t.$style.container)},[D("header",{class:z(t.$style.header)},[g.value?.node?(f(),v(he,{key:0,class:z(t.$style.nodeIcon),"node-type":g.value.node,size:20},null,8,["class","node-type"])):i("",!0),D("div",{class:z(t.$style.headerWrap)},[D("p",{class:z(t.$style.title)},o(e.inputData.node.name),3),D("ul",{class:z(t.$style.meta)},[g.value?.startTimeMs?(f(),l("li",Ue,o(g.value?.executionTimeMs)+"ms",1)):i("",!0),g.value?.startTimeMs?(f(),l("li",We,[d(s(E),null,{content:m((()=>[x(o(new Date(g.value?.startTimeMs).toLocaleString()),1)])),default:m((()=>[x(" "+o(s(r).baseText("runData.aiContentBlock.startedAt",{interpolate:{startTime:new Date(g.value?.startTimeMs).toLocaleTimeString()}})),1)])),_:1})])):i("",!0),g.value?(f(),l("li",qe,[d(ge,{"task-metadata":g.value,"display-mode":"ai",inline:!0},null,8,["task-metadata"])])):i("",!0),(c.value?.totalTokens??0)>0?(f(),l("li",{key:3,class:z(t.$style.tokensUsage)},[x(o(s(r).baseText("runData.aiContentBlock.tokens",{interpolate:{count:s(oe)(c.value,"total")}}))+" ",1),d(s(I),{type:"tooltip",theme:"info-light","tooltip-placement":"right"},{default:m((()=>[d(Se,{"consumed-tokens":c.value},null,8,["consumed-tokens"])])),_:1})],2)):i("",!0)],2)],2)],2),(f(!0),l(_,null,b(a.value??[],((e,a)=>(f(),l("main",{key:a,class:z(t.$style.content)},[d(Ve,{"run-data":e,error:"output"===e.inOut?y.value:void 0},null,8,["run-data","error"])],2)))),128))],2))}}),[["__cssModules",{$style:{container:"_container_1ddvo_2",nodeIcon:"_nodeIcon_1ddvo_5",header:"_header_1ddvo_8",headerWrap:"_headerWrap_1ddvo_14",title:"_title_1ddvo_18",meta:"_meta_1ddvo_25",tokensUsage:"_tokensUsage_1ddvo_41"}}]]),Ye=q(c({__name:"RunDataAi",props:{node:{},runIndex:{default:0}},setup(e){const t=j(),{entries:a,execution:i,latestNodeNameById:u,loadSubExecution:r}=Ne({filter:n((()=>({rootNodeId:e.node.id,rootNodeRunIndex:e.runIndex})))}),{flatLogEntries:c,toggleExpanded:p}=$e(a,r),y=S();function b(t){y.value=t?.node.id===e.node.id?void 0:t}return g(a,(e=>{y.value&&void 0!==ze(y.value.id,e)||(y.value=e[0]?.children[0])}),{immediate:!0}),(a,n)=>(f(),l("div",{class:z(a.$style.container)},[s(c).length>0?(f(),l(_,{key:0},[d(Ce,{class:z(a.$style.tree),"is-compact":"","is-read-only":"","flat-log-entries":s(c),"should-show-token-count-column":!1,"latest-node-info":s(u),selected:y.value,"can-open-ndv":!1,execution:s(i),onToggleExpanded:s(p),onSelect:b},null,8,["class","flat-log-entries","latest-node-info","selected","execution","onToggleExpanded"]),D("div",{class:z(a.$style.runData)},[y.value?(f(),v(Fe,{key:0,"input-data":y.value},null,8,["input-data"])):(f(),l("div",{key:1,class:z(a.$style.empty)},[d(s(B),{size:"large"},{default:m((()=>[x(o(s(t).baseText("ndv.output.ai.empty",{interpolate:{node:e.node.name}})),1)])),_:1})],2))],2)],64)):(f(),l("div",{key:1,class:z(a.$style.noData)},o(s(t).baseText("ndv.output.ai.waiting")),3))],2))}}),[["__cssModules",{$style:{noData:"_noData_ueqto_125",empty:"_empty_ueqto_133",tree:"_tree_ueqto_137",runData:"_runData_ueqto_144",container:"_container_ueqto_150"}}]]),Je={key:0,"data-test-id":"ndv-output-waiting"},Ke=c({__name:"OutputPanel",props:{workflowObject:{},runIndex:{},isReadOnly:{type:Boolean},linkedRuns:{type:Boolean},canLinkRuns:{type:Boolean},pushRef:{},blockUI:{type:Boolean,default:!1},isProductionExecutionPreview:{type:Boolean,default:!1},isPaneActive:{type:Boolean,default:!1},displayMode:{}},emits:["linkRun","unlinkRun","runChange","activatePane","tableMounted","itemHover","search","openSettings","execute","displayModeChange"],setup(e,{emit:t}){const a="regular",r="logs",c=e,y=t,b=F(),k=Y(),S=ne(),$=X(),M=J(),O=j(),{activeNode:H}=ve(b),{dirtinessByName:E}=we(),{isSubNodeType:I}=ye({node:H}),L=be(H,{runIndex:c.runIndex,displayMode:c.displayMode}),P=u(a),V=u([{label:O.baseText("ndv.output.outType.regular"),value:a},{label:O.baseText("ndv.output.outType.logs"),value:r}]),W=u(),q=u(null),K=n((()=>b.activeNode??void 0)),{hasNodeRun:Z,workflowExecution:Q,workflowRunData:ee}=je({node:K}),te=n((()=>!!K.value&&k.isTriggerNode(K.value.type))),ae=n((()=>{if(se.value||!ee.value)return!1;if(K.value){const e=c.workflowObject.getParentNodes(K.value.name,"ALL_NON_MAIN").map(S.getWorkflowResultDataByNodeName);return e&&Array.isArray(e)&&e.length>0}return!1})),oe=n((()=>Boolean(ee.value&&K.value&&ee.value[K.value.name]?.[c.runIndex]?.error))),ie=n((()=>oe.value&&ae.value?r:a)),se=n((()=>ue.value&&!!K.value&&$.executingNode.isNodeExecuting(K.value.name))),ue=n((()=>S.isWorkflowRunning)),re=n((()=>{if(!K.value||null===Q.value)return null;const e=ee.value;return e?.hasOwnProperty(K.value.name)?e[K.value.name].length<=c.runIndex?null:e[K.value.name][c.runIndex]:null})),de=n((()=>{if(null===K.value)return 0;const e=ee.value;return null===e||K.value&&!e.hasOwnProperty(K.value.name)?0:K.value&&e[K.value.name].length?e[K.value.name].length:0})),pe=n((()=>!!K.value&&E.value[K.value.name]===le.PARAMETERS_UPDATED)),_e=n((()=>b.outputPanelEditMode)),ge=n((()=>L.isValidNodeType.value&&!c.isReadOnly)),xe=n((()=>{if(!K.value||0===de.value||oe.value)return;if(L.hasData.value)return;const e=c.workflowObject.getParentNodes(K.value.name,ce.AiTool,1),t=e.filter((e=>!!ee.value?.[e]?.[c.runIndex]));return e.length>0&&0===t.length&&!ue.value?O.baseText("ndv.output.noToolUsedInfo"):void 0})),he=n((()=>!0)),Te=()=>{W.value&&(W.value.enterEditMode({origin:"insertTestDataLink"}),M.track("User clicked ndv link",{workflow_id:S.workflowId,push_ref:c.pushRef,node_type:K.value?.type,pane:"output",type:"insert-test-data"}))},ze=()=>{y("linkRun")},De=()=>{y("unlinkRun")},Ne=()=>{y("openSettings"),M.track("User clicked ndv link",{node_type:K.value?.type,workflow_id:S.workflowId,push_ref:c.pushRef,pane:"output",type:"settings"})},Se=e=>{y("runChange",e)};p((()=>{P.value=ie.value})),g(ie,((e,t)=>{e===r&&t===a&&Z.value&&(P.value=ie.value)}));const Ce=()=>{y("activatePane")};function $e(e){q.value=e}return(t,a)=>{const n=T("n8n-html");return f(),v(me,{ref_key:"runDataRef",ref:W,class:z([t.$style.runData,{[t.$style.runDataV2]:he.value}]),node:K.value,"workflow-object":e.workflowObject,"run-index":e.runIndex,"linked-runs":e.linkedRuns,"can-link-runs":e.canLinkRuns,"no-data-in-branch-message":s(O).baseText("ndv.output.noOutputDataInBranch"),"is-executing":se.value,"executing-message":s(O).baseText("ndv.output.executing"),"push-ref":e.pushRef,"block-u-i":e.blockUI,"is-production-execution-preview":e.isProductionExecutionPreview,"search-shortcut":e.isPaneActive?"/":void 0,"hide-pagination":"logs"===P.value,"pane-type":"output","data-output-type":P.value,"callout-message":xe.value,"display-mode":e.displayMode,"disable-ai-content":!0,"collapsing-table-column-name":q.value,"data-test-id":"ndv-output-panel",onActivatePane:Ce,onRunChange:Se,onLinkRun:ze,onUnlinkRun:De,onTableMounted:a[3]||(a[3]=e=>y("tableMounted",e)),onItemHover:a[4]||(a[4]=e=>y("itemHover",e)),onSearch:a[5]||(a[5]=e=>y("search",e)),onDisplayModeChange:a[6]||(a[6]=e=>y("displayModeChange",e)),onCollapsingTableColumnChanged:$e},h({header:m((()=>[D("div",{class:z([t.$style.titleSection,{[t.$style.titleSectionV2]:he.value}])},[ae.value?(f(),v(s(U),{key:0,modelValue:P.value,"onUpdate:modelValue":a[0]||(a[0]=e=>P.value=e),"data-test-id":"ai-output-mode-select",options:V.value},null,8,["modelValue","options"])):(f(),l("span",{key:1,class:z([t.$style.title,{[t.$style.titleV2]:he.value}])},o(s(O).baseText(_e.value.enabled?"ndv.output.edit":"ndv.output")),3)),s(Z)&&!s(L).hasData.value&&(1===de.value||de.value>0&&pe.value)?N((f(),v(Be,{key:2,"task-data":re.value,"has-stale-data":pe.value,"has-pin-data":s(L).hasData.value},null,8,["task-data","has-stale-data","has-pin-data"])),[[w,!_e.value.enabled]]):i("",!0)],2)])),"node-not-run":m((()=>[he.value?(f(),l(_,{key:0},[e.isReadOnly?(f(),v(fe,{key:0,title:s(O).baseText(te.value?"ndv.output.noOutputData.trigger.title":"ndv.output.noOutputData.v2.title")},null,8,["title"])):(f(),v(fe,{key:1,title:s(O).baseText(te.value?"ndv.output.noOutputData.trigger.title":"ndv.output.noOutputData.v2.title")},h({default:m((()=>[!ge.value||s(I)?(f(),v(s(C),{key:0,tag:"span",keypath:s(I)?"ndv.output.runNodeHintSubNode":"ndv.output.noOutputData.v2.description",scope:"global"},{link:m((()=>[d(ke,{"hide-icon":"",transparent:"",type:"secondary","node-name":s(H)?.name??"",label:s(O).baseText(te.value?"ndv.output.noOutputData.trigger.action":"ndv.output.noOutputData.v2.action"),"telemetry-source":"inputs",onExecute:a[1]||(a[1]=e=>y("execute"))},null,8,["node-name","label"]),a[8]||(a[8]=D("br",null,null,-1))])),_:1},8,["keypath"])):(f(),l(_,{key:1},[d(ke,{"hide-icon":"",transparent:"",type:"secondary","node-name":s(H)?.name??"",label:s(O).baseText(te.value?"ndv.output.noOutputData.trigger.action":"ndv.output.noOutputData.v2.action"),"telemetry-source":"inputs",onExecute:a[2]||(a[2]=e=>y("execute"))},null,8,["node-name","label"]),a[9]||(a[9]=D("br",null,null,-1)),x(" "+o(s(O).baseText("generic.or"))+" ",1),d(s(B),{tag:"a",size:"medium",color:"primary",onClick:Te},{default:m((()=>[x(o(s(O).baseText("ndv.output.insertTestData")),1)])),_:1})],64))])),_:2},[te.value?{name:"icon",fn:m((()=>[a[7]||(a[7]=D("svg",{width:"16",viewBox:"0 0 14 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[D("path",{d:"M10.9062 2.40625L8.5 8.03125H12C12.4062 8.03125 12.7812 8.28125 12.9375 8.65625C13.0625 9.0625 12.9688 9.5 12.6562 9.78125L4.65625 16.7812C4.28125 17.0625 3.78125 17.0938 3.40625 16.8125C3.03125 16.5625 2.875 16.0625 3.0625 15.625L5.46875 10H2C1.5625 10 1.1875 9.75 1.0625 9.375C0.90625 8.96875 1 8.53125 1.3125 8.25L9.3125 1.25C9.6875 0.96875 10.1875 0.9375 10.5625 1.21875C10.9375 1.46875 11.0938 1.96875 10.9062 2.40625Z",fill:"currentColor"})],-1))])),key:"0"}:{name:"icon",fn:m((()=>[d(s(A),{icon:"arrow-right-from-line",size:"xlarge"})])),key:"1"}]),1032,["title"]))],64)):(f(),l(_,{key:1},[ue.value&&!te.value?(f(),l("div",Je,[D("div",{class:z(t.$style.spinner)},[d(s(R),{type:"ring"})],2),d(s(B),null,{default:m((()=>[x(o(s(O).baseText("ndv.output.waitingToRun")),1)])),_:1})])):i("",!0),ue.value?i("",!0):(f(),v(s(B),{key:1,"data-test-id":"ndv-output-run-node-hint"},{default:m((()=>[s(I)?(f(),l(_,{key:0},[x(o(s(O).baseText("ndv.output.runNodeHintSubNode")),1)],64)):(f(),l(_,{key:1},[x(o(s(O).baseText("ndv.output.runNodeHint"))+" ",1),ge.value?(f(),l("span",{key:0,onClick:Te},[a[10]||(a[10]=D("br",null,null,-1)),x(" "+o(s(O).baseText("generic.or"))+" ",1),d(s(B),{tag:"a",size:"medium",color:"primary"},{default:m((()=>[x(o(s(O).baseText("ndv.output.insertTestData")),1)])),_:1})])):i("",!0)],64))])),_:1}))],64))])),"node-waiting":m((()=>[d(fe,{title:s(O).baseText("ndv.output.waitNodeWaiting.title"),wide:""},{default:m((()=>[N(D("span",null,null,512),[[n,s(G)(K.value,e.workflowObject)]])])),_:1},8,["title"])])),"no-output-data":m((()=>[d(fe,{title:s(O).baseText("ndv.output.noOutputData.title")},{default:m((()=>[x(o(s(O).baseText("ndv.output.noOutputData.message"))+" ",1),D("a",{onClick:Ne},o(s(O).baseText("ndv.output.noOutputData.message.settings")),1),x(" "+o(s(O).baseText("ndv.output.noOutputData.message.settingsOption")),1)])),_:1},8,["title"])])),"recovered-artificial-output-data":m((()=>[d(fe,{title:s(O).baseText("executionDetails.executionFailed.recoveredNodeTitle")},{default:m((()=>[x(o(s(O).baseText("executionDetails.executionFailed.recoveredNodeMessage")),1)])),_:1},8,["title"])])),_:2},["logs"===P.value&&K.value?{name:"content",fn:m((()=>[d(Ye,{node:K.value,"run-index":e.runIndex,"workflow-object":e.workflowObject},null,8,["node","run-index","workflow-object"])])),key:"0"}:void 0,!s(L).hasData.value&&de.value>1?{name:"run-info",fn:m((()=>[d(Be,{"task-data":re.value},null,8,["task-data"])])),key:"1"}:void 0]),1032,["class","node","workflow-object","run-index","linked-runs","can-link-runs","no-data-in-branch-message","is-executing","executing-message","push-ref","block-u-i","is-production-execution-preview","search-shortcut","hide-pagination","data-output-type","callout-message","display-mode","collapsing-table-column-name"])}}}),e("n",q(Ke,[["__cssModules",{$style:{runData:"_runData_1ms3r_130",runDataV2:"_runDataV2_1ms3r_134",outputTypeSelect:"_outputTypeSelect_1ms3r_138",titleSection:"_titleSection_1ms3r_143",titleSectionV2:"_titleSectionV2_1ms3r_151",title:"_title_1ms3r_143",titleV2:"_titleV2_1ms3r_163",noOutputData:"_noOutputData_1ms3r_168",link:"_link_1ms3r_178",spinner:"_spinner_1ms3r_185"}}]])),Ge={key:"empty"},Ze={key:1},Qe={key:0},Xe={key:"default"},et={key:0,class:"mb-xl"},tt=["textContent"],at=c({__name:"TriggerPanel",props:{nodeName:{},pushRef:{default:""}},emits:["activate","execute"],setup(e,{emit:t}){const a=e,r=t,c=Y(),p=ae(),_=ne(),g=F(),y=V(),b=Z(),h=j(),w=J(),S=L(),C=u(null),E=n((()=>_.getNodeByName(a.nodeName))),I=n((()=>E.value?c.getNodeType(E.value.type,E.value.typeVersion):null)),A=n((()=>{const e=I.value?.triggerPanel;if(te(e))return e})),U=n((()=>{const e=A.value?.hideContent;if("boolean"==typeof e)return e;if(E.value){const t=_.workflowObject.expression.getSimpleParameterValue(E.value,e,"internal",{});if("boolean"==typeof t)return t}return!1})),q=n((()=>Boolean(E.value?.issues&&(E.value.issues.parameters??E.value.issues.credentials)))),K=n((()=>I.value?Q(I.value):"")),G=n((()=>Boolean(E.value&&"@n8n/n8n-nodes-langchain.chatTrigger"===E.value.type&&"webhook"!==E.value.parameters.mode))),X=n((()=>Boolean(E.value&&"n8n-nodes-base.webhook"===E.value.type))),ee=$((async()=>{if(!E.value||!I.value?.webhooks?.length)return;const e=await b.getWebhookExpressionValue(I.value.webhooks[0],"httpMethod",!1);return Array.isArray(e)?e.join(", "):e}),void 0),oe=$((async()=>{if(E.value&&I.value?.webhooks?.length)return await b.getWebhookUrl(I.value.webhooks[0],E.value,"test")}),void 0),le=n((()=>Boolean(I.value?.webhooks?.length))),ue=n((()=>Boolean(I.value?.polling))),ce=n((()=>{if(!E.value||E.value.disabled||!le.value)return!1;if(!_.executionWaitingForWebhook)return!1;const e=_.executedNode,t=e===a.nodeName,n=!!e&&_.workflowObject.getParentNodes(e).includes(a.nodeName);return!e||t||n})),ve=n((()=>_.isWorkflowRunning)),_e=n((()=>{const e=_.executedNode;return ve.value&&ue.value&&a.nodeName===e})),ge=n((()=>_.isWorkflowActive)),me=n((()=>"n8n-nodes-base.formTrigger"===I.value?.name?h.baseText("ndv.trigger.webhookNode.formTrigger.listening"):h.baseText("ndv.trigger.webhookNode.listening"))),fe=n((()=>{switch(I.value?.name){case ie:return h.baseText("ndv.trigger.webhookBasedNode.chatTrigger.serviceHint");case re:return h.baseText("ndv.trigger.webhookBasedNode.formTrigger.serviceHint");default:return h.baseText("ndv.trigger.webhookBasedNode.serviceHint",{interpolate:{service:K.value}})}})),ye=n((()=>_e.value?h.baseText("ndv.trigger.pollingNode.fetchingEvent"):A.value?.header?A.value.header:le.value?h.baseText("ndv.trigger.webhookBasedNode.action",{interpolate:{name:K.value}}):"")),be=n((()=>_e.value?h.baseText("ndv.trigger.pollingNode.fetchingHint",{interpolate:{name:K.value}}):"")),xe=n((()=>{if(A.value?.executionsHelp){if("string"==typeof A.value.executionsHelp)return A.value.executionsHelp;if(!ge.value&&A.value.executionsHelp.inactive)return A.value.executionsHelp.inactive;if(ge.value&&A.value.executionsHelp.active)return A.value.executionsHelp.active}return le.value?ge.value?h.baseText("ndv.trigger.webhookBasedNode.executionsHelp.active",{interpolate:{service:K.value}}):h.baseText("ndv.trigger.webhookBasedNode.executionsHelp.inactive",{interpolate:{service:K.value}}):ue.value?ge.value?h.baseText("ndv.trigger.pollingNode.executionsHelp.active",{interpolate:{service:K.value}}):h.baseText("ndv.trigger.pollingNode.executionsHelp.inactive",{interpolate:{service:K.value}}):""})),we=n((()=>{if(_e.value||!A.value)return"";if(A.value.activationHint){if("string"==typeof A.value.activationHint)return A.value.activationHint;if(!ge.value&&"string"==typeof A.value.activationHint.inactive)return A.value.activationHint.inactive;if(ge.value&&"string"==typeof A.value.activationHint.active)return A.value.activationHint.active}return le.value?ge.value?h.baseText("ndv.trigger.webhookBasedNode.activationHint.active",{interpolate:{service:K.value}}):h.baseText("ndv.trigger.webhookBasedNode.activationHint.inactive",{interpolate:{service:K.value}}):ue.value?ge.value?h.baseText("ndv.trigger.pollingNode.activationHint.active",{interpolate:{service:K.value}}):h.baseText("ndv.trigger.pollingNode.activationHint.inactive",{interpolate:{service:K.value}}):""})),Te=()=>{C.value&&S.emit("expand")},ze=e=>{if(!e.target)return;const t=e.target;"a"===t.localName&&t.dataset?.key&&(e.stopPropagation(),e.preventDefault(),"activate"===t.dataset.key?r("activate"):"executions"===t.dataset.key?(w.track("User clicked ndv link",{workflow_id:_.workflowId,push_ref:a.pushRef,pane:"input",type:"open-executions-log"}),g.unsetActiveNodeName(),y.push({name:de.EXECUTIONS})):"settings"===t.dataset.key&&p.openModal(se))},De=()=>{w.track("User copied webhook URL",{pane:"inputs",type:"test url"})},Ne=()=>{r("execute")};return(t,n)=>{const u=T("n8n-html");return f(),l("div",{class:z(t.$style.container)},[d(k,{name:"fade",mode:"out-in"},{default:m((()=>[q.value||U.value?(f(),l("div",Ge)):ce.value?(f(),l("div",{key:"listening",class:z(t.$style.action),"data-test-id":"trigger-listening"},[d(s(O),null,{default:m((()=>[d(he,{"node-type":I.value,size:40},null,8,["node-type"])])),_:1}),X.value?(f(),l("div",{key:0,class:z(t.$style.action)},[d(s(B),{tag:"div",size:"large",color:"text-dark",class:"mb-2xs",bold:""},{default:m((()=>[x(o(s(h).baseText("ndv.trigger.webhookNode.listening")),1)])),_:1}),D("div",{class:z([t.$style.shake,"mb-xs"])},[d(s(B),null,{default:m((()=>[x(o(s(h).baseText("ndv.trigger.webhookNode.requestHint",{interpolate:{type:s(ee)??""}})),1)])),_:1})],2),d(pe,{value:s(oe),"toast-title":s(h).baseText("ndv.trigger.copiedTestUrl"),class:"mb-2xl",size:"medium",collapse:!0,"copy-button-text":s(h).baseText("generic.clickToCopy"),onCopy:De},null,8,["value","toast-title","copy-button-text"]),d(ke,{"data-test-id":"trigger-execute-button","node-name":e.nodeName,size:"medium","telemetry-source":"inputs",onExecute:Ne},null,8,["node-name"])],2)):(f(),l("div",Ze,[d(s(B),{tag:"div",size:"large",color:"text-dark",class:"mb-2xs",bold:""},{default:m((()=>[x(o(me.value),1)])),_:1}),D("div",{class:z([t.$style.shake,"mb-xs"])},[d(s(B),{tag:"div"},{default:m((()=>[x(o(fe.value),1)])),_:1})],2),G.value?(f(),l("div",Qe,[d(s(H),{class:"mb-xl",onClick:n[0]||(n[0]=e=>(w.track("User clicked ndv link",{workflow_id:_.workflowId,push_ref:a.pushRef,pane:"input",type:"open-chat"}),void window.open(oe.value,"_blank","noreferrer")))},{default:m((()=>[x(o(s(h).baseText("ndv.trigger.chatTrigger.openChat")),1)])),_:1})])):i("",!0),d(ke,{"data-test-id":"trigger-execute-button","node-name":e.nodeName,size:"medium","telemetry-source":"inputs",onExecute:Ne},null,8,["node-name"])]))],2)):(f(),l("div",Xe,[_e.value?(f(),l("div",et,[d(s(R),{type:"ring"})])):i("",!0),D("div",{class:z(t.$style.action)},[D("div",{"data-test-id":"trigger-header",class:z(t.$style.header)},[ye.value?(f(),v(s(W),{key:0,tag:"h1",bold:""},{default:m((()=>[x(o(ye.value),1)])),_:1})):i("",!0),be.value?(f(),v(s(B),{key:1},{default:m((()=>[D("span",{textContent:o(be.value)},null,8,tt)])),_:1})):i("",!0)],2),d(ke,{"data-test-id":"trigger-execute-button","node-name":e.nodeName,size:"medium","telemetry-source":"inputs",onExecute:Ne},null,8,["node-name"])],2),we.value?(f(),v(s(B),{key:1,size:"small",onClick:ze},{default:m((()=>[N(D("span",null,null,512),[[u,we.value]]),n[1]||(n[1]=x("Â  ",-1))])),_:1})):i("",!0),we.value&&xe.value?(f(),v(s(P),{key:2,size:"small",onClick:Te},{default:m((()=>[x(o(s(h).baseText("ndv.trigger.moreInfo")),1)])),_:1})):i("",!0),xe.value?(f(),v(s(M),{key:3,ref_key:"help",ref:C,class:z(t.$style.accordion),title:s(h).baseText("ndv.trigger.executionsHint.question"),description:xe.value,"event-bus":s(S),"onClick:body":ze},null,8,["class","title","description","event-bus"])):i("",!0)]))])),_:1})],2)}}}),e("t",q(at,[["__cssModules",{$style:{container:"_container_ffjde_125",header:"_header_ffjde_142",action:"_action_ffjde_149",shake:"_shake_ffjde_158",accordion:"_accordion_ffjde_179"}}],["__scopeId","data-v-d7e561f4"]]))}}}));
//# sourceMappingURL=TriggerPanel-legacy-CLPcI1KX.js.map