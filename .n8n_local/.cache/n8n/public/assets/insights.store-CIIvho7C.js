(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]=`f4e0a539-afa0-47e6-9127-92dc503a7e67`,e._sentryDebugIdIdentifier=`sentry-dbid-f4e0a539-afa0-47e6-9127-92dc503a7e67`)})()}catch{}import{C as e}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{x as t}from"./_MapCache-DjbOQyB7.js";import{t as n,ws as r}from"./users.store-pCkD7Zo0.js";import{qo as i}from"./constants-D1jZwsUK.js";import{d as a,j as o,r as s}from"./_baseOrderBy-El3qbNHQ.js";import{c}from"./insights.utils-B2NpOI0Q.js";function l(e){if(!e)return;let{startDate:t,endDate:n,...r}=e,i={...r};return t&&(i.startDate=t.toISOString()),n&&(i.endDate=n.toISOString()),i}const u=async(e,t)=>await a(e,`GET`,`/insights/summary`,l(t)),d=async(e,t)=>await a(e,`GET`,`/insights/by-time`,l(t)),f=async(e,t)=>await a(e,`GET`,`/insights/by-time/time-saved`,l(t)),p=async(e,t)=>await a(e,`GET`,`/insights/by-workflow`,l(t)),m=o(`insights`,()=>{let a=s(),o=n(),l=r(),m=e(()=>i(o.currentUser?.globalScopes).insights),h=e(()=>l.isModuleActive(`insights`)),g=e(()=>!!l.moduleSettings.insights?.dashboard);return{globalInsightsPermissions:m,isInsightsEnabled:h,isSummaryEnabled:e(()=>m.value.list&&h.value),isDashboardEnabled:g,weeklySummary:t(async()=>c(await u(a.restApiContext)),[],{immediate:!1,resetOnExecute:!1}),summary:t(async e=>c(await u(a.restApiContext,e)),[],{immediate:!1,resetOnExecute:!1}),charts:t(async e=>await(g.value?d:f)(a.restApiContext,e),[],{immediate:!1,resetOnExecute:!1}),table:t(async e=>await p(a.restApiContext,e),{count:0,data:[]},{immediate:!1,resetOnExecute:!1}),dateRanges:e(()=>l.moduleSettings.insights?.dateRanges??[])}});export{m as t};
//# sourceMappingURL=insights.store-CIIvho7C.js.map