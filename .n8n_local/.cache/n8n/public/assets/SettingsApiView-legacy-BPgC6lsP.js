!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./col-legacy-Ciq6fW7O.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./versions.store-legacy-DyDzuHis.js","./usePageRedirectionHelper-legacy-DkG-ZaDD.js","./apiKeys.store-legacy-Cf3WcIs2.js"],(function(e,t){var a,i,n,s,o,l,r,c,d,p,g,u,f,y,_,b,h,m,x,v,w,k,T,A,K,j,C,$,D,H,I,E,z,P,M,S,L,B,U,R,V,N,W,F,G,J,O,Y;return{setters:[function(e){e.o},function(e){a=e.Cn,i=e.D,n=e.E,s=e.Gt,o=e.It,l=e.M,r=e.P,c=e.T,d=e.Z,p=e._,g=e.bt,u=e.et,f=e.it,y=e.j,_=e.vn,b=e.w},function(e){h=e.bt,m=e.yt},function(e){x=e.Hi,v=e.Pi,w=e.Tt,k=e.Vi,T=e.bt,A=e.gi,K=e.zi},function(e){j=e.t},function(e){},function(e){C=e.Lt,$=e.Ta,D=e.Tr,H=e.fn,I=e.lr,E=e.r,z=e.ws,P=e.yr},function(e){M=e.n,S=e.t},function(e){e.Ss,L=e.h,B=e.oo},function(e){},function(e){U=e.N,R=e.r},function(e){},function(e){},function(e){},function(e){V=e.t},function(e){N=e.t}],execute:function(){(W=document.createElement("style")).textContent="._cardLink_ec33a_125{cursor:pointer;padding:0 0 0 var(--spacing--sm);align-items:stretch;transition:box-shadow .3s}._cardLink_ec33a_125:hover{box-shadow:var(--shadow--card-hover)}._cardHeading_ec33a_135{font-size:var(--font-size--sm);word-break:word-break;padding:var(--spacing--sm)0 0 var(--spacing--sm);width:200px}._cardDescription_ec33a_142{min-height:19px;padding:0 0 var(--spacing--sm)var(--spacing--sm);align-items:center;display:flex}._cardActions_ec33a_149{padding:0 var(--spacing--sm)0 0;cursor:default;flex-direction:row;justify-content:center;align-items:center;display:flex}._cardApiKey_ec33a_158{flex-grow:1;justify-content:center;display:flex}._header_g9f1h_125{white-space:nowrap;margin-bottom:var(--spacing--xl);align-items:center;display:flex}._header_g9f1h_125 :first-child{flex-grow:1}._card_g9f1h_135{position:relative}._destinationItem_g9f1h_139{margin-bottom:var(--spacing--2xs)}._delete_g9f1h_143{top:var(--spacing--sm);right:var(--spacing--sm);display:inline-block;position:absolute}._topHint_g9f1h_150{margin-top:none;margin-bottom:var(--spacing--sm);color:var(--color--text--tint-1)}._topHint_g9f1h_150 span{font-size:var(--font-size--sm);line-height:var(--line-height--lg);font-weight:var(--font-weight--regular)}._BottomHint_g9f1h_161{margin-bottom:var(--spacing--sm);margin-top:var(--spacing--sm)}._apiKeysContainer_g9f1h_166{scrollbar-width:none;max-height:45vh;overflow-x:hidden;overflow-y:auto}\n/*$vite$:1*/",document.head.appendChild(W);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(Z=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[Z]="305818fa-32fc-470a-b586-5f6a9eb5d2da",t._sentryDebugIdIdentifier="sentry-dbid-305818fa-32fc-470a-b586-5f6a9eb5d2da")}catch(t){}var t,Z;F=j(r({__name:"ApiKeyCard",props:{apiKey:{}},emits:["edit","delete"],setup(e,{emit:t}){const r="edit",d="delete",p=[{label:"Edit",value:r},{label:"Delete",value:d}],f=m(),h=o(null),x=e,v=t;async function A(e){e===r?v("edit",x.apiKey.id):e===d&&v("delete",x.apiKey.id)}const K=e=>!!e.expiresAt&&e.expiresAt<=Date.now()/1e3,j=e=>{if(!e.expiresAt)return f.baseText("settings.api.neverExpires");if(K(e))return f.baseText("settings.api.expired");const t=B.fromSeconds(e.expiresAt).toFormat("ccc, MMM d yyyy");return f.baseText("settings.api.expirationTime",{interpolate:{time:t}})};return(t,o)=>(u(),c(s(T),{class:_(t.$style.cardLink),"data-test-id":"api-key-card",onClick:o[0]||(o[0]=e=>A("edit"))},{header:g((()=>[b("div",null,[l(s(k),{tag:"h2",bold:"",class:_(t.$style.cardHeading)},{default:g((()=>[y(a(e.apiKey.label),1)])),_:1},8,["class"]),b("div",{class:_([t.$style.cardDescription])},[l(s(k),{color:K(e.apiKey)?"warning":"text-light",size:"small"},{default:g((()=>[b("span",null,a(j(e.apiKey)),1)])),_:1},8,["color"])],2)]),e.apiKey.apiKey.includes("*")?(u(),i("div",{key:0,class:_(t.$style.cardApiKey)},[l(s(k),{color:"text-light",size:"small"},{default:g((()=>[y(a(e.apiKey.apiKey),1)])),_:1})],2)):n("",!0)])),append:g((()=>[b("div",{ref_key:"cardActions",ref:h,class:_(t.$style.cardActions)},[l(s(w),{actions:p,theme:"dark",onAction:A})],2)])),_:1},8,["class"]))}}),[["__cssModules",{$style:{cardLink:"_cardLink_ec33a_125",cardHeading:"_cardHeading_ec33a_135",cardDescription:"_cardDescription_ec33a_142",cardActions:"_cardActions_ec33a_149",cardApiKey:"_cardApiKey_ec33a_158"}}]]),G=["textContent"],J=["textContent"],O={class:"mt-m text-right"},Y=r({__name:"SettingsApiView",setup(e){const r=z(),w=E(),T=I(),{showError:j,showMessage:B}=P(),{confirm:W}=D(),Y=H(),Z=m(),{goToUpgrade:q}=V(),Q=C(),X=o(!1),ee=N(),{getAndCacheApiKeys:te,deleteApiKey:ae,getApiKeyAvailableScopes:ie}=ee,{apiKeysSortByCreationDate:ne}=U(ee),{isSwaggerUIEnabled:se,publicApiPath:oe,publicApiLatestVersion:le}=r,{baseUrl:re}=R(),{isPublicApiEnabled:ce}=r,de=o(""),pe=async()=>{Q.track("User clicked create API key button"),w.openModalWithData({name:$,data:{mode:"new"}})};function ge(){q("settings-n8n-api","upgrade-api","redirect")}async function ue(e){if("confirm"===await W(Z.baseText("settings.api.delete.description"),Z.baseText("settings.api.delete.title"),{confirmButtonText:Z.baseText("settings.api.delete.button"),cancelButtonText:Z.baseText("generic.cancel")}))try{await ae(e),B({title:Z.baseText("settings.api.delete.toast"),type:"success"})}catch(t){j(t,Z.baseText("settings.api.delete.error"))}finally{Q.track("User clicked delete API key button")}}function fe(e){w.openModalWithData({name:$,data:{mode:"edit",activeId:e}})}return d((async()=>{Y.set(Z.baseText("settings.api")),de.value=se?`${re}${oe}/v${le}/docs`:`https://${L}/api/api-reference/`,ce&&await async function(){try{X.value=!0,await Promise.all([te(),ie()])}catch(e){j(e,Z.baseText("settings.api.view.error"))}finally{X.value=!1}}()})),(e,t)=>(u(),i("div",{class:_(e.$style.container)},[b("div",{class:_(e.$style.header)},[l(s(K),{size:"2xlarge"},{default:g((()=>[y(a(s(Z).baseText("settings.api")),1)])),_:1})],2),s(ce)&&s(ne).length?(u(),i("p",{key:0,class:_(e.$style.topHint)},[l(s(k),null,{default:g((()=>[l(s(h),{keypath:"settings.api.view.info",tag:"span",scope:"global"},{apiAction:g((()=>[b("a",{"data-test-id":"api-docs-link",href:"https://docs.n8n.io/api",target:"_blank",textContent:a(s(Z).baseText("settings.api.view.info.api"))},null,8,G)])),webhookAction:g((()=>[b("a",{"data-test-id":"webhook-docs-link",href:"https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.webhook/",target:"_blank",textContent:a(s(Z).baseText("settings.api.view.info.webhook"))},null,8,J)])),_:1})])),_:1})],2)):n("",!0),b("div",{class:_(e.$style.apiKeysContainer)},[s(ne).length?(u(!0),i(p,{key:0},f(s(ne),((t,a)=>(u(),c(s(M),{key:t.id,gutter:10,class:_([{[e.$style.destinationItem]:a!==s(ne).length-1}])},{default:g((()=>[l(s(S),null,{default:g((()=>[l(F,{"api-key":t,onDelete:ue,onEdit:fe},null,8,["api-key"])])),_:2},1024)])),_:2},1032,["class"])))),128)):n("",!0)],2),s(ce)&&s(ne).length?(u(),i("div",{key:1,class:_(e.$style.BottomHint)},[l(s(k),{size:"small",color:"text-light"},{default:g((()=>[y(a(s(Z).baseText("settings.api.view."+(s(r).isSwaggerUIEnabled?"tryapi":"more-details"))),1)])),_:1}),t[0]||(t[0]=y(" "+a(" ")+" ",-1)),s(se)?(u(),c(s(A),{key:0,"data-test-id":"api-playground-link",to:de.value,"new-window":!0,size:"small"},{default:g((()=>[y(a(s(Z).baseText("settings.api.view.apiPlayground")),1)])),_:1},8,["to"])):(u(),c(s(A),{key:1,"data-test-id":"api-endpoint-docs-link",to:de.value,"new-window":!0,size:"small"},{default:g((()=>[y(a(s(Z).baseText("settings.api.view.external-docs")),1)])),_:1},8,["to"]))],2)):n("",!0),b("div",O,[s(ce)&&s(ne).length?(u(),c(s(x),{key:0,size:"large",onClick:pe},{default:g((()=>[y(a(s(Z).baseText("settings.api.create.button")),1)])),_:1})):n("",!0)]),!s(ce)&&s(T).userIsTrialing?(u(),c(s(v),{key:2,"data-test-id":"public-api-upgrade-cta",heading:s(Z).baseText("settings.api.trial.upgradePlan.title"),description:s(Z).baseText("settings.api.trial.upgradePlan.description"),"button-text":s(Z).baseText("settings.api.trial.upgradePlan.cta"),"onClick:button":ge},null,8,["heading","description","button-text"])):n("",!0),s(ce)&&!s(ne).length?(u(),c(s(v),{key:3,"button-text":s(Z).baseText(X.value?"settings.api.create.button.loading":"settings.api.create.button"),description:s(Z).baseText("settings.api.create.description"),"onClick:button":pe},null,8,["button-text","description"])):n("",!0)],2))}}),e("default",j(Y,[["__cssModules",{$style:{header:"_header_g9f1h_125",card:"_card_g9f1h_135",destinationItem:"_destinationItem_g9f1h_139",delete:"_delete_g9f1h_143",topHint:"_topHint_g9f1h_150",BottomHint:"_BottomHint_g9f1h_161",apiKeysContainer:"_apiKeysContainer_g9f1h_166"}}]]))}}}));
//# sourceMappingURL=SettingsApiView-legacy-BPgC6lsP.js.map