!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./date-picker-legacy-B9cF0kNe.js","./users.store-legacy-B-bVJKl3.js","./ParameterInputList-legacy-B-cVfigK.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./Modal-legacy-BQYiVbf3.js","./useClipboard-legacy-CaRHRTup.js","./executions.store-legacy-OEeCPZk_.js","./assistant.store-legacy-5vR0xJ8p.js","./chatPanel.store-legacy-BsXu4GbL.js","./RunData-legacy-lPpXxp--.js","./NDVEmptyState-legacy-BucrD4N6.js","./useEnvFeatureFlag-legacy-D1JgdFvC.js","./externalSecrets.ee.store-legacy-iYi_lGhf.js","./uniqBy-legacy-D3DmQIZU.js","./usePinnedData-legacy-B5CI71uf.js","./nodeIcon-legacy-KJSlWBN7.js","./canvas.utils-legacy-BQnUeqx3.js","./nodeCreator.store-legacy-i0crt2uh.js","./useCanvasOperations-legacy-CEMGNuuE.js","./folders.store-legacy-BDfX2wrH.js","./useQuickConnect-legacy-C07VWAhK.js","./CredentialIcon-legacy-CaQiQjuK.js","./useDynamicCredentials-legacy-DtgrzjN_.js","./RunDataHtml-legacy-D5RK94OR.js","./Draggable-legacy-DR_TRqSl.js","./NodeIcon-legacy-DOI-M5xN.js","./VirtualSchema-legacy-DEUlCSUS.js","./useCalloutHelpers-legacy-Dcwge6qS.js","./useTelemetryContext-legacy-g7p6wUAa.js","./useRunWorkflow-legacy-4stFR283.js","./pushConnection.store-legacy-C36NF7Lj.js","./nodeTransforms-legacy-Bt0tXwjd.js","./vue-json-pretty-legacy-CxiVsaQm.js","./collaboration.store-legacy-COoId2Xe.js","./dateFormatter-legacy-Di9U0PH-.js","./useExecutionHelpers-legacy-BhqYaQxc.js","./vue-legacy-J35sU_a1.js","./chat.store-legacy-BiASMOEd.js","./ToolSettingsContent-legacy-lWGq30SO.js"],(function(e,t){var n,a,o,l,s,i,c,u,r,d,g,f,p,y,_,v,m,h,b,x,w,T,j,k,C,H,$,N,M,L,I,E,z,B,S,R,W,D,A,V,P,U,F,O,Q,X,q,G,J;return{setters:[function(e){e.o},function(e){n=e.C,a=e.Cn,o=e.D,l=e.E,s=e.Gt,i=e.It,c=e.M,u=e.P,r=e.T,d=e._,g=e._t,f=e.bt,p=e.et,y=e.it,_=e.j,v=e.p,m=e.vn,h=e.w,b=e.xt},function(e){x=e.ot,w=e.yt},function(e){T=e.Hi,j=e.Mi,k=e.Oi,C=e.Ui,H=e.Vi,$=e.d,N=e.ji,M=e.jt,L=e.zi},function(e){I=e.t},function(e){},function(e){},function(e){E=e.C,z=e.Tr,B=e.vr,S=e.yr,R=e.zr},function(e){},function(e){W=e.Qc,e.Ss,D=e.ai,A=e.ii,V=e.ol,P=e.so},function(e){},function(e){},function(e){},function(e){},function(e){U=e.t},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){F=e.r},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){O=e.t},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){Q=e.t},function(e){X=e.t}],execute:function(){(q=document.createElement("style")).textContent="._item_kwv06_125{align-items:center;gap:var(--spacing--sm);padding:var(--spacing--sm)0;border-radius:var(--radius--lg);display:flex}._item_kwv06_125._configured_kwv06_132 ._actionButton_kwv06_132{opacity:0}._item_kwv06_125._configured_kwv06_132:hover ._actionButton_kwv06_132{opacity:1}._iconWrapper_kwv06_139{flex-shrink:0;justify-content:center;align-items:center;width:32px;display:flex}._content_kwv06_147{gap:var(--spacing--5xs);flex-direction:column;flex:1;min-width:0;display:flex}._name_kwv06_155,._description_kwv06_162{white-space:nowrap;text-overflow:ellipsis;line-height:var(--line-height--md);overflow:hidden}._actions_kwv06_169{align-items:center;gap:var(--spacing--4xs);flex-shrink:0;display:flex}._toggle_kwv06_176{margin-left:var(--spacing--2xs)}._modal_1cu57_125 .ndv-connection-hint-notice{display:none}._settingsHeader_1cu57_129{justify-content:space-between;align-items:center;width:100%;display:flex}._settingsHeaderLeft_1cu57_136{align-items:center;gap:var(--spacing--3xs);flex:1;min-width:0;display:flex}._icon_1cu57_144{flex-grow:0;flex-shrink:0}._title_1cu57_149{font-size:var(--font-size--md);font-weight:var(--font-weight--regular);line-height:var(--line-height--lg);color:var(--color--text--shade-1);flex:1;min-width:0}._listWrapper_1cu57_158{gap:var(--spacing--sm);max-height:60vh;margin-right:calc(-1*var(--spacing--lg));padding-right:var(--spacing--lg);padding-top:var(--spacing--sm);flex-direction:column;display:flex;overflow-y:auto}._settingsWrapper_1cu57_169{max-height:60vh;margin-right:calc(-1*var(--spacing--lg));padding-top:var(--spacing--sm);flex-direction:column;display:flex;overflow:hidden}._searchInput_1cu57_178{padding:var(--spacing--sm)0;width:100%}._section_1cu57_183{gap:var(--spacing--2xs);flex-direction:column;display:flex}._toolsList_1cu57_189{flex-direction:column;display:flex}._emptyState_1cu57_194{padding:var(--spacing--xl);justify-content:center;align-items:center;display:flex}\n/*$vite$:1*/",document.head.appendChild(q);try{t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(Y=(new t.Error).stack)&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[Y]="b4a763d0-2025-4873-a11a-06b8697f2a1b",t._sentryDebugIdIdentifier="sentry-dbid-b4a763d0-2025-4873-a11a-06b8697f2a1b")}catch(t){}var t,Y;G=u({__name:"ToolListItem",props:{nodeType:{},configuredNode:{},enabled:{type:Boolean},mode:{}},emits:["toggle","configure","remove","add"],setup(e,{emit:t}){const l=e,i=t,u=w(),g=n((()=>l.configuredNode&&l.configuredNode.name!==l.nodeType.displayName?l.nodeType.displayName:l.nodeType.description)),y=n((()=>l.configuredNode?l.configuredNode.name:l.nodeType.displayName));return(t,n)=>(p(),o("div",{class:m([t.$style.item,{[t.$style.configured]:"configured"===e.mode}])},[h("div",{class:m(t.$style.iconWrapper)},[c(O,{"node-type":e.nodeType,size:32},null,8,["node-type"])],2),h("div",{class:m(t.$style.content)},[c(s(H),{class:m(t.$style.name),size:"small",color:"text-dark"},{default:f((()=>[_(a(y.value),1)])),_:1},8,["class"]),c(s(H),{class:m(t.$style.description),size:"small",color:"text-light"},{default:f((()=>[_(a(g.value),1)])),_:1},8,["class"])],2),h("div",{class:m(t.$style.actions)},["configured"===e.mode?(p(),o(d,{key:0},[c(s(k),{content:s(u).baseText("chatHub.toolsManager.configure")},{default:f((()=>[c(s(j),{icon:"settings",variant:"ghost",text:"",class:m(t.$style.actionButton),onClick:n[0]||(n[0]=e=>i("configure"))},null,8,["class"])])),_:1},8,["content"]),c(s(k),{content:s(u).baseText("chatHub.toolsManager.remove")},{default:f((()=>[c(s(j),{icon:"trash-2",variant:"ghost",text:"",class:m(t.$style.actionButton),onClick:n[1]||(n[1]=e=>i("remove"))},null,8,["class"])])),_:1},8,["content"]),c(s(k),{content:e.enabled?s(u).baseText("chatHub.toolsManager.disableTool"):s(u).baseText("chatHub.toolsManager.enableTool")},{default:f((()=>[c(s(M),{"model-value":e.enabled,class:m(t.$style.toggle),"onUpdate:modelValue":n[2]||(n[2]=e=>i("toggle",Boolean(e)))},null,8,["model-value","class"])])),_:1},8,["content"])],64)):(p(),r(s(T),{key:1,variant:"subtle",size:"small",icon:"plus",onClick:n[3]||(n[3]=e=>i("add"))},{default:f((()=>[_(a(s(u).baseText("chatHub.toolsManager.add")),1)])),_:1}))],2)],2))}}),J=I(G,[["__cssModules",{$style:{item:"_item_kwv06_125",configured:"_configured_kwv06_132",actionButton:"_actionButton_kwv06_132",iconWrapper:"_iconWrapper_kwv06_139",content:"_content_kwv06_147",name:"_name_kwv06_155",description:"_description_kwv06_162",actions:"_actions_kwv06_169",toggle:"_toggle_kwv06_176"}}]]),e("default",I(u({__name:"ToolsManagerModal",props:{modalName:{},data:{}},setup(e){const t=e,u=n((()=>t.data.customAgentId)),k=n((()=>u.value?q.customAgents[u.value]?.toolIds??[]:null)),M=n((()=>{const e=I.baseText("chatHub.toolsManager.title");if(!u.value)return e;const t=q.customAgents[u.value]?.name;return t?`${e} (${t})`:e})),I=w(),O=E(),q=Q(),G=S(),Y=z(),Z=new Map(F.map((e=>[e.id,e.popularity]))),K=i(""),ee=i(""),te=x((e=>{ee.value=e}),V(W.INPUT.SEARCH));g(K,(e=>{te(e)}));const ne=i("list"),ae=i(null),oe=i([]),le=i(null),se=i(null),ie=i(""),ce=i(!1),ue=n((()=>q.configuredTools)),re=n((()=>{const e=[...A];return B(["global:chatUser"])&&e.push(...D),e})),de=n((()=>(O.visibleNodeTypesByOutputConnectionTypeNames[P.AiTool]??[]).map((e=>O.getNodeType(e))).filter((e=>null!==e&&!re.value.includes(e.name)&&!function(e){const{inputs:t}=e;return!Array.isArray(t)||t.length>0}(e))).sort(((e,t)=>{const n=Z.get(e.name)??0;return(Z.get(t.name)??0)-n})))),ge=n((()=>{if(!ee.value)return ue.value;const e=ee.value.toLowerCase();return ue.value.filter((t=>{const n=t.definition,a=O.getNodeType(n.type,n.typeVersion),o=n.name.toLowerCase().includes(e),l=a?.displayName.toLowerCase().includes(e);return o||l}))})),fe=n((()=>{if(!ee.value)return de.value;const e=ee.value.toLowerCase();return de.value.filter((t=>{const n=t.displayName.toLowerCase().includes(e),a=t.description?.toLowerCase().includes(e);return n||a}))}));function pe(e){return O.getNodeType(e.definition.type,e.definition.typeVersion)}function ye(e,t,n){ae.value=e,oe.value=t,le.value=n,ie.value=e.name,ce.value=!1,ne.value="settings"}function _e(){ne.value="list",ae.value=null,oe.value=[],le.value=null,ie.value="",ce.value=!1}function ve(){const e=se.value?.node;e&&le.value&&(le.value(e),_e())}function me(e){se.value?.handleChangeName(e)}return(t,n)=>(p(),r(U,{name:e.modalName,width:"780px","show-close":"list"===ne.value,"custom-class":t.$style.modal},{header:f((()=>["list"===ne.value?(p(),r(s(L),{key:0,tag:"h2",size:"large"},{default:f((()=>[_(a(M.value),1)])),_:1})):(p(),o("div",{key:1,class:m(t.$style.settingsHeader)},[h("div",{class:m(t.$style.settingsHeaderLeft)},[c(s(j),{icon:"arrow-left",text:"",size:"large",variant:"ghost",class:m(t.$style.backButton),onClick:_e},null,8,["class"]),c(s($),{"model-value":ie.value,"max-width":350,class:m(t.$style.title),"onUpdate:modelValue":me},null,8,["model-value","class"])],2),c(s(T),{variant:"solid",size:"small",disabled:!ce.value,onClick:ve},{default:f((()=>[_(a(s(I).baseText("chatHub.toolSettings.confirm")),1)])),_:1},8,["disabled"])],2))])),content:f((()=>[b(c(s(N),{modelValue:K.value,"onUpdate:modelValue":n[0]||(n[0]=e=>K.value=e),placeholder:s(I).baseText("chatHub.toolsManager.searchPlaceholder"),clearable:"",class:m(t.$style.searchInput)},{prefix:f((()=>[c(s(C),{icon:"search"})])),_:1},8,["modelValue","placeholder","class"]),[[v,"list"===ne.value]]),b(h("div",{"data-tools-manager-modal":"",class:m(t.$style.listWrapper)},[ge.value.length>0?(p(),o("div",{key:0,class:m(t.$style.section)},[c(s(L),{size:"small",color:"text-light",tag:"h3"},{default:f((()=>[_(a(s(I).baseText("chatHub.toolsManager.configuredTools",{interpolate:{count:ue.value.length}})),1)])),_:1}),h("div",{class:m(t.$style.toolsList)},[(p(!0),o(d,null,y(ge.value,(e=>(p(),r(J,{key:e.definition.id,"node-type":pe(e),"configured-node":e.definition,enabled:k.value?k.value.includes(e.definition.id):e.enabled,mode:"configured",onConfigure:t=>function(e){const t=ue.value.filter((t=>t.definition.id!==e.definition.id)).map((e=>e.definition.name));ye({...e.definition},t,(async t=>{try{await q.updateConfiguredTool(e.definition.id,t)}catch(n){G.showError(n,I.baseText("chatHub.error.updateToolsFailed"))}}))}(e),onRemove:t=>async function(e){if("confirm"===await Y.confirm(I.baseText("chatHub.toolsManager.confirmRemove.message"),I.baseText("chatHub.toolsManager.confirmRemove.title"),{confirmButtonText:I.baseText("chatHub.toolsManager.remove"),cancelButtonText:I.baseText("generic.cancel")}))try{await q.removeConfiguredTool(e)}catch(t){G.showError(t,I.baseText("chatHub.error.updateToolsFailed"))}}(e.definition.id),onToggle:t=>async function(e,t){try{u.value?await q.toggleCustomAgentTool(u.value,e.definition.id):await q.toggleToolEnabled(e.definition.id,t)}catch(n){G.showError(n,I.baseText("chatHub.error.updateToolsFailed"))}}(e,t)},null,8,["node-type","configured-node","enabled","onConfigure","onRemove","onToggle"])))),128))],2)],2)):l("",!0),fe.value.length>0?(p(),o("div",{key:1,class:m(t.$style.section)},[c(s(L),{size:"small",color:"text-light",tag:"h3"},{default:f((()=>[_(a(s(I).baseText("chatHub.toolsManager.availableTools",{interpolate:{count:de.value.length}})),1)])),_:1}),h("div",{class:m(t.$style.toolsList)},[(p(!0),o(d,null,y(fe.value,(e=>(p(),r(J,{key:e.name,"node-type":e,mode:"available",onAdd:t=>function(e){const t="number"==typeof e.version?e.version:e.version.toSorted(((e,t)=>t-e))?.[0];if(!t)return;const n=R(),a=ue.value.map((e=>e.definition.name));ye({type:e.name,typeVersion:t,parameters:{},id:n,name:e.displayName,position:[0,0]},a,(async e=>{try{await q.addConfiguredTool(e)}catch(t){G.showError(t,I.baseText("chatHub.error.updateToolsFailed"))}}))}(e)},null,8,["node-type","onAdd"])))),128))],2)],2)):l("",!0),0===ge.value.length&&0===fe.value.length?(p(),o("div",{key:2,class:m(t.$style.emptyState)},[c(s(H),{color:"text-light"},{default:f((()=>[_(a(s(I).baseText("chatHub.toolsManager.noResults")),1)])),_:1})],2)):l("",!0)],2),[[v,"list"===ne.value]]),"settings"===ne.value&&ae.value?(p(),o("div",{key:0,class:m(t.$style.settingsWrapper)},[c(X,{ref_key:"settingsContentRef",ref:se,"initial-node":ae.value,"existing-tool-names":oe.value,"onUpdate:valid":n[1]||(n[1]=e=>ce.value=e),"onUpdate:nodeName":n[2]||(n[2]=e=>ie.value=e)},null,8,["initial-node","existing-tool-names"])],2)):l("",!0)])),_:1},8,["name","show-close","custom-class"]))}}),[["__cssModules",{$style:{modal:"_modal_1cu57_125",settingsHeader:"_settingsHeader_1cu57_129",settingsHeaderLeft:"_settingsHeaderLeft_1cu57_136",icon:"_icon_1cu57_144",title:"_title_1cu57_149",listWrapper:"_listWrapper_1cu57_158",settingsWrapper:"_settingsWrapper_1cu57_169",searchInput:"_searchInput_1cu57_178",section:"_section_1cu57_183",toolsList:"_toolsList_1cu57_189",emptyState:"_emptyState_1cu57_194"}}]]))}}}));
//# sourceMappingURL=ToolsManagerModal-legacy-B8eArF9T.js.map