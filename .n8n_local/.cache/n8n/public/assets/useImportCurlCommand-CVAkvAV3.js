(function(){try{var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{};e.SENTRY_RELEASE={id:`n8n@2.9.4`}}catch{}})();try{(function(){var e=typeof window<`u`?window:typeof global<`u`?global:typeof globalThis<`u`?globalThis:typeof self<`u`?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]=`1e81c5c0-4699-4141-8304-4b9b883b1338`,e._sentryDebugIdIdentifier=`sentry-dbid-1e81c5c0-4699-4141-8304-4b9b883b1338`)})()}catch{}import{a as __toCommonJS,i as __require,o as __toESM,t as __commonJSMin}from"./chunk-Din3qlHY.js";import{Gt as unref}from"./vue.runtime.esm-bundler-1e_FtHOF.js";import{yt as useI18n}from"./_MapCache-DjbOQyB7.js";import{m as require_get}from"./src-CppJvwzX.js";import{S as require_path_browserify,n as empty_exports,r as init_empty}from"./sanitize-html-K63Olwt_.js";import{_a as importCurlEventBus,yr as useToast}from"./users.store-pCkD7Zo0.js";import{cl as CURL_IMPORT_NOT_SUPPORTED_PROTOCOLS,sl as CURL_IMPORT_NODES_PROTOCOLS}from"./constants-D1jZwsUK.js";import"./merge-CKxbv8m_.js";import{v as assert}from"./_baseOrderBy-El3qbNHQ.js";import"./dateformat-BhE5sUDK.js";import"./useDebounce-D6lADr4O.js";var import_get=__toESM(require_get(),1),CCError=class extends Error{};const UTF8encoder=new TextEncoder;function has(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}function isInt(s){return/^\s*[+-]?\d+$/.test(s)}var Word=class Word{constructor(tokens){this.valueOf=Word.toString,typeof tokens==`string`&&(tokens=[tokens]),(tokens===void 0||tokens.length===0)&&(tokens=[``]),this.tokens=[];for(let t of tokens)typeof t==`string`?this.tokens.length>0&&typeof this.tokens[this.tokens.length-1]==`string`?this.tokens[this.tokens.length-1]+=t:t&&this.tokens.push(t):this.tokens.push(t);this.tokens.length===0&&this.tokens.push(``)}get length(){let len=0;for(let t of this.tokens)typeof t==`string`?len+=t.length:len+=1;return len}*[Symbol.iterator](){for(let t of this.tokens)if(typeof t==`string`)for(let c of t)yield c;else yield t}get(index){let i=0;for(let t of this.tokens)if(typeof t==`string`){if(i+t.length>index)return t[index-i];i+=t.length}else{if(i===index)return t;i+=1}throw new CCError(`Index out of bounds`)}charAt(index=0){try{return this.get(index)}catch{}return``}indexOf(search,start){start===void 0&&(start=0);let i=0;for(let t of this.tokens)if(typeof t==`string`){if(i+t.length>start){let index=t.indexOf(search,start-i);if(index!==-1)return i+index}i+=t.length}else i+=1;return-1}indexOfFirstChar(search){let i=0;for(let t of this.tokens)if(typeof t==`string`)for(let c of t){if(search.includes(c))return i;i+=1}else i+=1;return-1}removeFirstChar(c){return this.length===0?new Word:this.charAt(0)===c?this.slice(1):this.copy()}copy(){return new Word(this.tokens)}slice(indexStart,indexEnd){if(indexStart===void 0&&(indexStart=this.length),indexEnd===void 0&&(indexEnd=this.length),indexStart>=this.length||(indexStart<0&&(indexStart=Math.max(indexStart+this.length,0)),indexEnd<0&&(indexEnd=Math.max(indexEnd+this.length,0)),indexEnd<=indexStart))return new Word;let ret=[],i=0;for(let t of this.tokens)typeof t==`string`?(i+t.length>indexStart&&i<indexEnd&&ret.push(t.slice(Math.max(indexStart-i,0),indexEnd-i)),i+=t.length):(i>=indexStart&&i<indexEnd&&ret.push(t),i+=1);return new Word(ret)}includes(search,start){start===void 0&&(start=0);let i=0;for(let t of this.tokens)if(typeof t==`string`){if(i+t.length>start&&t.includes(search,start-i))return!0;i+=t.length}else i+=1;return!1}test(search){for(let t of this.tokens)if(typeof t==`string`&&search.test(t))return!0;return!1}prepend(c){let ret=this.copy();return ret.tokens.length&&typeof ret.tokens[0]==`string`?ret.tokens[0]=c+ret.tokens[0]:ret.tokens.unshift(c),ret}append(c){let ret=this.copy();return ret.tokens.length&&typeof ret.tokens[ret.tokens.length-1]==`string`?ret.tokens[ret.tokens.length-1]+=c:ret.tokens.push(c),ret}add(other){return new Word([...this.tokens,...other.tokens])}match(regex){for(let t of this.tokens)if(typeof t==`string`){let match=t.match(regex);if(match)return match}return null}search(regex){let offset=0;for(let t of this.tokens)if(typeof t==`string`){let match=t.search(regex);if(match!==-1)return offset+match;offset+=t.length}return-1}replace(search,replacement){let ret=[];for(let t of this.tokens)typeof t==`string`?ret.push(t.replace(search,replacement)):ret.push(t);return new Word(ret)}split(separator,limit){let ret=[],i=0,start=0;for(;i<this.length;){let match=!0;for(let j=0;j<separator.length;j++)if(this.get(i+j)!==separator.charAt(j)){match=!1;break}if(match){if(ret.push(this.slice(start,i)),i+=separator.length,start=i,limit!==void 0&&ret.length===limit-1)break}else i+=1}return start<=this.length&&ret.push(this.slice(start)),ret}toLowerCase(){return new Word(this.tokens.map(t=>typeof t==`string`?t.toLowerCase():t))}toUpperCase(){return new Word(this.tokens.map(t=>typeof t==`string`?t.toUpperCase():t))}trimStart(){let ret=[],i,t;for([i,t]of this.tokens.entries())typeof t==`string`?(i===0&&(t=t.trimStart()),t&&ret.push(t)):ret.push(t);return ret.length===0?new Word:new Word(ret)}trimEnd(){let ret=[],i,t;for([i,t]of this.tokens.entries())typeof t==`string`?(i===this.tokens.length-1&&(t=t.trimEnd()),t&&ret.push(t)):ret.push(t);return ret.length===0?new Word:new Word(ret)}trim(){let ret=[],i,t;for([i,t]of this.tokens.entries())typeof t==`string`?(i===0&&(t=t.trimStart()),i===this.tokens.length-1&&(t=t.trimEnd()),t&&ret.push(t)):ret.push(t);return ret.length===0?new Word:new Word(ret)}isEmpty(){return this.tokens.length===0?!0:this.tokens.length===1&&typeof this.tokens[0]==`string`?this.tokens[0].length===0:!1}toBool(){return!this.isEmpty()}isString(){for(let t of this.tokens)if(typeof t!=`string`)return!1;return!0}firstShellToken(){for(let t of this.tokens)if(typeof t!=`string`)return t;return null}startsWith(prefix){return this.tokens.length===0?!1:typeof this.tokens[0]==`string`?this.tokens[0].startsWith(prefix):!1}endsWith(suffix){if(this.tokens.length===0)return!1;let lastToken=this.tokens[this.tokens.length-1];return typeof lastToken==`string`?lastToken.endsWith(suffix):!1}toString(){return this.tokens.map(t=>typeof t==`string`?t:t.text).join(``)}};function eq(it,other){return it==null||other==null?it===other:typeof other==`string`?it.tokens.length===1&&typeof it.tokens[0]==`string`&&it.tokens[0]===other:it.tokens.length===other.tokens.length&&it.tokens.every((itToken,i)=>{let otherToken=other.tokens[i];return typeof itToken==`string`?itToken===otherToken:typeof otherToken==`string`?!1:itToken.text===otherToken.text})}function firstShellToken(word){return typeof word==`string`?null:word.firstShellToken()}function mergeWords(...words){let ret=[];for(let w of words)w instanceof Word?ret.push(...w.tokens):ret.push(w);return new Word(ret)}function joinWords(words,joinChar){let ret=[];for(let w of words)ret.length&&ret.push(joinChar),ret.push(...w.tokens);return new Word(ret)}var require_tree_sitter=__commonJSMin(((exports,module)=>{var Module=Module===void 0?{}:Module,ENVIRONMENT_IS_WEB=typeof window==`object`,ENVIRONMENT_IS_WORKER=typeof importScripts==`function`,ENVIRONMENT_IS_NODE=typeof process==`object`&&typeof process.versions==`object`&&typeof process.versions.node==`string`,TreeSitter=function(){var initPromise,document=typeof window==`object`?{currentScript:window.document.currentScript}:null;class Parser$3{constructor(){this.initialize()}initialize(){throw Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||=(Module=Object.assign({},Module,moduleOptions),new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram=`./this.program`,quit_=(status,toThrow)=>{throw toThrow},scriptDirectory=``;function locateFile(path){return Module.locateFile?Module.locateFile(path,scriptDirectory):scriptDirectory+path}var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=(init_empty(),__toCommonJS(empty_exports)),nodePath=require_path_browserify();scriptDirectory=__dirname+`/`,readBinary=filename=>(filename=isFileURI(filename)?new URL(filename):nodePath.normalize(filename),fs.readFileSync(filename)),readAsync=(filename,binary=!0)=>(filename=isFileURI(filename)?new URL(filename):nodePath.normalize(filename),new Promise((resolve,reject)=>{fs.readFile(filename,binary?void 0:`utf8`,(err$1,data)=>{err$1?reject(err$1):resolve(binary?data.buffer:data)})})),!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,`/`)),arguments_=process.argv.slice(2),module!==void 0&&(module.exports=Module),quit_=(status,toThrow)=>{throw process.exitCode=status,toThrow}}else (ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.startsWith(`blob:`)?``:scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,``).lastIndexOf(`/`)+1),ENVIRONMENT_IS_WORKER&&(readBinary=url=>{var xhr=new XMLHttpRequest;return xhr.open(`GET`,url,!1),xhr.responseType=`arraybuffer`,xhr.send(null),new Uint8Array(xhr.response)}),readAsync=url=>isFileURI(url)?new Promise((reject,resolve)=>{var xhr=new XMLHttpRequest;xhr.open(`GET`,url,!0),xhr.responseType=`arraybuffer`,xhr.onload=()=>{(xhr.status==200||xhr.status==0&&xhr.response)&&resolve(xhr.response),reject(xhr.status)},xhr.onerror=reject,xhr.send(null)}):fetch(url,{credentials:`same-origin`}).then(response=>response.ok?response.arrayBuffer():Promise.reject(Error(response.status+` : `+response.url))));var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var wasmMemory,ABORT=!1,EXITSTATUS,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,HEAP_DATA_VIEW;function updateMemoryViews(){var b=wasmMemory.buffer;Module.HEAP_DATA_VIEW=HEAP_DATA_VIEW=new DataView(b),Module.HEAP8=HEAP8=new Int8Array(b),Module.HEAP16=new Int16Array(b),Module.HEAPU8=HEAPU8=new Uint8Array(b),Module.HEAPU16=new Uint16Array(b),Module.HEAP32=new Int32Array(b),Module.HEAPU32=new Uint32Array(b),Module.HEAPF32=new Float32Array(b),Module.HEAPF64=new Float64Array(b)}if(Module.wasmMemory)wasmMemory=Module.wasmMemory;else{var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:2147483648/65536})}updateMemoryViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun==`function`&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(typeof Module.postRun==`function`&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(id){return id}function addRunDependency(id){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}function removeRunDependency(id){if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var callback=dependenciesFulfilled;dependenciesFulfilled=null,callback()}}function abort(what){throw Module.onAbort?.(what),what=`Aborted(`+what+`)`,err(what),ABORT=!0,EXITSTATUS=1,what+=`. Build with -sASSERTIONS for more info.`,new WebAssembly.RuntimeError(what)}var dataURIPrefix=`data:application/octet-stream;base64,`,isDataURI=filename=>filename.startsWith(dataURIPrefix),isFileURI=filename=>filename.startsWith(`file://`);function findWasmBinary(){var f=`tree-sitter.wasm`;return isDataURI(f)?f:locateFile(f)}var wasmBinaryFile;function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(file);throw`both async and sync fetching of the wasm failed`}function getBinaryPromise(binaryFile){return wasmBinary?Promise.resolve().then(()=>getBinarySync(binaryFile)):readAsync(binaryFile).then(response=>new Uint8Array(response),()=>getBinarySync(binaryFile))}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(binary=>WebAssembly.instantiate(binary,imports)).then(receiver,reason=>{err(`failed to asynchronously prepare wasm: ${reason}`),abort(reason)})}function instantiateAsync(binary,binaryFile,imports,callback){return!binary&&typeof WebAssembly.instantiateStreaming==`function`&&!isDataURI(binaryFile)&&!isFileURI(binaryFile)&&!ENVIRONMENT_IS_NODE&&typeof fetch==`function`?fetch(binaryFile,{credentials:`same-origin`}).then(response=>WebAssembly.instantiateStreaming(response,imports).then(callback,function(reason){return err(`wasm streaming compile failed: ${reason}`),err(`falling back to ArrayBuffer instantiation`),instantiateArrayBuffer(binaryFile,imports,callback)})):instantiateArrayBuffer(binaryFile,imports,callback)}function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)}}function createWasm(){var info=getWasmImports();function receiveInstance(instance,module$1){wasmExports=instance.exports,wasmExports=relocateExports(wasmExports,1024);var metadata=getDylinkMetadata(module$1);return metadata.neededDynlibs&&(dynamicLibraries=metadata.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports,`main`),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency(`wasm-instantiate`),wasmExports}addRunDependency(`wasm-instantiate`);function receiveInstantiationResult(result){receiveInstance(result.instance,result.module)}if(Module.instantiateWasm)try{return Module.instantiateWasm(info,receiveInstance)}catch(e){return err(`Module.instantiateWasm callback failed with error: ${e}`),!1}return wasmBinaryFile||=findWasmBinary(),instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult),{}}var ASM_CONSTS={};function ExitStatus(status){this.name=`ExitStatus`,this.message=`Program terminated with exit(${status})`,this.status=status}var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(obj,symName){var rtn=GOT[symName];return rtn||=GOT[symName]=new WebAssembly.Global({value:`i32`,mutable:!0}),currentModuleWeakSymbols.has(symName)||(rtn.required=!0),rtn}},LE_HEAP_LOAD_F32=byteOffset=>HEAP_DATA_VIEW.getFloat32(byteOffset,!0),LE_HEAP_LOAD_F64=byteOffset=>HEAP_DATA_VIEW.getFloat64(byteOffset,!0),LE_HEAP_LOAD_I16=byteOffset=>HEAP_DATA_VIEW.getInt16(byteOffset,!0),LE_HEAP_LOAD_I32=byteOffset=>HEAP_DATA_VIEW.getInt32(byteOffset,!0),LE_HEAP_LOAD_U32=byteOffset=>HEAP_DATA_VIEW.getUint32(byteOffset,!0),LE_HEAP_STORE_F32=(byteOffset,value)=>HEAP_DATA_VIEW.setFloat32(byteOffset,value,!0),LE_HEAP_STORE_F64=(byteOffset,value)=>HEAP_DATA_VIEW.setFloat64(byteOffset,value,!0),LE_HEAP_STORE_I16=(byteOffset,value)=>HEAP_DATA_VIEW.setInt16(byteOffset,value,!0),LE_HEAP_STORE_I32=(byteOffset,value)=>HEAP_DATA_VIEW.setInt32(byteOffset,value,!0),LE_HEAP_STORE_U32=(byteOffset,value)=>HEAP_DATA_VIEW.setUint32(byteOffset,value,!0),callRuntimeCallbacks=callbacks=>{for(;callbacks.length>0;)callbacks.shift()(Module)},UTF8Decoder=typeof TextDecoder<`u`?new TextDecoder:void 0,UTF8ArrayToString=(heapOrArray,idx,maxBytesToRead)=>{for(var endIdx=idx+maxBytesToRead,endPtr=idx;heapOrArray[endPtr]&&!(endPtr>=endIdx);)++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder)return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));for(var str=``;idx<endPtr;){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if(u0=(u0&240)==224?(u0&15)<<12|u1<<6|u2:(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63,u0<65536)str+=String.fromCharCode(u0);else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str},getDylinkMetadata=binary=>{var offset=0,end=0;function getU8(){return binary[offset++]}function getLEB(){for(var ret=0,mul=1;;){var byte=binary[offset++];if(ret+=(byte&127)*mul,mul*=128,!(byte&128))break}return ret}function getString(){var len=getLEB();return offset+=len,UTF8ArrayToString(binary,offset-len,len)}function failIf(condition,message){if(condition)throw Error(message)}var name=`dylink.0`;if(binary instanceof WebAssembly.Module){var dylinkSection=WebAssembly.Module.customSections(binary,name);dylinkSection.length===0&&(name=`dylink`,dylinkSection=WebAssembly.Module.customSections(binary,name)),failIf(dylinkSection.length===0,`need dylink section`),binary=new Uint8Array(dylinkSection[0]),end=binary.length}else{var int32View=new Uint32Array(new Uint8Array(binary.subarray(0,24)).buffer);failIf(!(int32View[0]==1836278016||int32View[0]==6386541),`need to see wasm magic number`),failIf(binary[8]!==0,`need the dylink section to be first`),offset=9;var section_size=getLEB();end=offset+section_size,name=getString()}var customSection={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(name==`dylink`){customSection.memorySize=getLEB(),customSection.memoryAlign=getLEB(),customSection.tableSize=getLEB(),customSection.tableAlign=getLEB();for(var neededDynlibsCount=getLEB(),i=0;i<neededDynlibsCount;++i){var libname=getString();customSection.neededDynlibs.push(libname)}}else{failIf(name!==`dylink.0`);for(var WASM_DYLINK_MEM_INFO=1,WASM_DYLINK_NEEDED=2,WASM_DYLINK_EXPORT_INFO=3,WASM_DYLINK_IMPORT_INFO=4,WASM_SYMBOL_TLS=256,WASM_SYMBOL_BINDING_MASK=3,WASM_SYMBOL_BINDING_WEAK=1;offset<end;){var subsectionType=getU8(),subsectionSize=getLEB();if(subsectionType===WASM_DYLINK_MEM_INFO)customSection.memorySize=getLEB(),customSection.memoryAlign=getLEB(),customSection.tableSize=getLEB(),customSection.tableAlign=getLEB();else if(subsectionType===WASM_DYLINK_NEEDED)for(var neededDynlibsCount=getLEB(),i=0;i<neededDynlibsCount;++i)libname=getString(),customSection.neededDynlibs.push(libname);else if(subsectionType===WASM_DYLINK_EXPORT_INFO)for(var count=getLEB();count--;){var symname=getString(),flags=getLEB();flags&WASM_SYMBOL_TLS&&customSection.tlsExports.add(symname)}else if(subsectionType===WASM_DYLINK_IMPORT_INFO)for(var count=getLEB();count--;){var modname=getString(),symname=getString(),flags=getLEB();(flags&WASM_SYMBOL_BINDING_MASK)==WASM_SYMBOL_BINDING_WEAK&&customSection.weakImports.add(symname)}else offset+=subsectionSize}}return customSection};function getValue(ptr,type=`i8`){switch(type.endsWith(`*`)&&(type=`*`),type){case`i1`:return HEAP8[ptr];case`i8`:return HEAP8[ptr];case`i16`:return LE_HEAP_LOAD_I16((ptr>>1)*2);case`i32`:return LE_HEAP_LOAD_I32((ptr>>2)*4);case`i64`:abort(`to do getValue(i64) use WASM_BIGINT`);case`float`:return LE_HEAP_LOAD_F32((ptr>>2)*4);case`double`:return LE_HEAP_LOAD_F64((ptr>>3)*8);case`*`:return LE_HEAP_LOAD_U32((ptr>>2)*4);default:abort(`invalid type for getValue: ${type}`)}}var newDSO=(name,handle,syms)=>{var dso={refcount:1/0,name,exports:syms,global:!0};return LDSO.loadedLibsByName[name]=dso,handle!=null&&(LDSO.loadedLibsByHandle[handle]=dso),dso},LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO(`__main__`,0,wasmImports)}},___heap_base=78112,zeroMemory=(address,size)=>(HEAPU8.fill(0,address,address+size),address),alignMemory=(size,alignment)=>Math.ceil(size/alignment)*alignment,getMemory=size=>{if(runtimeInitialized)return zeroMemory(_malloc(size),size);var ret=___heap_base,end=ret+alignMemory(size,16);return ___heap_base=end,GOT.__heap_base.value=end,ret},isInternalSym=symName=>[`__cpp_exception`,`__c_longjmp`,`__wasm_apply_data_relocs`,`__dso_handle`,`__tls_size`,`__tls_align`,`__set_stack_limits`,`_emscripten_tls_init`,`__wasm_init_tls`,`__wasm_call_ctors`,`__start_em_asm`,`__stop_em_asm`,`__start_em_js`,`__stop_em_js`].includes(symName)||symName.startsWith(`__em_js__`),uleb128Encode=(n,target)=>{n<128?target.push(n):target.push(n%128|128,n>>7)},sigToWasmTypes=sig=>{for(var typeNames={i:`i32`,j:`i64`,f:`f32`,d:`f64`,e:`externref`,p:`i32`},type={parameters:[],results:sig[0]==`v`?[]:[typeNames[sig[0]]]},i=1;i<sig.length;++i)type.parameters.push(typeNames[sig[i]]);return type},generateFuncType=(sig,target)=>{var sigRet=sig.slice(0,1),sigParam=sig.slice(1),typeCodes={i:127,p:127,j:126,f:125,d:124,e:111};target.push(96),uleb128Encode(sigParam.length,target);for(var i=0;i<sigParam.length;++i)target.push(typeCodes[sigParam[i]]);sigRet==`v`?target.push(0):target.push(1,typeCodes[sigRet])},convertJsFunctionToWasm=(func,sig)=>{if(typeof WebAssembly.Function==`function`)return new WebAssembly.Function(sigToWasmTypes(sig),func);var typeSectionBody=[1];generateFuncType(sig,typeSectionBody);var bytes=[0,97,115,109,1,0,0,0,1];uleb128Encode(typeSectionBody.length,bytes),bytes.push(...typeSectionBody),bytes.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var module$1=new WebAssembly.Module(new Uint8Array(bytes));return new WebAssembly.Instance(module$1,{e:{f:func}}).exports.f},wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:28,element:`anyfunc`}),getWasmTableEntry=funcPtr=>{var func=wasmTableMirror[funcPtr];return func||(funcPtr>=wasmTableMirror.length&&(wasmTableMirror.length=funcPtr+1),wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr)),func},updateTableMap=(offset,count)=>{if(functionsInTableMap)for(var i=offset;i<offset+count;i++){var item=getWasmTableEntry(i);item&&functionsInTableMap.set(item,i)}},functionsInTableMap,getFunctionAddress=func=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(func)||0),freeTableIndexes=[],getEmptyTableSlot=()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(err$1){throw err$1 instanceof RangeError?`Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.`:err$1}return wasmTable.length-1},setWasmTableEntry=(idx,func)=>{wasmTable.set(idx,func),wasmTableMirror[idx]=wasmTable.get(idx)},addFunction=(func,sig)=>{var rtn=getFunctionAddress(func);if(rtn)return rtn;var ret=getEmptyTableSlot();try{setWasmTableEntry(ret,func)}catch(err$1){if(!(err$1 instanceof TypeError))throw err$1;setWasmTableEntry(ret,convertJsFunctionToWasm(func,sig))}return functionsInTableMap.set(func,ret),ret},updateGOT=(exports$1,replace)=>{for(var symName in exports$1)if(!isInternalSym(symName)){var value=exports$1[symName];symName.startsWith(`orig$`)&&(symName=symName.split(`$`)[1],replace=!0),GOT[symName]||=new WebAssembly.Global({value:`i32`,mutable:!0}),(replace||GOT[symName].value==0)&&(typeof value==`function`?GOT[symName].value=addFunction(value):typeof value==`number`?GOT[symName].value=value:err(`unhandled export type for '${symName}': ${typeof value}`))}},relocateExports=(exports$1,memoryBase,replace)=>{var relocated={};for(var e in exports$1){var value=exports$1[e];typeof value==`object`&&(value=value.value),typeof value==`number`&&(value+=memoryBase),relocated[e]=value}return updateGOT(relocated,replace),relocated},isSymbolDefined=symName=>{var existing=wasmImports[symName];return!(!existing||existing.stub)},dynCallLegacy=(sig,ptr,args)=>{sig=sig.replace(/p/g,`i`);var f=Module[`dynCall_`+sig];return f(ptr,...args)},dynCall=(sig,ptr,args=[])=>sig.includes(`j`)?dynCallLegacy(sig,ptr,args):getWasmTableEntry(ptr)(...args),stackSave=()=>_emscripten_stack_get_current(),stackRestore=val=>__emscripten_stack_restore(val),createInvokeFunction=sig=>(ptr,...args)=>{var sp=stackSave();try{return dynCall(sig,ptr,args)}catch(e){if(stackRestore(sp),e!==e+0)throw e;_setThrew(1,0)}},resolveGlobalSymbol=(symName,direct=!1)=>{var sym;return direct&&`orig$`+symName in wasmImports&&(symName=`orig$`+symName),isSymbolDefined(symName)?sym=wasmImports[symName]:symName.startsWith(`invoke_`)&&(sym=wasmImports[symName]=createInvokeFunction(symName.split(`_`)[1])),{sym,name:symName}},UTF8ToString=(ptr,maxBytesToRead)=>ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):``,loadWebAssemblyModule=(binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);currentModuleWeakSymbols=metadata.weakImports;function loadModule(){var firstLoad=!handle||!HEAP8[handle+8];if(firstLoad){var memAlign=2**metadata.memoryAlign,memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+8]=1,LE_HEAP_STORE_U32((handle+12>>2)*4,memoryBase),LE_HEAP_STORE_I32((handle+16>>2)*4,metadata.memorySize),LE_HEAP_STORE_U32((handle+20>>2)*4,tableBase),LE_HEAP_STORE_I32((handle+24>>2)*4,metadata.tableSize))}else memoryBase=LE_HEAP_LOAD_U32((handle+12>>2)*4),tableBase=LE_HEAP_LOAD_U32((handle+20>>2)*4);var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length;tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var moduleExports;function resolveSymbol(sym){var resolved=resolveGlobalSymbol(sym).sym;return!resolved&&localScope&&(resolved=localScope[sym]),resolved||=moduleExports[sym],resolved}var proxyHandler={get(stubs,prop){switch(prop){case`__memory_base`:return memoryBase;case`__table_base`:return tableBase}if(prop in wasmImports&&!wasmImports[prop].stub)return wasmImports[prop];if(!(prop in stubs)){var resolved;stubs[prop]=(...args)=>(resolved||=resolveSymbol(prop),resolved(...args))}return stubs[prop]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module$2,instance$1){updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance$1.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols();function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf(`$`+arity)!=-1;arity++)args.push(`$`+arity);args=args.join(`,`);var func=`(${args}) => { ${body} };`;ASM_CONSTS[start]=eval(func)}if(`__start_em_asm`in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name$1,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!=`void`)for(var i in cSig=cSig.split(`,`),cSig){var jsArg=cSig[i].split(` `).pop();jsArgs.push(jsArg.replace(`*`,``))}var func=`(${jsArgs}) => ${body};`;moduleExports[name$1]=eval(func)}for(var name in moduleExports)if(name.startsWith(`__em_js__`)){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split(`<::>`);addEmJs(name.replace(`__em_js__`,``),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then(result=>postInstantiation(result.module,result.instance))}var module$1=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module$1,info);return postInstantiation(module$1,instance)}return flags.loadAsync?metadata.neededDynlibs.reduce((chain,dynNeeded)=>chain.then(()=>loadDynamicLibrary(dynNeeded,flags,localScope)),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach(needed=>loadDynamicLibrary(needed,flags,localScope)),loadModule())},mergeLibSymbols=(exports$1,libName)=>{for(var[sym,exp]of Object.entries(exports$1)){let setImport=target=>{isSymbolDefined(target)||(wasmImports[target]=exp)};setImport(sym);let main_alias=`__main_argc_argv`;sym==`main`&&setImport(main_alias),sym==main_alias&&setImport(`main`),sym.startsWith(`dynCall_`)&&!Module.hasOwnProperty(sym)&&(Module[sym]=exp)}},asyncLoad=(url,onload,onerror,noRunDep)=>{var dep=noRunDep?``:getUniqueRunDependency(`al ${url}`);readAsync(url).then(arrayBuffer=>{onload(new Uint8Array(arrayBuffer)),dep&&removeRunDependency(dep)},err$1=>{if(onerror)onerror();else throw`Loading data file "${url}" failed.`}),dep&&addRunDependency(dep)};function loadDynamicLibrary(libName,flags={global:!0,nodelete:!0},localScope,handle){var dso=LDSO.loadedLibsByName[libName];if(dso)return flags.global?dso.global||(dso.global=!0,mergeLibSymbols(dso.exports,libName)):localScope&&Object.assign(localScope,dso.exports),flags.nodelete&&dso.refcount!==1/0&&(dso.refcount=1/0),dso.refcount++,handle&&(LDSO.loadedLibsByHandle[handle]=dso),flags.loadAsync?Promise.resolve(!0):!0;dso=newDSO(libName,handle,`loading`),dso.refcount=flags.nodelete?1/0:1,dso.global=flags.global;function loadLibData(){if(handle){var data=LE_HEAP_LOAD_U32((handle+28>>2)*4),dataSize=LE_HEAP_LOAD_U32((handle+32>>2)*4);if(data&&dataSize){var libData=HEAP8.slice(data,data+dataSize);return flags.loadAsync?Promise.resolve(libData):libData}}var libFile=locateFile(libName);if(flags.loadAsync)return new Promise(function(resolve,reject){asyncLoad(libFile,resolve,reject)});if(!readBinary)throw Error(`${libFile}: file not found, and synchronous loading of external files is not available`);return readBinary(libFile)}function getExports(){return flags.loadAsync?loadLibData().then(libData=>loadWebAssemblyModule(libData,flags,libName,localScope,handle)):loadWebAssemblyModule(loadLibData(),flags,libName,localScope,handle)}function moduleLoaded(exports$1){dso.global?mergeLibSymbols(exports$1,libName):localScope&&Object.assign(localScope,exports$1),dso.exports=exports$1}return flags.loadAsync?getExports().then(exports$1=>(moduleLoaded(exports$1),!0)):(moduleLoaded(getExports()),!0)}var reportUndefinedSymbols=()=>{for(var[symName,entry]of Object.entries(GOT))if(entry.value==0){var value=resolveGlobalSymbol(symName,!0).sym;if(!value&&!entry.required)continue;if(typeof value==`function`)entry.value=addFunction(value,value.sig);else if(typeof value==`number`)entry.value=value;else throw Error(`bad export type for '${symName}': ${typeof value}`)}},loadDylibs=()=>{if(!dynamicLibraries.length){reportUndefinedSymbols();return}addRunDependency(`loadDylibs`),dynamicLibraries.reduce((chain,lib)=>chain.then(()=>loadDynamicLibrary(lib,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})),Promise.resolve()).then(()=>{reportUndefinedSymbols(),removeRunDependency(`loadDylibs`)})},noExitRuntime=Module.noExitRuntime||!0;function setValue(ptr,value,type=`i8`){switch(type.endsWith(`*`)&&(type=`*`),type){case`i1`:HEAP8[ptr]=value;break;case`i8`:HEAP8[ptr]=value;break;case`i16`:LE_HEAP_STORE_I16((ptr>>1)*2,value);break;case`i32`:LE_HEAP_STORE_I32((ptr>>2)*4,value);break;case`i64`:abort(`to do setValue(i64) use WASM_BIGINT`);case`float`:LE_HEAP_STORE_F32((ptr>>2)*4,value);break;case`double`:LE_HEAP_STORE_F64((ptr>>3)*8,value);break;case`*`:LE_HEAP_STORE_U32((ptr>>2)*4,value);break;default:abort(`invalid type for setValue: ${type}`)}}var ___memory_base=new WebAssembly.Global({value:`i32`,mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:`i32`,mutable:!0},78112),___table_base=new WebAssembly.Global({value:`i32`,mutable:!1},1),__abort_js=()=>{abort(``)};__abort_js.sig=`v`;var nowIsMonotonic=1,__emscripten_get_now_is_monotonic=()=>nowIsMonotonic;__emscripten_get_now_is_monotonic.sig=`i`;var __emscripten_memcpy_js=(dest,src,num)=>HEAPU8.copyWithin(dest,src,src+num);__emscripten_memcpy_js.sig=`vppp`;var _emscripten_date_now=()=>Date.now();_emscripten_date_now.sig=`d`;var _emscripten_get_now=()=>performance.now();_emscripten_get_now.sig=`d`;var getHeapMax=()=>2147483648,growMemory=size=>{var pages=(size-wasmMemory.buffer.byteLength+65535)/65536;try{return wasmMemory.grow(pages),updateMemoryViews(),1}catch{}},_emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;requestedSize>>>=0;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize)return!1;for(var alignUp=(x,multiple)=>x+(multiple-x%multiple)%multiple,cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);if(overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296),growMemory(Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536))))return!0}return!1};_emscripten_resize_heap.sig=`ip`;var _fd_close=fd=>52;_fd_close.sig=`ii`;var convertI32PairToI53Checked=(lo,hi)=>hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70}_fd_seek.sig=`iiiiip`;var printCharBuffers=[null,[],[]],printChar=(stream,curr)=>{var buffer=printCharBuffers[stream];curr===0||curr===10?((stream===1?out:err)(UTF8ArrayToString(buffer,0)),buffer.length=0):buffer.push(curr)},_fd_write=(fd,iov,iovcnt,pnum)=>{for(var num=0,i=0;i<iovcnt;i++){var ptr=LE_HEAP_LOAD_U32((iov>>2)*4),len=LE_HEAP_LOAD_U32((iov+4>>2)*4);iov+=8;for(var j=0;j<len;j++)printChar(fd,HEAPU8[ptr+j]);num+=len}return LE_HEAP_STORE_U32((pnum>>2)*4,num),0};_fd_write.sig=`iippp`;function _tree_sitter_log_callback(isLexMessage,messageAddress){if(currentLogCallback){let message=UTF8ToString(messageAddress);currentLogCallback(message,isLexMessage!==0)}}function _tree_sitter_parse_callback(inputBufferAddress,index,row,column,lengthAddress){let INPUT_BUFFER_SIZE=10*1024,string=currentParseCallback(index,{row,column});typeof string==`string`?(setValue(lengthAddress,string.length,`i32`),stringToUTF16(string,inputBufferAddress,10240)):setValue(lengthAddress,0,`i32`)}var runtimeKeepaliveCounter=0,keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0,_proc_exit=code=>{EXITSTATUS=code,keepRuntimeAlive()||(Module.onExit?.(code),ABORT=!0),quit_(code,new ExitStatus(code))};_proc_exit.sig=`vi`;var exitJS=(status,implicit)=>{EXITSTATUS=status,_proc_exit(status)},handleException=e=>{if(e instanceof ExitStatus||e==`unwind`)return EXITSTATUS;quit_(1,e)},lengthBytesUTF8=str=>{for(var len=0,i=0;i<str.length;++i){var c=str.charCodeAt(i);c<=127?len++:c<=2047?len+=2:c>=55296&&c<=57343?(len+=4,++i):len+=3}return len},stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(!(maxBytesToWrite>0))return 0;for(var startIdx=outIdx,endIdx=outIdx+maxBytesToWrite-1,i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6,heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12,heap[outIdx++]=128|u>>6&63,heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18,heap[outIdx++]=128|u>>12&63,heap[outIdx++]=128|u>>6&63,heap[outIdx++]=128|u&63}}return heap[outIdx]=0,outIdx-startIdx},stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite),stackAlloc=sz=>__emscripten_stack_alloc(sz),stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1,ret=stackAlloc(size);return stringToUTF8(str,ret,size),ret},stringToUTF16=(str,outPtr,maxBytesToWrite)=>{if(maxBytesToWrite??=2147483647,maxBytesToWrite<2)return 0;maxBytesToWrite-=2;for(var startPtr=outPtr,numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length,i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);LE_HEAP_STORE_I16((outPtr>>1)*2,codeUnit),outPtr+=2}return LE_HEAP_STORE_I16((outPtr>>1)*2,0),outPtr-startPtr},AsciiToString=ptr=>{for(var str=``;;){var ch=HEAPU8[ptr++];if(!ch)return str;str+=String.fromCharCode(ch)}},wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_abort_js:__abort_js,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,_emscripten_memcpy_js:__emscripten_memcpy_js,emscripten_get_now:_emscripten_get_now,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},wasmExports=createWasm(),___wasm_call_ctors=()=>(___wasm_call_ctors=wasmExports.__wasm_call_ctors)(),___wasm_apply_data_relocs=()=>(___wasm_apply_data_relocs=wasmExports.__wasm_apply_data_relocs)(),_malloc=Module._malloc=a0=>(_malloc=Module._malloc=wasmExports.malloc)(a0),_calloc=Module._calloc=(a0,a1)=>(_calloc=Module._calloc=wasmExports.calloc)(a0,a1),_realloc=Module._realloc=(a0,a1)=>(_realloc=Module._realloc=wasmExports.realloc)(a0,a1),_free=Module._free=a0=>(_free=Module._free=wasmExports.free)(a0),_ts_language_symbol_count=Module._ts_language_symbol_count=a0=>(_ts_language_symbol_count=Module._ts_language_symbol_count=wasmExports.ts_language_symbol_count)(a0),_ts_language_state_count=Module._ts_language_state_count=a0=>(_ts_language_state_count=Module._ts_language_state_count=wasmExports.ts_language_state_count)(a0),_ts_language_version=Module._ts_language_version=a0=>(_ts_language_version=Module._ts_language_version=wasmExports.ts_language_version)(a0),_ts_language_field_count=Module._ts_language_field_count=a0=>(_ts_language_field_count=Module._ts_language_field_count=wasmExports.ts_language_field_count)(a0),_ts_language_next_state=Module._ts_language_next_state=(a0,a1,a2)=>(_ts_language_next_state=Module._ts_language_next_state=wasmExports.ts_language_next_state)(a0,a1,a2),_ts_language_symbol_name=Module._ts_language_symbol_name=(a0,a1)=>(_ts_language_symbol_name=Module._ts_language_symbol_name=wasmExports.ts_language_symbol_name)(a0,a1),_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=(a0,a1,a2,a3)=>(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=wasmExports.ts_language_symbol_for_name)(a0,a1,a2,a3),_strncmp=Module._strncmp=(a0,a1,a2)=>(_strncmp=Module._strncmp=wasmExports.strncmp)(a0,a1,a2),_ts_language_symbol_type=Module._ts_language_symbol_type=(a0,a1)=>(_ts_language_symbol_type=Module._ts_language_symbol_type=wasmExports.ts_language_symbol_type)(a0,a1),_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=(a0,a1)=>(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=wasmExports.ts_language_field_name_for_id)(a0,a1),_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=(a0,a1)=>(_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=wasmExports.ts_lookahead_iterator_new)(a0,a1),_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=a0=>(_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=wasmExports.ts_lookahead_iterator_delete)(a0),_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=(a0,a1)=>(_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=wasmExports.ts_lookahead_iterator_reset_state)(a0,a1),_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=(a0,a1,a2)=>(_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=wasmExports.ts_lookahead_iterator_reset)(a0,a1,a2),_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=a0=>(_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=wasmExports.ts_lookahead_iterator_next)(a0),_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=a0=>(_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=wasmExports.ts_lookahead_iterator_current_symbol)(a0),_memset=Module._memset=(a0,a1,a2)=>(_memset=Module._memset=wasmExports.memset)(a0,a1,a2),_memcpy=Module._memcpy=(a0,a1,a2)=>(_memcpy=Module._memcpy=wasmExports.memcpy)(a0,a1,a2),_ts_parser_delete=Module._ts_parser_delete=a0=>(_ts_parser_delete=Module._ts_parser_delete=wasmExports.ts_parser_delete)(a0),_ts_parser_reset=Module._ts_parser_reset=a0=>(_ts_parser_reset=Module._ts_parser_reset=wasmExports.ts_parser_reset)(a0),_ts_parser_set_language=Module._ts_parser_set_language=(a0,a1)=>(_ts_parser_set_language=Module._ts_parser_set_language=wasmExports.ts_parser_set_language)(a0,a1),_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=a0=>(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=wasmExports.ts_parser_timeout_micros)(a0),_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=(a0,a1,a2)=>(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=wasmExports.ts_parser_set_timeout_micros)(a0,a1,a2),_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=(a0,a1,a2)=>(_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=wasmExports.ts_parser_set_included_ranges)(a0,a1,a2),_memmove=Module._memmove=(a0,a1,a2)=>(_memmove=Module._memmove=wasmExports.memmove)(a0,a1,a2),_memcmp=Module._memcmp=(a0,a1,a2)=>(_memcmp=Module._memcmp=wasmExports.memcmp)(a0,a1,a2),_ts_query_new=Module._ts_query_new=(a0,a1,a2,a3,a4)=>(_ts_query_new=Module._ts_query_new=wasmExports.ts_query_new)(a0,a1,a2,a3,a4),_ts_query_delete=Module._ts_query_delete=a0=>(_ts_query_delete=Module._ts_query_delete=wasmExports.ts_query_delete)(a0),_iswspace=Module._iswspace=a0=>(_iswspace=Module._iswspace=wasmExports.iswspace)(a0),_iswalnum=Module._iswalnum=a0=>(_iswalnum=Module._iswalnum=wasmExports.iswalnum)(a0),_ts_query_pattern_count=Module._ts_query_pattern_count=a0=>(_ts_query_pattern_count=Module._ts_query_pattern_count=wasmExports.ts_query_pattern_count)(a0),_ts_query_capture_count=Module._ts_query_capture_count=a0=>(_ts_query_capture_count=Module._ts_query_capture_count=wasmExports.ts_query_capture_count)(a0),_ts_query_string_count=Module._ts_query_string_count=a0=>(_ts_query_string_count=Module._ts_query_string_count=wasmExports.ts_query_string_count)(a0),_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=(a0,a1,a2)=>(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=wasmExports.ts_query_capture_name_for_id)(a0,a1,a2),_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=(a0,a1,a2)=>(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=wasmExports.ts_query_string_value_for_id)(a0,a1,a2),_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=(a0,a1,a2)=>(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=wasmExports.ts_query_predicates_for_pattern)(a0,a1,a2),_ts_query_disable_capture=Module._ts_query_disable_capture=(a0,a1,a2)=>(_ts_query_disable_capture=Module._ts_query_disable_capture=wasmExports.ts_query_disable_capture)(a0,a1,a2),_ts_tree_copy=Module._ts_tree_copy=a0=>(_ts_tree_copy=Module._ts_tree_copy=wasmExports.ts_tree_copy)(a0),_ts_tree_delete=Module._ts_tree_delete=a0=>(_ts_tree_delete=Module._ts_tree_delete=wasmExports.ts_tree_delete)(a0),_ts_init=Module._ts_init=()=>(_ts_init=Module._ts_init=wasmExports.ts_init)(),_ts_parser_new_wasm=Module._ts_parser_new_wasm=()=>(_ts_parser_new_wasm=Module._ts_parser_new_wasm=wasmExports.ts_parser_new_wasm)(),_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=(a0,a1)=>(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=wasmExports.ts_parser_enable_logger_wasm)(a0,a1),_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=(a0,a1,a2,a3,a4)=>(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=wasmExports.ts_parser_parse_wasm)(a0,a1,a2,a3,a4),_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=a0=>(_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=wasmExports.ts_parser_included_ranges_wasm)(a0),_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=(a0,a1)=>(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=wasmExports.ts_language_type_is_named_wasm)(a0,a1),_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=(a0,a1)=>(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=wasmExports.ts_language_type_is_visible_wasm)(a0,a1),_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=a0=>(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=wasmExports.ts_tree_root_node_wasm)(a0),_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=a0=>(_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=wasmExports.ts_tree_root_node_with_offset_wasm)(a0),_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=a0=>(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=wasmExports.ts_tree_edit_wasm)(a0),_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=a0=>(_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=wasmExports.ts_tree_included_ranges_wasm)(a0),_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=(a0,a1)=>(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=wasmExports.ts_tree_get_changed_ranges_wasm)(a0,a1),_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=a0=>(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=wasmExports.ts_tree_cursor_new_wasm)(a0),_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=a0=>(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=wasmExports.ts_tree_cursor_delete_wasm)(a0),_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=a0=>(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=wasmExports.ts_tree_cursor_reset_wasm)(a0),_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=(a0,a1)=>(_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=wasmExports.ts_tree_cursor_reset_to_wasm)(a0,a1),_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=a0=>(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=wasmExports.ts_tree_cursor_goto_first_child_wasm)(a0),_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=a0=>(_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=wasmExports.ts_tree_cursor_goto_last_child_wasm)(a0),_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=a0=>(_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_index_wasm)(a0),_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=a0=>(_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_position_wasm)(a0),_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=a0=>(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=wasmExports.ts_tree_cursor_goto_next_sibling_wasm)(a0),_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=a0=>(_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=wasmExports.ts_tree_cursor_goto_previous_sibling_wasm)(a0),_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=(a0,a1)=>(_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=wasmExports.ts_tree_cursor_goto_descendant_wasm)(a0,a1),_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=a0=>(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=wasmExports.ts_tree_cursor_goto_parent_wasm)(a0),_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=a0=>(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=wasmExports.ts_tree_cursor_current_node_type_id_wasm)(a0),_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=a0=>(_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=wasmExports.ts_tree_cursor_current_node_state_id_wasm)(a0),_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=a0=>(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=wasmExports.ts_tree_cursor_current_node_is_named_wasm)(a0),_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=a0=>(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=wasmExports.ts_tree_cursor_current_node_is_missing_wasm)(a0),_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=a0=>(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=wasmExports.ts_tree_cursor_current_node_id_wasm)(a0),_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=a0=>(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=wasmExports.ts_tree_cursor_start_position_wasm)(a0),_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=a0=>(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=wasmExports.ts_tree_cursor_end_position_wasm)(a0),_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=a0=>(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=wasmExports.ts_tree_cursor_start_index_wasm)(a0),_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=a0=>(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=wasmExports.ts_tree_cursor_end_index_wasm)(a0),_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=a0=>(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=wasmExports.ts_tree_cursor_current_field_id_wasm)(a0),_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=a0=>(_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=wasmExports.ts_tree_cursor_current_depth_wasm)(a0),_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=a0=>(_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=wasmExports.ts_tree_cursor_current_descendant_index_wasm)(a0),_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=a0=>(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=wasmExports.ts_tree_cursor_current_node_wasm)(a0),_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=a0=>(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=wasmExports.ts_node_symbol_wasm)(a0),_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=(a0,a1)=>(_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=wasmExports.ts_node_field_name_for_child_wasm)(a0,a1),_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=(a0,a1)=>(_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=wasmExports.ts_node_children_by_field_id_wasm)(a0,a1),_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=a0=>(_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=wasmExports.ts_node_first_child_for_byte_wasm)(a0),_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=a0=>(_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=wasmExports.ts_node_first_named_child_for_byte_wasm)(a0),_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=a0=>(_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=wasmExports.ts_node_grammar_symbol_wasm)(a0),_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=a0=>(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=wasmExports.ts_node_child_count_wasm)(a0),_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=a0=>(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=wasmExports.ts_node_named_child_count_wasm)(a0),_ts_node_child_wasm=Module._ts_node_child_wasm=(a0,a1)=>(_ts_node_child_wasm=Module._ts_node_child_wasm=wasmExports.ts_node_child_wasm)(a0,a1),_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=(a0,a1)=>(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=wasmExports.ts_node_named_child_wasm)(a0,a1),_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=(a0,a1)=>(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=wasmExports.ts_node_child_by_field_id_wasm)(a0,a1),_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=a0=>(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=wasmExports.ts_node_next_sibling_wasm)(a0),_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=a0=>(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=wasmExports.ts_node_prev_sibling_wasm)(a0),_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=a0=>(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=wasmExports.ts_node_next_named_sibling_wasm)(a0),_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=a0=>(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=wasmExports.ts_node_prev_named_sibling_wasm)(a0),_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=a0=>(_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=wasmExports.ts_node_descendant_count_wasm)(a0),_ts_node_parent_wasm=Module._ts_node_parent_wasm=a0=>(_ts_node_parent_wasm=Module._ts_node_parent_wasm=wasmExports.ts_node_parent_wasm)(a0),_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=a0=>(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=wasmExports.ts_node_descendant_for_index_wasm)(a0),_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=a0=>(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=wasmExports.ts_node_named_descendant_for_index_wasm)(a0),_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=a0=>(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=wasmExports.ts_node_descendant_for_position_wasm)(a0),_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=a0=>(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=wasmExports.ts_node_named_descendant_for_position_wasm)(a0),_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=a0=>(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=wasmExports.ts_node_start_point_wasm)(a0),_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=a0=>(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=wasmExports.ts_node_end_point_wasm)(a0),_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=a0=>(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=wasmExports.ts_node_start_index_wasm)(a0),_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=a0=>(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=wasmExports.ts_node_end_index_wasm)(a0),_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=a0=>(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=wasmExports.ts_node_to_string_wasm)(a0),_ts_node_children_wasm=Module._ts_node_children_wasm=a0=>(_ts_node_children_wasm=Module._ts_node_children_wasm=wasmExports.ts_node_children_wasm)(a0),_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=a0=>(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=wasmExports.ts_node_named_children_wasm)(a0),_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=(a0,a1,a2,a3,a4,a5,a6)=>(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=wasmExports.ts_node_descendants_of_type_wasm)(a0,a1,a2,a3,a4,a5,a6),_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=a0=>(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=wasmExports.ts_node_is_named_wasm)(a0),_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=a0=>(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=wasmExports.ts_node_has_changes_wasm)(a0),_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=a0=>(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=wasmExports.ts_node_has_error_wasm)(a0),_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=a0=>(_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=wasmExports.ts_node_is_error_wasm)(a0),_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=a0=>(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=wasmExports.ts_node_is_missing_wasm)(a0),_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=a0=>(_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=wasmExports.ts_node_is_extra_wasm)(a0),_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=a0=>(_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=wasmExports.ts_node_parse_state_wasm)(a0),_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=a0=>(_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=wasmExports.ts_node_next_parse_state_wasm)(a0),_ts_query_matches_wasm=Module._ts_query_matches_wasm=(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)=>(_ts_query_matches_wasm=Module._ts_query_matches_wasm=wasmExports.ts_query_matches_wasm)(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10),_ts_query_captures_wasm=Module._ts_query_captures_wasm=(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)=>(_ts_query_captures_wasm=Module._ts_query_captures_wasm=wasmExports.ts_query_captures_wasm)(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10),_iswalpha=Module._iswalpha=a0=>(_iswalpha=Module._iswalpha=wasmExports.iswalpha)(a0),_iswblank=Module._iswblank=a0=>(_iswblank=Module._iswblank=wasmExports.iswblank)(a0),_iswdigit=Module._iswdigit=a0=>(_iswdigit=Module._iswdigit=wasmExports.iswdigit)(a0),_iswlower=Module._iswlower=a0=>(_iswlower=Module._iswlower=wasmExports.iswlower)(a0),_iswupper=Module._iswupper=a0=>(_iswupper=Module._iswupper=wasmExports.iswupper)(a0),_iswxdigit=Module._iswxdigit=a0=>(_iswxdigit=Module._iswxdigit=wasmExports.iswxdigit)(a0),_memchr=Module._memchr=(a0,a1,a2)=>(_memchr=Module._memchr=wasmExports.memchr)(a0,a1,a2),_strlen=Module._strlen=a0=>(_strlen=Module._strlen=wasmExports.strlen)(a0),_strcmp=Module._strcmp=(a0,a1)=>(_strcmp=Module._strcmp=wasmExports.strcmp)(a0,a1),_strncat=Module._strncat=(a0,a1,a2)=>(_strncat=Module._strncat=wasmExports.strncat)(a0,a1,a2),_strncpy=Module._strncpy=(a0,a1,a2)=>(_strncpy=Module._strncpy=wasmExports.strncpy)(a0,a1,a2),_towlower=Module._towlower=a0=>(_towlower=Module._towlower=wasmExports.towlower)(a0),_towupper=Module._towupper=a0=>(_towupper=Module._towupper=wasmExports.towupper)(a0),_setThrew=(a0,a1)=>(_setThrew=wasmExports.setThrew)(a0,a1),__emscripten_stack_restore=a0=>(__emscripten_stack_restore=wasmExports._emscripten_stack_restore)(a0),__emscripten_stack_alloc=a0=>(__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc)(a0),_emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)(),dynCall_jiji=Module.dynCall_jiji=(a0,a1,a2,a3,a4)=>(dynCall_jiji=Module.dynCall_jiji=wasmExports.dynCall_jiji)(a0,a1,a2,a3,a4),_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=a0=>(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=wasmExports.orig$ts_parser_timeout_micros)(a0),_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=(a0,a1)=>(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=wasmExports.orig$ts_parser_set_timeout_micros)(a0,a1);Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16;var calledRun;dependenciesFulfilled=function runCaller(){calledRun||run(),calledRun||(dependenciesFulfilled=runCaller)};function callMain(args=[]){var entryFunction=resolveGlobalSymbol(`main`).sym;if(entryFunction){args.unshift(thisProgram);var argc=args.length,argv=stackAlloc((argc+1)*4),argv_ptr=argv;args.forEach(arg=>{LE_HEAP_STORE_U32((argv_ptr>>2)*4,stringToUTF8OnStack(arg)),argv_ptr+=4}),LE_HEAP_STORE_U32((argv_ptr>>2)*4,0);try{var ret=entryFunction(argc,argv);return exitJS(ret,!0),ret}catch(e){return handleException(e)}}}function run(args=arguments_){if(runDependencies>0||(preRun(),runDependencies>0))return;function doRun(){calledRun||(calledRun=!0,Module.calledRun=!0,!ABORT&&(initRuntime(),preMain(),Module.onRuntimeInitialized?.(),shouldRunNow&&callMain(args),postRun()))}Module.setStatus?(Module.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){Module.setStatus(``)},1),doRun()},1)):doRun()}if(Module.preInit)for(typeof Module.preInit==`function`&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_CURSOR=16,SIZE_OF_NODE=20,SIZE_OF_POINT=8,SIZE_OF_RANGE=24,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;let VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,`i32`),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+4,`i32`)}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,`i32`),this[1]=getValue(TRANSFER_BUFFER+4,`i32`)}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(language){let address;if(!language)address=0,language=null;else if(language.constructor===Language){address=language[0];let version=C._ts_language_version(address);if(version<MIN_COMPATIBLE_VERSION||VERSION<version)throw Error(`Incompatible language version ${version}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}else throw Error(`Argument must be a Language`);return this.language=language,C._ts_parser_set_language(this[0],address),this}getLanguage(){return this.language}parse(callback,oldTree,options){if(typeof callback==`string`)currentParseCallback=(index,_)=>callback.slice(index);else if(typeof callback==`function`)currentParseCallback=callback;else throw Error(`Argument must be a string or a function`);this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let rangeCount=0,rangeAddress=0;if(options?.includedRanges){rangeCount=options.includedRanges.length,rangeAddress=C._calloc(rangeCount,24);let address=rangeAddress;for(let i=0;i<rangeCount;i++)marshalRange(address,options.includedRanges[i]),address+=24}let treeAddress=C._ts_parser_parse_wasm(this[0],this[1],oldTree?oldTree[0]:0,rangeAddress,rangeCount);if(!treeAddress)throw currentParseCallback=null,currentLogCallback=null,Error(`Parsing failed`);let result=new Tree(INTERNAL,treeAddress,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,result}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);let count=getValue(TRANSFER_BUFFER,`i32`),buffer=getValue(TRANSFER_BUFFER+4,`i32`),result=Array(count);if(count>0){let address=buffer;for(let i=0;i<count;i++)result[i]=unmarshalRange(address),address+=24;C._free(buffer)}return result}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setTimeoutMicros(timeout){C._ts_parser_set_timeout_micros(this[0],timeout)}setLogger(callback){if(!callback)callback=null;else if(typeof callback!=`function`)throw Error(`Logger callback must be a function`);return this.logCallback=callback,this}getLogger(){return this.logCallback}}class Tree{constructor(internal,address,language,textCallback){assertInternal(internal),this[0]=address,this.language=language,this.textCallback=textCallback}copy(){return new Tree(INTERNAL,C._ts_tree_copy(this[0]),this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(edit){marshalEdit(edit),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(offsetBytes,offsetExtent){let address=TRANSFER_BUFFER+20;return setValue(address,offsetBytes,`i32`),marshalPoint(address+4,offsetExtent),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(other){if(other.constructor!==Tree)throw TypeError(`Argument must be a Tree`);C._ts_tree_get_changed_ranges_wasm(this[0],other[0]);let count=getValue(TRANSFER_BUFFER,`i32`),buffer=getValue(TRANSFER_BUFFER+4,`i32`),result=Array(count);if(count>0){let address=buffer;for(let i=0;i<count;i++)result[i]=unmarshalRange(address),address+=24;C._free(buffer)}return result}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);let count=getValue(TRANSFER_BUFFER,`i32`),buffer=getValue(TRANSFER_BUFFER+4,`i32`),result=Array(count);if(count>0){let address=buffer;for(let i=0;i<count;i++)result[i]=unmarshalRange(address),address+=24;C._free(buffer)}return result}}class Node{constructor(internal,tree){assertInternal(internal),this.tree=tree}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||`ERROR`}get grammarType(){return this.tree.language.types[this.grammarId]||`ERROR`}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}get isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}get hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}get hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}get isError(){return marshalNode(this),C._ts_node_is_error_wasm(this.tree[0])===1}get isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}get isExtra(){return marshalNode(this),C._ts_node_is_extra_wasm(this.tree[0])===1}equals(other){return this.id===other.id}child(index){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],index),unmarshalNode(this.tree)}namedChild(index){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],index),unmarshalNode(this.tree)}childForFieldId(fieldId){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],fieldId),unmarshalNode(this.tree)}childForFieldName(fieldName){let fieldId=this.tree.language.fields.indexOf(fieldName);return fieldId===-1?null:this.childForFieldId(fieldId)}fieldNameForChild(index){marshalNode(this);let address=C._ts_node_field_name_for_child_wasm(this.tree[0],index);return address?AsciiToString(address):null}childrenForFieldName(fieldName){let fieldId=this.tree.language.fields.indexOf(fieldName);return fieldId!==-1&&fieldId!==0?this.childrenForFieldId(fieldId):[]}childrenForFieldId(fieldId){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],fieldId);let count=getValue(TRANSFER_BUFFER,`i32`),buffer=getValue(TRANSFER_BUFFER+4,`i32`),result=Array(count);if(count>0){let address=buffer;for(let i=0;i<count;i++)result[i]=unmarshalNode(this.tree,address),address+=20;C._free(buffer)}return result}firstChildForIndex(index){return marshalNode(this),setValue(TRANSFER_BUFFER+20,index,`i32`),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(index){return marshalNode(this),setValue(TRANSFER_BUFFER+20,index,`i32`),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let count=getValue(TRANSFER_BUFFER,`i32`),buffer=getValue(TRANSFER_BUFFER+4,`i32`);if(this._children=Array(count),count>0){let address=buffer;for(let i=0;i<count;i++)this._children[i]=unmarshalNode(this.tree,address),address+=20;C._free(buffer)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let count=getValue(TRANSFER_BUFFER,`i32`),buffer=getValue(TRANSFER_BUFFER+4,`i32`);if(this._namedChildren=Array(count),count>0){let address=buffer;for(let i=0;i<count;i++)this._namedChildren[i]=unmarshalNode(this.tree,address),address+=20;C._free(buffer)}}return this._namedChildren}descendantsOfType(types,startPosition,endPosition){Array.isArray(types)||(types=[types]),startPosition||=ZERO_POINT,endPosition||=ZERO_POINT;let symbols=[],typesBySymbol=this.tree.language.types;for(let i=0,n=typesBySymbol.length;i<n;i++)types.includes(typesBySymbol[i])&&symbols.push(i);let symbolsAddress=C._malloc(4*symbols.length);for(let i=0,n=symbols.length;i<n;i++)setValue(symbolsAddress+i*4,symbols[i],`i32`);marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],symbolsAddress,symbols.length,startPosition.row,startPosition.column,endPosition.row,endPosition.column);let descendantCount=getValue(TRANSFER_BUFFER,`i32`),descendantAddress=getValue(TRANSFER_BUFFER+4,`i32`),result=Array(descendantCount);if(descendantCount>0){let address=descendantAddress;for(let i=0;i<descendantCount;i++)result[i]=unmarshalNode(this.tree,address),address+=20}return C._free(descendantAddress),C._free(symbolsAddress),result}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(start,end=start){if(typeof start!=`number`||typeof end!=`number`)throw Error(`Arguments must be numbers`);marshalNode(this);let address=TRANSFER_BUFFER+20;return setValue(address,start,`i32`),setValue(address+4,end,`i32`),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(start,end=start){if(typeof start!=`number`||typeof end!=`number`)throw Error(`Arguments must be numbers`);marshalNode(this);let address=TRANSFER_BUFFER+20;return setValue(address,start,`i32`),setValue(address+4,end,`i32`),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(start,end=start){if(!isPoint(start)||!isPoint(end))throw Error(`Arguments must be {row, column} objects`);marshalNode(this);let address=TRANSFER_BUFFER+20;return marshalPoint(address,start),marshalPoint(address+8,end),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(start,end=start){if(!isPoint(start)||!isPoint(end))throw Error(`Arguments must be {row, column} objects`);marshalNode(this);let address=TRANSFER_BUFFER+20;return marshalPoint(address,start),marshalPoint(address+8,end),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let address=C._ts_node_to_string_wasm(this.tree[0]),result=AsciiToString(address);return C._free(address),result}}class TreeCursor{constructor(internal,tree){assertInternal(internal),this.tree=tree,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(node){marshalNode(node),marshalTreeCursor(this,TRANSFER_BUFFER+20),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(cursor){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(cursor,TRANSFER_BUFFER+16),C._ts_tree_cursor_reset_to_wasm(this.tree[0],cursor.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||`ERROR`}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let startIndex=C._ts_tree_cursor_start_index_wasm(this.tree[0]),endIndex=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,startIndex,endIndex)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);let result=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),result===1}gotoLastChild(){marshalTreeCursor(this);let result=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),result===1}gotoFirstChildForIndex(goalIndex){marshalTreeCursor(this),setValue(TRANSFER_BUFFER+16,goalIndex,`i32`);let result=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),result===1}gotoFirstChildForPosition(goalPosition){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+16,goalPosition);let result=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),result===1}gotoNextSibling(){marshalTreeCursor(this);let result=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),result===1}gotoPreviousSibling(){marshalTreeCursor(this);let result=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),result===1}gotoDescendant(goalDescendantindex){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],goalDescendantindex),unmarshalTreeCursor(this)}gotoParent(){marshalTreeCursor(this);let result=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),result===1}}class Language{constructor(internal,address){assertInternal(internal),this[0]=address,this.types=Array(C._ts_language_symbol_count(this[0]));for(let i=0,n=this.types.length;i<n;i++)C._ts_language_symbol_type(this[0],i)<2&&(this.types[i]=UTF8ToString(C._ts_language_symbol_name(this[0],i)));this.fields=Array(C._ts_language_field_count(this[0])+1);for(let i=0,n=this.fields.length;i<n;i++){let fieldName=C._ts_language_field_name_for_id(this[0],i);fieldName===0?this.fields[i]=null:this.fields[i]=UTF8ToString(fieldName)}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(fieldName){let result=this.fields.indexOf(fieldName);return result===-1?null:result}fieldNameForId(fieldId){return this.fields[fieldId]||null}idForNodeType(type,named){let typeLength=lengthBytesUTF8(type),typeAddress=C._malloc(typeLength+1);stringToUTF8(type,typeAddress,typeLength+1);let result=C._ts_language_symbol_for_name(this[0],typeAddress,typeLength,named);return C._free(typeAddress),result||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(typeId){let name=C._ts_language_symbol_name(this[0],typeId);return name?UTF8ToString(name):null}nodeTypeIsNamed(typeId){return!!C._ts_language_type_is_named_wasm(this[0],typeId)}nodeTypeIsVisible(typeId){return!!C._ts_language_type_is_visible_wasm(this[0],typeId)}nextState(stateId,typeId){return C._ts_language_next_state(this[0],stateId,typeId)}lookaheadIterator(stateId){let address=C._ts_lookahead_iterator_new(this[0],stateId);return address?new LookaheadIterable(INTERNAL,address,this):null}query(source){let sourceLength=lengthBytesUTF8(source),sourceAddress=C._malloc(sourceLength+1);stringToUTF8(source,sourceAddress,sourceLength+1);let address=C._ts_query_new(this[0],sourceAddress,sourceLength,TRANSFER_BUFFER,TRANSFER_BUFFER+4);if(!address){let errorId=getValue(TRANSFER_BUFFER+4,`i32`),errorIndex=UTF8ToString(sourceAddress,getValue(TRANSFER_BUFFER,`i32`)).length,suffix=source.substr(errorIndex,100).split(`
`)[0],word=suffix.match(QUERY_WORD_REGEX)[0],error;switch(errorId){case 2:error=RangeError(`Bad node name '${word}'`);break;case 3:error=RangeError(`Bad field name '${word}'`);break;case 4:error=RangeError(`Bad capture name @${word}`);break;case 5:error=TypeError(`Bad pattern structure at offset ${errorIndex}: '${suffix}'...`),word=``;break;default:error=SyntaxError(`Bad syntax at offset ${errorIndex}: '${suffix}'...`),word=``;break}throw error.index=errorIndex,error.length=word.length,C._free(sourceAddress),error}let stringCount=C._ts_query_string_count(address),captureCount=C._ts_query_capture_count(address),patternCount=C._ts_query_pattern_count(address),captureNames=Array(captureCount),stringValues=Array(stringCount);for(let i=0;i<captureCount;i++)captureNames[i]=UTF8ToString(C._ts_query_capture_name_for_id(address,i,TRANSFER_BUFFER),getValue(TRANSFER_BUFFER,`i32`));for(let i=0;i<stringCount;i++)stringValues[i]=UTF8ToString(C._ts_query_string_value_for_id(address,i,TRANSFER_BUFFER),getValue(TRANSFER_BUFFER,`i32`));let setProperties=Array(patternCount),assertedProperties=Array(patternCount),refutedProperties=Array(patternCount),predicates=Array(patternCount),textPredicates=Array(patternCount);for(let i=0;i<patternCount;i++){let predicatesAddress=C._ts_query_predicates_for_pattern(address,i,TRANSFER_BUFFER),stepCount=getValue(TRANSFER_BUFFER,`i32`);predicates[i]=[],textPredicates[i]=[];let steps=[],stepAddress=predicatesAddress;for(let j=0;j<stepCount;j++){let stepType=getValue(stepAddress,`i32`);stepAddress+=4;let stepValueId=getValue(stepAddress,`i32`);if(stepAddress+=4,stepType===1)steps.push({type:`capture`,name:captureNames[stepValueId]});else if(stepType===2)steps.push({type:`string`,value:stringValues[stepValueId]});else if(steps.length>0){if(steps[0].type!==`string`)throw Error(`Predicates must begin with a literal value`);let operator=steps[0].value,isPositive=!0,matchAll=!0,captureName;switch(operator){case`any-not-eq?`:case`not-eq?`:isPositive=!1;case`any-eq?`:case`eq?`:if(steps.length!==3)throw Error(`Wrong number of arguments to \`#${operator}\` predicate. Expected 2, got ${steps.length-1}`);if(steps[1].type!==`capture`)throw Error(`First argument of \`#${operator}\` predicate must be a capture. Got "${steps[1].value}"`);if(matchAll=!operator.startsWith(`any-`),steps[2].type===`capture`){let captureName1=steps[1].name,captureName2=steps[2].name;textPredicates[i].push(captures=>{let nodes1=[],nodes2=[];for(let c of captures)c.name===captureName1&&nodes1.push(c.node),c.name===captureName2&&nodes2.push(c.node);let compare=(n1,n2,positive)=>positive?n1.text===n2.text:n1.text!==n2.text;return matchAll?nodes1.every(n1=>nodes2.some(n2=>compare(n1,n2,isPositive))):nodes1.some(n1=>nodes2.some(n2=>compare(n1,n2,isPositive)))})}else{captureName=steps[1].name;let stringValue=steps[2].value,matches=n=>n.text===stringValue,doesNotMatch=n=>n.text!==stringValue;textPredicates[i].push(captures=>{let nodes=[];for(let c of captures)c.name===captureName&&nodes.push(c.node);let test=isPositive?matches:doesNotMatch;return matchAll?nodes.every(test):nodes.some(test)})}break;case`any-not-match?`:case`not-match?`:isPositive=!1;case`any-match?`:case`match?`:if(steps.length!==3)throw Error(`Wrong number of arguments to \`#${operator}\` predicate. Expected 2, got ${steps.length-1}.`);if(steps[1].type!==`capture`)throw Error(`First argument of \`#${operator}\` predicate must be a capture. Got "${steps[1].value}".`);if(steps[2].type!==`string`)throw Error(`Second argument of \`#${operator}\` predicate must be a string. Got @${steps[2].value}.`);captureName=steps[1].name;let regex=new RegExp(steps[2].value);matchAll=!operator.startsWith(`any-`),textPredicates[i].push(captures=>{let nodes=[];for(let c of captures)c.name===captureName&&nodes.push(c.node.text);let test=(text,positive)=>positive?regex.test(text):!regex.test(text);return nodes.length===0?!isPositive:matchAll?nodes.every(text=>test(text,isPositive)):nodes.some(text=>test(text,isPositive))});break;case`set!`:if(steps.length<2||steps.length>3)throw Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${steps.length-1}.`);if(steps.some(s=>s.type!==`string`))throw Error('Arguments to `#set!` predicate must be a strings.".');setProperties[i]||(setProperties[i]={}),setProperties[i][steps[1].value]=steps[2]?steps[2].value:null;break;case`is?`:case`is-not?`:if(steps.length<2||steps.length>3)throw Error(`Wrong number of arguments to \`#${operator}\` predicate. Expected 1 or 2. Got ${steps.length-1}.`);if(steps.some(s=>s.type!==`string`))throw Error(`Arguments to \`#${operator}\` predicate must be a strings.".`);let properties=operator===`is?`?assertedProperties:refutedProperties;properties[i]||(properties[i]={}),properties[i][steps[1].value]=steps[2]?steps[2].value:null;break;case`not-any-of?`:isPositive=!1;case`any-of?`:if(steps.length<2)throw Error(`Wrong number of arguments to \`#${operator}\` predicate. Expected at least 1. Got ${steps.length-1}.`);if(steps[1].type!==`capture`)throw Error(`First argument of \`#${operator}\` predicate must be a capture. Got "${steps[1].value}".`);for(let i$1=2;i$1<steps.length;i$1++)if(steps[i$1].type!==`string`)throw Error(`Arguments to \`#${operator}\` predicate must be a strings.".`);captureName=steps[1].name;let values=steps.slice(2).map(s=>s.value);textPredicates[i].push(captures=>{let nodes=[];for(let c of captures)c.name===captureName&&nodes.push(c.node.text);return nodes.length===0?!isPositive:nodes.every(text=>values.includes(text))===isPositive});break;default:predicates[i].push({operator,operands:steps.slice(1)})}steps.length=0}}Object.freeze(setProperties[i]),Object.freeze(assertedProperties[i]),Object.freeze(refutedProperties[i])}return C._free(sourceAddress),new Query(INTERNAL,address,captureNames,textPredicates,predicates,Object.freeze(setProperties),Object.freeze(assertedProperties),Object.freeze(refutedProperties))}static load(input){let bytes;if(input instanceof Uint8Array)bytes=Promise.resolve(input);else{let url=input;if(typeof process<`u`&&process.versions&&process.versions.node){let fs$1=(init_empty(),__toCommonJS(empty_exports));bytes=Promise.resolve(fs$1.readFileSync(url))}else bytes=fetch(url).then(response=>response.arrayBuffer().then(buffer=>{if(response.ok)return new Uint8Array(buffer);{let body=new TextDecoder(`utf-8`).decode(buffer);throw Error(`Language.load failed with status ${response.status}.\n\n${body}`)}}))}return bytes.then(bytes$1=>loadWebAssemblyModule(bytes$1,{loadAsync:!0})).then(mod=>{let symbolNames=Object.keys(mod),functionName=symbolNames.find(key=>LANGUAGE_FUNCTION_REGEX.test(key)&&!key.includes(`external_scanner_`));return functionName||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(symbolNames,null,2)}`),new Language(INTERNAL,mod[functionName]())})}}class LookaheadIterable{constructor(internal,address,language){assertInternal(internal),this[0]=address,this.language=language}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||`ERROR`}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}resetState(stateId){return C._ts_lookahead_iterator_reset_state(this[0],stateId)}reset(language,stateId){return C._ts_lookahead_iterator_reset(this[0],language[0],stateId)?(this.language=language,!0):!1}[Symbol.iterator](){let self$1=this;return{next(){return C._ts_lookahead_iterator_next(self$1[0])?{done:!1,value:self$1.currentType}:{done:!0,value:``}}}}}class Query{constructor(internal,address,captureNames,textPredicates,predicates,setProperties,assertedProperties,refutedProperties){assertInternal(internal),this[0]=address,this.captureNames=captureNames,this.textPredicates=textPredicates,this.predicates=predicates,this.setProperties=setProperties,this.assertedProperties=assertedProperties,this.refutedProperties=refutedProperties,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(node,{startPosition=ZERO_POINT,endPosition=ZERO_POINT,startIndex=0,endIndex=0,matchLimit=4294967295,maxStartDepth=4294967295,timeoutMicros=0}={}){if(typeof matchLimit!=`number`)throw Error(`Arguments must be numbers`);marshalNode(node),C._ts_query_matches_wasm(this[0],node.tree[0],startPosition.row,startPosition.column,endPosition.row,endPosition.column,startIndex,endIndex,matchLimit,maxStartDepth,timeoutMicros);let rawCount=getValue(TRANSFER_BUFFER,`i32`),startAddress=getValue(TRANSFER_BUFFER+4,`i32`),didExceedMatchLimit=getValue(TRANSFER_BUFFER+8,`i32`),result=Array(rawCount);this.exceededMatchLimit=!!didExceedMatchLimit;let filteredCount=0,address=startAddress;for(let i=0;i<rawCount;i++){let pattern=getValue(address,`i32`);address+=4;let captureCount=getValue(address,`i32`);address+=4;let captures=Array(captureCount);if(address=unmarshalCaptures(this,node.tree,address,captures),this.textPredicates[pattern].every(p=>p(captures))){result[filteredCount]={pattern,captures};let setProperties=this.setProperties[pattern];setProperties&&(result[filteredCount].setProperties=setProperties);let assertedProperties=this.assertedProperties[pattern];assertedProperties&&(result[filteredCount].assertedProperties=assertedProperties);let refutedProperties=this.refutedProperties[pattern];refutedProperties&&(result[filteredCount].refutedProperties=refutedProperties),filteredCount++}}return result.length=filteredCount,C._free(startAddress),result}captures(node,{startPosition=ZERO_POINT,endPosition=ZERO_POINT,startIndex=0,endIndex=0,matchLimit=4294967295,maxStartDepth=4294967295,timeoutMicros=0}={}){if(typeof matchLimit!=`number`)throw Error(`Arguments must be numbers`);marshalNode(node),C._ts_query_captures_wasm(this[0],node.tree[0],startPosition.row,startPosition.column,endPosition.row,endPosition.column,startIndex,endIndex,matchLimit,maxStartDepth,timeoutMicros);let count=getValue(TRANSFER_BUFFER,`i32`),startAddress=getValue(TRANSFER_BUFFER+4,`i32`),didExceedMatchLimit=getValue(TRANSFER_BUFFER+8,`i32`),result=[];this.exceededMatchLimit=!!didExceedMatchLimit;let captures=[],address=startAddress;for(let i=0;i<count;i++){let pattern=getValue(address,`i32`);address+=4;let captureCount=getValue(address,`i32`);address+=4;let captureIndex=getValue(address,`i32`);if(address+=4,captures.length=captureCount,address=unmarshalCaptures(this,node.tree,address,captures),this.textPredicates[pattern].every(p=>p(captures))){let capture=captures[captureIndex],setProperties=this.setProperties[pattern];setProperties&&(capture.setProperties=setProperties);let assertedProperties=this.assertedProperties[pattern];assertedProperties&&(capture.assertedProperties=assertedProperties);let refutedProperties=this.refutedProperties[pattern];refutedProperties&&(capture.refutedProperties=refutedProperties),result.push(capture)}}return C._free(startAddress),result}predicatesForPattern(patternIndex){return this.predicates[patternIndex]}disableCapture(captureName){let captureNameLength=lengthBytesUTF8(captureName),captureNameAddress=C._malloc(captureNameLength+1);stringToUTF8(captureName,captureNameAddress,captureNameLength+1),C._ts_query_disable_capture(this[0],captureNameAddress,captureNameLength),C._free(captureNameAddress)}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(tree,startIndex,endIndex){let length=endIndex-startIndex,result=tree.textCallback(startIndex,null,endIndex);for(startIndex+=result.length;startIndex<endIndex;){let string=tree.textCallback(startIndex,null,endIndex);if(string&&string.length>0)startIndex+=string.length,result+=string;else break}return startIndex>endIndex&&(result=result.slice(0,length)),result}function unmarshalCaptures(query,tree,address,result){for(let i=0,n=result.length;i<n;i++){let captureIndex=getValue(address,`i32`);address+=4;let node=unmarshalNode(tree,address);address+=20,result[i]={name:query.captureNames[captureIndex],node}}return address}function assertInternal(x){if(x!==INTERNAL)throw Error(`Illegal constructor`)}function isPoint(point){return point&&typeof point.row==`number`&&typeof point.column==`number`}function marshalNode(node){let address=TRANSFER_BUFFER;setValue(address,node.id,`i32`),address+=4,setValue(address,node.startIndex,`i32`),address+=4,setValue(address,node.startPosition.row,`i32`),address+=4,setValue(address,node.startPosition.column,`i32`),address+=4,setValue(address,node[0],`i32`)}function unmarshalNode(tree,address=TRANSFER_BUFFER){let id=getValue(address,`i32`);if(address+=4,id===0)return null;let index=getValue(address,`i32`);address+=4;let row=getValue(address,`i32`);address+=4;let column=getValue(address,`i32`);address+=4;let other=getValue(address,`i32`),result=new Node(INTERNAL,tree);return result.id=id,result.startIndex=index,result.startPosition={row,column},result[0]=other,result}function marshalTreeCursor(cursor,address=TRANSFER_BUFFER){setValue(address+0,cursor[0],`i32`),setValue(address+4,cursor[1],`i32`),setValue(address+8,cursor[2],`i32`),setValue(address+12,cursor[3],`i32`)}function unmarshalTreeCursor(cursor){cursor[0]=getValue(TRANSFER_BUFFER+0,`i32`),cursor[1]=getValue(TRANSFER_BUFFER+4,`i32`),cursor[2]=getValue(TRANSFER_BUFFER+8,`i32`),cursor[3]=getValue(TRANSFER_BUFFER+12,`i32`)}function marshalPoint(address,point){setValue(address,point.row,`i32`),setValue(address+4,point.column,`i32`)}function unmarshalPoint(address){return{row:getValue(address,`i32`)>>>0,column:getValue(address+4,`i32`)>>>0}}function marshalRange(address,range){marshalPoint(address,range.startPosition),address+=8,marshalPoint(address,range.endPosition),address+=8,setValue(address,range.startIndex,`i32`),address+=4,setValue(address,range.endIndex,`i32`),address+=4}function unmarshalRange(address){let result={};return result.startPosition=unmarshalPoint(address),address+=8,result.endPosition=unmarshalPoint(address),address+=8,result.startIndex=getValue(address,`i32`)>>>0,address+=4,result.endIndex=getValue(address,`i32`)>>>0,result}function marshalEdit(edit){let address=TRANSFER_BUFFER;marshalPoint(address,edit.startPosition),address+=8,marshalPoint(address,edit.oldEndPosition),address+=8,marshalPoint(address,edit.newEndPosition),address+=8,setValue(address,edit.startIndex,`i32`),address+=4,setValue(address,edit.oldEndIndex,`i32`),address+=4,setValue(address,edit.newEndIndex,`i32`),address+=4}for(let name of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser$3.prototype,name,{value:ParserImpl.prototype[name],enumerable:!1,writable:!1});Parser$3.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser$3}();typeof exports==`object`&&(module.exports=TreeSitter)})),import_tree_sitter=__toESM(require_tree_sitter(),1);await import_tree_sitter.default.init({locateFile(scriptName,scriptDirectory){return`/`+scriptName}});var Bash=await import_tree_sitter.default.Language.load(`/tree-sitter-bash.wasm`),parser=new import_tree_sitter.default;parser.setLanguage(Bash);var webParser_default=parser;function warnf(global_,warning){global_.warnings.push(warning)}function underline(node,startIndex,endIndex,curlCommand){startIndex===endIndex&&endIndex++;let lineStart=startIndex;startIndex>0&&(lineStart=curlCommand.lastIndexOf(`
`,startIndex-1)+1);let underlineLength=endIndex-startIndex,lineEnd=curlCommand.indexOf(`
`,startIndex);lineEnd===-1?lineEnd=curlCommand.length:lineEnd<endIndex&&(underlineLength=lineEnd-startIndex+1);let line=curlCommand.slice(lineStart,lineEnd),underline$1=` `.repeat(startIndex-lineStart)+`^`.repeat(underlineLength);return line+`
`+underline$1}function underlineCursor(node,curlCommand){return underline(node,node.startIndex,node.endIndex,curlCommand)}function underlineNode(node,curlCommand){let command=node.tree.rootNode,startIndex=node.startIndex,endIndex=node.endIndex;return curlCommand||(curlCommand=command.text,startIndex-=command.startIndex,endIndex-=command.startIndex),underline(node,startIndex,endIndex,curlCommand)}function warnIfPartsIgnored(request,warnings,support){request.urls.length>1&&!support?.multipleUrls&&warnings.push([`multiple-urls`,`found `+request.urls.length+` URLs, only the first one will be used: `+request.urls.map(u=>JSON.stringify(u.originalUrl.toString())).join(`, `)]),request.dataReadsFile&&!support?.dataReadsFile&&warnings.push([`unsafe-data`,`the generated data content is wrong, `+JSON.stringify(`@`+request.dataReadsFile)+` means read the file `+JSON.stringify(request.dataReadsFile)]),request.urls[0].queryReadsFile&&!support?.queryReadsFile&&warnings.push([`unsafe-query`,`the generated URL query string is wrong, `+JSON.stringify(`@`+request.urls[0].queryReadsFile)+` means read the file `+JSON.stringify(request.urls[0].queryReadsFile)]),request.cookieFiles&&!support?.cookieFiles&&warnings.push([`cookie-files`,`passing a file for --cookie/-b is not supported: `+request.cookieFiles.map(c=>JSON.stringify(c.toString())).join(`, `)])}var BACKSLASHES=/\\./gs;function removeBackslash(m){return m.charAt(1)===`
`?``:m.charAt(1)}function removeBackslashes(str){return str.replace(BACKSLASHES,removeBackslash)}var DOUBLE_QUOTE_BACKSLASHES=/\\[\\$`"\n]/gs;function removeDoubleQuoteBackslashes(str){return str.replace(DOUBLE_QUOTE_BACKSLASHES,removeBackslash)}var ANSI_BACKSLASHES=/\\(\\|a|b|e|E|f|n|r|t|v|'|"|\?|[0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{1,4}|U[0-9A-Fa-f]{1,8}|c.)/gs;function removeAnsiCBackslashes(str){function unescapeChar(m){switch(m.charAt(1)){case`\\`:return`\\`;case`a`:return`\x07`;case`b`:return`\b`;case`e`:case`E`:return`\x1B`;case`f`:return`\f`;case`n`:return`
`;case`r`:return`\r`;case`t`:return`	`;case`v`:return`\v`;case`'`:return`'`;case`"`:return`"`;case`?`:return`?`;case`c`:if(m.codePointAt(2)>127)throw new CCError(`non-ASCII control character in ANSI-C quoted string: "\\u{`+m.codePointAt(2).toString(16)+`}"`);return m[2]===`?`?``:String.fromCodePoint(m[2].toUpperCase().codePointAt(0)&31);case`x`:case`u`:case`U`:return String.fromCodePoint(parseInt(m.slice(2),16));case`0`:case`1`:case`2`:case`3`:case`4`:case`5`:case`6`:case`7`:return String.fromCodePoint(parseInt(m.slice(1),8)%256);default:throw new CCError(`unhandled character in ANSI-C escape code: `+JSON.stringify(m))}}return str.replace(ANSI_BACKSLASHES,unescapeChar)}function toTokens(node,curlCommand,warnings){let vals=[];switch(node.type){case`$`:return[`$`];case`word`:case`number`:return[removeBackslashes(node.text)];case`raw_string`:return[node.text.slice(1,-1)];case`ansi_c_string`:return[removeAnsiCBackslashes(node.text.slice(2,-1))];case`string`:case`translated_string`:{let res=``;for(let child of node.namedChildren)if(child.type===`string_content`)res+=removeDoubleQuoteBackslashes(child.text);else{let subVal=toTokens(child,curlCommand,warnings);typeof subVal==`string`?res+=subVal:(res&&=(vals.push(res),``),vals=vals.concat(subVal))}return(res||vals.length===0)&&vals.push(res),vals}case`simple_expansion`:return warnings.push([`expansion`,`found environment variable
`+underlineNode(node,curlCommand)]),node.firstNamedChild&&node.firstNamedChild.type===`special_variable_name`&&warnings.push([`special_variable_name`,node.text+` is a special Bash variable
`+underlineNode(node.firstNamedChild,curlCommand)]),[{type:`variable`,value:node.text.slice(1),text:node.text,syntaxNode:node}];case`expansion`:return warnings.push([`expansion`,`found expansion expression
`+underlineNode(node,curlCommand)]),[{type:`variable`,value:node.text.slice(2,-1),text:node.text,syntaxNode:node}];case`command_substitution`:return warnings.push([`expansion`,`found command substitution expression
`+underlineNode(node,curlCommand)]),[{type:`command`,value:node.text.slice(node.text.startsWith(`$(`)?2:1,-1),text:node.text,syntaxNode:node}];case`concatenation`:{let prevEnd=0,res=``;for(let child of node.children){res+=node.text.slice(prevEnd,child.startIndex-node.startIndex),prevEnd=child.endIndex-node.startIndex;let subVal=toTokens(child,curlCommand,warnings);typeof subVal==`string`?res+=subVal:(res&&=(vals.push(res),``),vals=vals.concat(subVal))}return res+=node.text.slice(prevEnd),(res||vals.length===0)&&vals.push(res),vals}default:throw new CCError(`unexpected syntax node type `+JSON.stringify(node.type)+`. Must be one of "word", "number", "string", "raw_string", "ansi_c_string", "expansion", "simple_expansion", "translated_string", "command_substitution" or "concatenation"
`+underlineNode(node,curlCommand))}}function toWord(node,curlCommand,warnings){return new Word(toTokens(node,curlCommand,warnings))}function*traverseLookingForBadNodes(tree){let cursor=tree.walk(),reachedRoot=!1;for(;!reachedRoot;){if((cursor.nodeType===`ERROR`||cursor.nodeIsMissing)&&(yield cursor),cursor.gotoFirstChild()||cursor.gotoNextSibling())continue;let retracing=!0;for(;retracing;)cursor.gotoParent()||(retracing=!1,reachedRoot=!0),cursor.gotoNextSibling()&&(retracing=!1)}}function warnAboutBadNodes(ast,curlCommand,warnings){let maxShown=3,count=0;for(let badNode of traverseLookingForBadNodes(ast)){if(count<3){let underlinedNode=``;try{underlinedNode=`:
`+underlineCursor(badNode,curlCommand)}catch{}let line=badNode.startPosition.row,column=badNode.startPosition.column;warnings.push([`bash`,`Bash parsing error on line ${line+1}`+(column===0?``:`, column ${column+1}`)+underlinedNode])}count+=1}let extra=count-3;extra>0&&warnings.push([`bash`,`${extra} more Bash parsing error${extra>1?`s`:``} omitted`])}function warnAboutUselessBackslash(n,curlCommandLines,warnings){let lastCommandLine=curlCommandLines[n.endPosition.row],impromperBackslash=lastCommandLine.match(/\\\s+$/);impromperBackslash&&curlCommandLines.length>n.endPosition.row+1&&impromperBackslash.index!==void 0&&warnings.push([`unescaped-newline`,`The trailling '\\' on line `+(n.endPosition.row+1)+` is followed by whitespace, so it won't escape the newline after it:
`+lastCommandLine+`
`+` `.repeat(impromperBackslash.index)+`^`.repeat(impromperBackslash[0].length)])}function extractRedirect(node,curlCommand,warnings){if(!node.namedChildCount)throw new CCError(`got empty "redirected_statement" AST node`);let stdin,stdinFile,[command,...redirects]=node.namedChildren;if(command.type!==`command`)throw new CCError(`got "redirected_statement" AST node whose first child is not a "command", got `+command.type+` instead
`+underlineNode(command,curlCommand));if(node.childCount<2)throw new CCError(`got "redirected_statement" AST node with only one child - no redirect`);redirects.length>1&&warnings.push([`multiple-redirects`,`found `+redirects.length+` redirect nodes. Only the first one will be used:
`+underlineNode(redirects[1],curlCommand)]);let redirect=redirects[0];if(redirect.type===`file_redirect`){let destination=redirect.childForFieldName(`destination`);if(!destination)throw new CCError(`got "file_redirect" AST node with no "destination" child`);stdinFile=toWord(destination,curlCommand,warnings)}else if(redirect.type===`heredoc_redirect`){let heredocBody=redirect.descendantsOfType(`heredoc_body`)[0];if(!heredocBody)throw new CCError(`got "redirected_statement" AST node without heredoc_body`);stdin=new Word(heredocBody.text)}else if(redirect.type===`herestring_redirect`){if(redirect.namedChildCount<1||!redirect.firstNamedChild)throw new CCError(`got "redirected_statement" AST node with empty herestring`);stdin=toWord(redirect.firstNamedChild,curlCommand,warnings)}else throw new CCError(`got "redirected_statement" AST node whose second child is not one of "file_redirect", "heredoc_redirect" or "herestring_redirect", got `+command.type+` instead`);return[command,stdin,stdinFile]}function _findCurlInPipeline(node,curlCommand,warnings){let command,stdin,stdinFile;for(let child of node.namedChildren)if(child.type===`command`){let commandName=child.namedChildren[0];if(commandName.type!==`command_name`)throw new CCError(`got "command" AST node whose first child is not a "command_name", got `+commandName.type+` instead
`+underlineNode(commandName,curlCommand));let commandNameWord=commandName.namedChildren[0];if(commandNameWord.type!==`word`)throw new CCError(`got "command_name" AST node whose first child is not a "word", got `+commandNameWord.type+` instead
`+underlineNode(commandNameWord,curlCommand));commandNameWord.text===`curl`&&(command?warnings.push([`multiple-curl-in-pipeline`,`found multiple curl commands in pipeline:
`+underlineNode(child,curlCommand)]):command=child)}else if(child.type===`redirected_statement`){let[redirCommand,redirStdin,redirStdinFile]=extractRedirect(child,curlCommand,warnings);redirCommand.namedChildren[0].text===`curl`&&(command?warnings.push([`multiple-curl-in-pipeline`,`found multiple curl commands in pipeline:
`+underlineNode(redirCommand,curlCommand)]):[command,stdin,stdinFile]=[redirCommand,redirStdin,redirStdinFile])}else if(child.type===`pipeline`){let[nestedCommand,nestedStdin,nestedStdinFile]=_findCurlInPipeline(child,curlCommand,warnings);if(!nestedCommand)continue;nestedCommand.namedChildren[0].text===`curl`&&(command?warnings.push([`multiple-curl-in-pipeline`,`found multiple curl commands in pipeline:
`+underlineNode(nestedCommand,curlCommand)]):[command,stdin,stdinFile]=[nestedCommand,nestedStdin,nestedStdinFile])}return[command,stdin,stdinFile]}function findCurlInPipeline(node,curlCommand,warnings){let[command,stdin,stdinFile]=_findCurlInPipeline(node,curlCommand,warnings);if(!command)throw new CCError(`could not find curl command in pipeline
`+underlineNode(node,curlCommand));return[command,stdin,stdinFile]}function extractCommandNodes(ast,curlCommand,warnings){if(ast.rootNode.type!==`program`)throw new CCError(`expected a "program" top-level AST node, got `+ast.rootNode.type+` instead`);if(ast.rootNode.namedChildCount<1||!ast.rootNode.namedChildren)throw new CCError(`empty "program" node`);let curlCommandLines=curlCommand.split(`
`),sawComment=!1,commands=[];for(let n of ast.rootNode.namedChildren)switch(n.type){case`comment`:sawComment=!0;continue;case`command`:commands.push([n,void 0,void 0]),warnAboutUselessBackslash(n,curlCommandLines,warnings);break;case`redirected_statement`:commands.push(extractRedirect(n,curlCommand,warnings)),warnAboutUselessBackslash(n,curlCommandLines,warnings);break;case`pipeline`:commands.push(findCurlInPipeline(n,curlCommand,warnings)),warnAboutUselessBackslash(n,curlCommandLines,warnings);break;case`heredoc_body`:continue;case`ERROR`:throw new CCError(`Bash parsing error on line ${n.startPosition.row+1}:\n`+underlineNode(n,curlCommand));default:throw new CCError(`found `+JSON.stringify(n.type)+` AST node, only "command", "pipeline" or "redirected_statement" are supported
`+underlineNode(n,curlCommand))}if(!commands.length)throw new CCError(`expected a "command" or "redirected_statement" AST node`+(sawComment?`, only found "comment" nodes`:``));return commands}function toNameAndArgv(command,curlCommand,warnings){if(command.childCount<1)throw new CCError(`empty "command" node
`+underlineNode(command,curlCommand));let name=command.childForFieldName(`name`),args=command.childrenForFieldName(`argument`);if(!name)throw new CCError(`found "command" AST node with no "command_name" child
`+underlineNode(command,curlCommand));return[name,args]}function nameToWord(name,curlCommand,warnings){if(name.childCount<1||!name.firstChild)throw new CCError(`found empty "command_name" AST node
`+underlineNode(name,curlCommand));name.childCount>1&&warnings.push([`extra-command_name-children`,`expected "command_name" node to only have one child but it has `+name.childCount]);let nameNode=name.firstChild,nameWord=toWord(nameNode,curlCommand,warnings),nameWordStr=nameWord.toString(),cmdNameShellToken=firstShellToken(nameWord);if(cmdNameShellToken){if(nameWordStr!==`$curl`)throw new CCError(`expected command name to be a simple value but found a `+cmdNameShellToken.type+`
`+underlineNode(cmdNameShellToken.syntaxNode,curlCommand))}else if(nameWordStr.trim()!==`curl`){let c=nameWordStr.trim();throw c?new CCError(`command should begin with "curl" but instead begins with `+JSON.stringify(clip(c))+`
`+underlineNode(nameNode,curlCommand)):new CCError(`found command without a command_name
`+underlineNode(nameNode,curlCommand))}return nameWord}function tokenize(curlCommand,warnings=[]){let ast=webParser_default.parse(curlCommand);warnAboutBadNodes(ast,curlCommand,warnings);let commandNodes=extractCommandNodes(ast,curlCommand,warnings),commands=[];for(let[command,stdin,stdinFile]of commandNodes){let[name,argv]=toNameAndArgv(command,curlCommand,warnings);commands.push([[nameToWord(name,curlCommand,warnings),...argv.map(arg=>toWord(arg,curlCommand,warnings))],stdin,stdinFile])}return commands}const CURLAUTH_BASIC=1,CURLAUTH_DIGEST=2,CURLAUTH_NEGOTIATE=4,CURLAUTH_NTLM=8,CURLAUTH_DIGEST_IE=16,CURLAUTH_NTLM_WB=32,CURLAUTH_BEARER=64,CURLAUTH_AWS_SIGV4=128,CURLAUTH_ANY=-17;function pickAuth(mask){if(mask===-17)return`basic`;for(let[auth,authName]of[[4,`negotiate`],[64,`bearer`],[2,`digest`],[8,`ntlm`],[32,`ntlm-wb`],[1,`basic`],[128,`aws-sigv4`]])if(mask&auth)return authName;return`none`}const curlLongOpts={url:{type:`string`,name:`url`},"dns-ipv4-addr":{type:`string`,name:`dns-ipv4-addr`},"dns-ipv6-addr":{type:`string`,name:`dns-ipv6-addr`},"random-file":{type:`string`,name:`random-file`},"egd-file":{type:`string`,name:`egd-file`},"oauth2-bearer":{type:`string`,name:`oauth2-bearer`},"connect-timeout":{type:`string`,name:`connect-timeout`},"doh-url":{type:`string`,name:`doh-url`},ciphers:{type:`string`,name:`ciphers`},"dns-interface":{type:`string`,name:`dns-interface`},"disable-epsv":{type:`bool`,name:`disable-epsv`},"no-disable-epsv":{type:`bool`,name:`disable-epsv`,expand:!1},"disallow-username-in-url":{type:`bool`,name:`disallow-username-in-url`},"no-disallow-username-in-url":{type:`bool`,name:`disallow-username-in-url`,expand:!1},epsv:{type:`bool`,name:`epsv`},"no-epsv":{type:`bool`,name:`epsv`,expand:!1},"dns-servers":{type:`string`,name:`dns-servers`},trace:{type:`string`,name:`trace`},npn:{type:`bool`,name:`npn`},"no-npn":{type:`bool`,name:`npn`,expand:!1},"trace-ascii":{type:`string`,name:`trace-ascii`},alpn:{type:`bool`,name:`alpn`},"no-alpn":{type:`bool`,name:`alpn`,expand:!1},"limit-rate":{type:`string`,name:`limit-rate`},rate:{type:`string`,name:`rate`},compressed:{type:`bool`,name:`compressed`},"no-compressed":{type:`bool`,name:`compressed`,expand:!1},"tr-encoding":{type:`bool`,name:`tr-encoding`},"no-tr-encoding":{type:`bool`,name:`tr-encoding`,expand:!1},digest:{type:`bool`,name:`digest`},"no-digest":{type:`bool`,name:`digest`,expand:!1},negotiate:{type:`bool`,name:`negotiate`},"no-negotiate":{type:`bool`,name:`negotiate`,expand:!1},ntlm:{type:`bool`,name:`ntlm`},"no-ntlm":{type:`bool`,name:`ntlm`,expand:!1},"ntlm-wb":{type:`bool`,name:`ntlm-wb`},"no-ntlm-wb":{type:`bool`,name:`ntlm-wb`,expand:!1},basic:{type:`bool`,name:`basic`},"no-basic":{type:`bool`,name:`basic`,expand:!1},anyauth:{type:`bool`,name:`anyauth`},"no-anyauth":{type:`bool`,name:`anyauth`,expand:!1},wdebug:{type:`bool`,name:`wdebug`},"no-wdebug":{type:`bool`,name:`wdebug`,expand:!1},"ftp-create-dirs":{type:`bool`,name:`ftp-create-dirs`},"no-ftp-create-dirs":{type:`bool`,name:`ftp-create-dirs`,expand:!1},"create-dirs":{type:`bool`,name:`create-dirs`},"no-create-dirs":{type:`bool`,name:`create-dirs`,expand:!1},"create-file-mode":{type:`string`,name:`create-file-mode`},"max-redirs":{type:`string`,name:`max-redirs`},"proxy-ntlm":{type:`bool`,name:`proxy-ntlm`},"no-proxy-ntlm":{type:`bool`,name:`proxy-ntlm`,expand:!1},crlf:{type:`bool`,name:`crlf`},"no-crlf":{type:`bool`,name:`crlf`,expand:!1},stderr:{type:`string`,name:`stderr`},"aws-sigv4":{type:`string`,name:`aws-sigv4`},interface:{type:`string`,name:`interface`},krb:{type:`string`,name:`krb`},krb4:{type:`string`,name:`krb`},"haproxy-protocol":{type:`bool`,name:`haproxy-protocol`},"no-haproxy-protocol":{type:`bool`,name:`haproxy-protocol`,expand:!1},"haproxy-clientip":{type:`string`,name:`haproxy-clientip`},"max-filesize":{type:`string`,name:`max-filesize`},"disable-eprt":{type:`bool`,name:`disable-eprt`},"no-disable-eprt":{type:`bool`,name:`disable-eprt`,expand:!1},eprt:{type:`bool`,name:`eprt`},"no-eprt":{type:`bool`,name:`eprt`,expand:!1},xattr:{type:`bool`,name:`xattr`},"no-xattr":{type:`bool`,name:`xattr`,expand:!1},"ftp-ssl":{type:`bool`,name:`ssl`},"no-ftp-ssl":{type:`bool`,name:`ssl`,expand:!1},ssl:{type:`bool`,name:`ssl`},"no-ssl":{type:`bool`,name:`ssl`,expand:!1},"ftp-pasv":{type:`bool`,name:`ftp-pasv`},"no-ftp-pasv":{type:`bool`,name:`ftp-pasv`,expand:!1},socks5:{type:`string`,name:`socks5`},"tcp-nodelay":{type:`bool`,name:`tcp-nodelay`},"no-tcp-nodelay":{type:`bool`,name:`tcp-nodelay`,expand:!1},"proxy-digest":{type:`bool`,name:`proxy-digest`},"no-proxy-digest":{type:`bool`,name:`proxy-digest`,expand:!1},"proxy-basic":{type:`bool`,name:`proxy-basic`},"no-proxy-basic":{type:`bool`,name:`proxy-basic`,expand:!1},retry:{type:`string`,name:`retry`},"retry-connrefused":{type:`bool`,name:`retry-connrefused`},"no-retry-connrefused":{type:`bool`,name:`retry-connrefused`,expand:!1},"retry-delay":{type:`string`,name:`retry-delay`},"retry-max-time":{type:`string`,name:`retry-max-time`},"proxy-negotiate":{type:`bool`,name:`proxy-negotiate`},"no-proxy-negotiate":{type:`bool`,name:`proxy-negotiate`,expand:!1},"form-escape":{type:`bool`,name:`form-escape`},"no-form-escape":{type:`bool`,name:`form-escape`,expand:!1},"ftp-account":{type:`string`,name:`ftp-account`},"proxy-anyauth":{type:`bool`,name:`proxy-anyauth`},"no-proxy-anyauth":{type:`bool`,name:`proxy-anyauth`,expand:!1},"trace-time":{type:`bool`,name:`trace-time`},"no-trace-time":{type:`bool`,name:`trace-time`,expand:!1},"ignore-content-length":{type:`bool`,name:`ignore-content-length`},"no-ignore-content-length":{type:`bool`,name:`ignore-content-length`,expand:!1},"ftp-skip-pasv-ip":{type:`bool`,name:`ftp-skip-pasv-ip`},"no-ftp-skip-pasv-ip":{type:`bool`,name:`ftp-skip-pasv-ip`,expand:!1},"ftp-method":{type:`string`,name:`ftp-method`},"local-port":{type:`string`,name:`local-port`},socks4:{type:`string`,name:`socks4`},socks4a:{type:`string`,name:`socks4a`},"ftp-alternative-to-user":{type:`string`,name:`ftp-alternative-to-user`},"ftp-ssl-reqd":{type:`bool`,name:`ssl-reqd`},"no-ftp-ssl-reqd":{type:`bool`,name:`ssl-reqd`,expand:!1},"ssl-reqd":{type:`bool`,name:`ssl-reqd`},"no-ssl-reqd":{type:`bool`,name:`ssl-reqd`,expand:!1},sessionid:{type:`bool`,name:`sessionid`},"no-sessionid":{type:`bool`,name:`sessionid`,expand:!1},"ftp-ssl-control":{type:`bool`,name:`ftp-ssl-control`},"no-ftp-ssl-control":{type:`bool`,name:`ftp-ssl-control`,expand:!1},"ftp-ssl-ccc":{type:`bool`,name:`ftp-ssl-ccc`},"no-ftp-ssl-ccc":{type:`bool`,name:`ftp-ssl-ccc`,expand:!1},"ftp-ssl-ccc-mode":{type:`string`,name:`ftp-ssl-ccc-mode`},libcurl:{type:`string`,name:`libcurl`},raw:{type:`bool`,name:`raw`},"no-raw":{type:`bool`,name:`raw`,expand:!1},post301:{type:`bool`,name:`post301`},"no-post301":{type:`bool`,name:`post301`,expand:!1},keepalive:{type:`bool`,name:`keepalive`},"no-keepalive":{type:`bool`,name:`keepalive`,expand:!1},"socks5-hostname":{type:`string`,name:`socks5-hostname`},"keepalive-time":{type:`string`,name:`keepalive-time`},post302:{type:`bool`,name:`post302`},"no-post302":{type:`bool`,name:`post302`,expand:!1},noproxy:{type:`string`,name:`noproxy`},"socks5-gssapi-nec":{type:`bool`,name:`socks5-gssapi-nec`},"no-socks5-gssapi-nec":{type:`bool`,name:`socks5-gssapi-nec`,expand:!1},"proxy1.0":{type:`string`,name:`proxy1.0`},"tftp-blksize":{type:`string`,name:`tftp-blksize`},"mail-from":{type:`string`,name:`mail-from`},"mail-rcpt":{type:`string`,name:`mail-rcpt`},"ftp-pret":{type:`bool`,name:`ftp-pret`},"no-ftp-pret":{type:`bool`,name:`ftp-pret`,expand:!1},proto:{type:`string`,name:`proto`},"proto-redir":{type:`string`,name:`proto-redir`},resolve:{type:`string`,name:`resolve`},delegation:{type:`string`,name:`delegation`},"mail-auth":{type:`string`,name:`mail-auth`},post303:{type:`bool`,name:`post303`},"no-post303":{type:`bool`,name:`post303`,expand:!1},metalink:{type:`bool`,name:`metalink`},"no-metalink":{type:`bool`,name:`metalink`,expand:!1},"sasl-authzid":{type:`string`,name:`sasl-authzid`},"sasl-ir":{type:`bool`,name:`sasl-ir`},"no-sasl-ir":{type:`bool`,name:`sasl-ir`,expand:!1},"test-event":{type:`bool`,name:`test-event`},"no-test-event":{type:`bool`,name:`test-event`,expand:!1},"unix-socket":{type:`string`,name:`unix-socket`},"path-as-is":{type:`bool`,name:`path-as-is`},"no-path-as-is":{type:`bool`,name:`path-as-is`,expand:!1},"socks5-gssapi-service":{type:`string`,name:`proxy-service-name`},"proxy-service-name":{type:`string`,name:`proxy-service-name`},"service-name":{type:`string`,name:`service-name`},"proto-default":{type:`string`,name:`proto-default`},"expect100-timeout":{type:`string`,name:`expect100-timeout`},"tftp-no-options":{type:`bool`,name:`tftp-no-options`},"no-tftp-no-options":{type:`bool`,name:`tftp-no-options`,expand:!1},"connect-to":{type:`string`,name:`connect-to`},"abstract-unix-socket":{type:`string`,name:`abstract-unix-socket`},"tls-max":{type:`string`,name:`tls-max`},"suppress-connect-headers":{type:`bool`,name:`suppress-connect-headers`},"no-suppress-connect-headers":{type:`bool`,name:`suppress-connect-headers`,expand:!1},"compressed-ssh":{type:`bool`,name:`compressed-ssh`},"no-compressed-ssh":{type:`bool`,name:`compressed-ssh`,expand:!1},"happy-eyeballs-timeout-ms":{type:`string`,name:`happy-eyeballs-timeout-ms`},"retry-all-errors":{type:`bool`,name:`retry-all-errors`},"no-retry-all-errors":{type:`bool`,name:`retry-all-errors`,expand:!1},"trace-ids":{type:`bool`,name:`trace-ids`},"no-trace-ids":{type:`bool`,name:`trace-ids`,expand:!1},"http1.0":{type:`bool`,name:`http1.0`},"http1.1":{type:`bool`,name:`http1.1`},http2:{type:`bool`,name:`http2`},"http2-prior-knowledge":{type:`bool`,name:`http2-prior-knowledge`},http3:{type:`bool`,name:`http3`},"http3-only":{type:`bool`,name:`http3-only`},"http0.9":{type:`bool`,name:`http0.9`},"no-http0.9":{type:`bool`,name:`http0.9`,expand:!1},"proxy-http2":{type:`bool`,name:`proxy-http2`},"no-proxy-http2":{type:`bool`,name:`proxy-http2`,expand:!1},tlsv1:{type:`bool`,name:`tlsv1`},"tlsv1.0":{type:`bool`,name:`tlsv1.0`},"tlsv1.1":{type:`bool`,name:`tlsv1.1`},"tlsv1.2":{type:`bool`,name:`tlsv1.2`},"tlsv1.3":{type:`bool`,name:`tlsv1.3`},"tls13-ciphers":{type:`string`,name:`tls13-ciphers`},"proxy-tls13-ciphers":{type:`string`,name:`proxy-tls13-ciphers`},sslv2:{type:`bool`,name:`sslv2`},sslv3:{type:`bool`,name:`sslv3`},ipv4:{type:`bool`,name:`ipv4`},ipv6:{type:`bool`,name:`ipv6`},append:{type:`bool`,name:`append`},"no-append":{type:`bool`,name:`append`,expand:!1},"user-agent":{type:`string`,name:`user-agent`},cookie:{type:`string`,name:`cookie`},"alt-svc":{type:`string`,name:`alt-svc`},hsts:{type:`string`,name:`hsts`},"use-ascii":{type:`bool`,name:`use-ascii`},"no-use-ascii":{type:`bool`,name:`use-ascii`,expand:!1},"cookie-jar":{type:`string`,name:`cookie-jar`},"continue-at":{type:`string`,name:`continue-at`},data:{type:`string`,name:`data`},"data-raw":{type:`string`,name:`data-raw`},"data-ascii":{type:`string`,name:`data-ascii`},"data-binary":{type:`string`,name:`data-binary`},"data-urlencode":{type:`string`,name:`data-urlencode`},json:{type:`string`,name:`json`},"url-query":{type:`string`,name:`url-query`},"dump-header":{type:`string`,name:`dump-header`},referer:{type:`string`,name:`referer`},cert:{type:`string`,name:`cert`},cacert:{type:`string`,name:`cacert`},"cert-type":{type:`string`,name:`cert-type`},key:{type:`string`,name:`key`},"key-type":{type:`string`,name:`key-type`},pass:{type:`string`,name:`pass`},engine:{type:`string`,name:`engine`},"ca-native":{type:`bool`,name:`ca-native`},"no-ca-native":{type:`bool`,name:`ca-native`,expand:!1},"proxy-ca-native":{type:`bool`,name:`proxy-ca-native`},"no-proxy-ca-native":{type:`bool`,name:`proxy-ca-native`,expand:!1},capath:{type:`string`,name:`capath`},pubkey:{type:`string`,name:`pubkey`},hostpubmd5:{type:`string`,name:`hostpubmd5`},hostpubsha256:{type:`string`,name:`hostpubsha256`},crlfile:{type:`string`,name:`crlfile`},tlsuser:{type:`string`,name:`tlsuser`},tlspassword:{type:`string`,name:`tlspassword`},tlsauthtype:{type:`string`,name:`tlsauthtype`},"ssl-allow-beast":{type:`bool`,name:`ssl-allow-beast`},"no-ssl-allow-beast":{type:`bool`,name:`ssl-allow-beast`,expand:!1},"ssl-auto-client-cert":{type:`bool`,name:`ssl-auto-client-cert`},"no-ssl-auto-client-cert":{type:`bool`,name:`ssl-auto-client-cert`,expand:!1},"proxy-ssl-auto-client-cert":{type:`bool`,name:`proxy-ssl-auto-client-cert`},"no-proxy-ssl-auto-client-cert":{type:`bool`,name:`proxy-ssl-auto-client-cert`,expand:!1},pinnedpubkey:{type:`string`,name:`pinnedpubkey`},"proxy-pinnedpubkey":{type:`string`,name:`proxy-pinnedpubkey`},"cert-status":{type:`bool`,name:`cert-status`},"no-cert-status":{type:`bool`,name:`cert-status`,expand:!1},"doh-cert-status":{type:`bool`,name:`doh-cert-status`},"no-doh-cert-status":{type:`bool`,name:`doh-cert-status`,expand:!1},"false-start":{type:`bool`,name:`false-start`},"no-false-start":{type:`bool`,name:`false-start`,expand:!1},"ssl-no-revoke":{type:`bool`,name:`ssl-no-revoke`},"no-ssl-no-revoke":{type:`bool`,name:`ssl-no-revoke`,expand:!1},"ssl-revoke-best-effort":{type:`bool`,name:`ssl-revoke-best-effort`},"no-ssl-revoke-best-effort":{type:`bool`,name:`ssl-revoke-best-effort`,expand:!1},"tcp-fastopen":{type:`bool`,name:`tcp-fastopen`},"no-tcp-fastopen":{type:`bool`,name:`tcp-fastopen`,expand:!1},"proxy-tlsuser":{type:`string`,name:`proxy-tlsuser`},"proxy-tlspassword":{type:`string`,name:`proxy-tlspassword`},"proxy-tlsauthtype":{type:`string`,name:`proxy-tlsauthtype`},"proxy-cert":{type:`string`,name:`proxy-cert`},"proxy-cert-type":{type:`string`,name:`proxy-cert-type`},"proxy-key":{type:`string`,name:`proxy-key`},"proxy-key-type":{type:`string`,name:`proxy-key-type`},"proxy-pass":{type:`string`,name:`proxy-pass`},"proxy-ciphers":{type:`string`,name:`proxy-ciphers`},"proxy-crlfile":{type:`string`,name:`proxy-crlfile`},"proxy-ssl-allow-beast":{type:`bool`,name:`proxy-ssl-allow-beast`},"no-proxy-ssl-allow-beast":{type:`bool`,name:`proxy-ssl-allow-beast`,expand:!1},"login-options":{type:`string`,name:`login-options`},"proxy-cacert":{type:`string`,name:`proxy-cacert`},"proxy-capath":{type:`string`,name:`proxy-capath`},"proxy-insecure":{type:`bool`,name:`proxy-insecure`},"no-proxy-insecure":{type:`bool`,name:`proxy-insecure`,expand:!1},"proxy-tlsv1":{type:`bool`,name:`proxy-tlsv1`},"socks5-basic":{type:`bool`,name:`socks5-basic`},"no-socks5-basic":{type:`bool`,name:`socks5-basic`,expand:!1},"socks5-gssapi":{type:`bool`,name:`socks5-gssapi`},"no-socks5-gssapi":{type:`bool`,name:`socks5-gssapi`,expand:!1},"etag-save":{type:`string`,name:`etag-save`},"etag-compare":{type:`string`,name:`etag-compare`},curves:{type:`string`,name:`curves`},fail:{type:`bool`,name:`fail`},"no-fail":{type:`bool`,name:`fail`,expand:!1},"fail-early":{type:`bool`,name:`fail-early`},"no-fail-early":{type:`bool`,name:`fail-early`,expand:!1},"styled-output":{type:`bool`,name:`styled-output`},"no-styled-output":{type:`bool`,name:`styled-output`,expand:!1},"mail-rcpt-allowfails":{type:`bool`,name:`mail-rcpt-allowfails`},"no-mail-rcpt-allowfails":{type:`bool`,name:`mail-rcpt-allowfails`,expand:!1},"fail-with-body":{type:`bool`,name:`fail-with-body`},"no-fail-with-body":{type:`bool`,name:`fail-with-body`,expand:!1},"remove-on-error":{type:`bool`,name:`remove-on-error`},"no-remove-on-error":{type:`bool`,name:`remove-on-error`,expand:!1},form:{type:`string`,name:`form`},"form-string":{type:`string`,name:`form-string`},globoff:{type:`bool`,name:`globoff`},"no-globoff":{type:`bool`,name:`globoff`,expand:!1},get:{type:`bool`,name:`get`},"no-get":{type:`bool`,name:`get`,expand:!1},"request-target":{type:`string`,name:`request-target`},help:{type:`bool`,name:`help`},"no-help":{type:`bool`,name:`help`,expand:!1},header:{type:`string`,name:`header`},"proxy-header":{type:`string`,name:`proxy-header`},include:{type:`bool`,name:`include`},"no-include":{type:`bool`,name:`include`,expand:!1},head:{type:`bool`,name:`head`},"no-head":{type:`bool`,name:`head`,expand:!1},"junk-session-cookies":{type:`bool`,name:`junk-session-cookies`},"no-junk-session-cookies":{type:`bool`,name:`junk-session-cookies`,expand:!1},"remote-header-name":{type:`bool`,name:`remote-header-name`},"no-remote-header-name":{type:`bool`,name:`remote-header-name`,expand:!1},insecure:{type:`bool`,name:`insecure`},"no-insecure":{type:`bool`,name:`insecure`,expand:!1},"doh-insecure":{type:`bool`,name:`doh-insecure`},"no-doh-insecure":{type:`bool`,name:`doh-insecure`,expand:!1},config:{type:`string`,name:`config`},"list-only":{type:`bool`,name:`list-only`},"no-list-only":{type:`bool`,name:`list-only`,expand:!1},location:{type:`bool`,name:`location`},"no-location":{type:`bool`,name:`location`,expand:!1},"location-trusted":{type:`bool`,name:`location-trusted`},"no-location-trusted":{type:`bool`,name:`location-trusted`,expand:!1},"max-time":{type:`string`,name:`max-time`},manual:{type:`bool`,name:`manual`},"no-manual":{type:`bool`,name:`manual`,expand:!1},netrc:{type:`bool`,name:`netrc`},"no-netrc":{type:`bool`,name:`netrc`,expand:!1},"netrc-optional":{type:`bool`,name:`netrc-optional`},"no-netrc-optional":{type:`bool`,name:`netrc-optional`,expand:!1},"netrc-file":{type:`string`,name:`netrc-file`},buffer:{type:`bool`,name:`buffer`},"no-buffer":{type:`bool`,name:`buffer`,expand:!1},output:{type:`string`,name:`output`},"remote-name":{type:`bool`,name:`remote-name`},"no-remote-name":{type:`bool`,name:`remote-name`,expand:!1},"remote-name-all":{type:`bool`,name:`remote-name-all`},"no-remote-name-all":{type:`bool`,name:`remote-name-all`,expand:!1},"output-dir":{type:`string`,name:`output-dir`},clobber:{type:`bool`,name:`clobber`},"no-clobber":{type:`bool`,name:`clobber`,expand:!1},proxytunnel:{type:`bool`,name:`proxytunnel`},"no-proxytunnel":{type:`bool`,name:`proxytunnel`,expand:!1},"ftp-port":{type:`string`,name:`ftp-port`},disable:{type:`bool`,name:`disable`},"no-disable":{type:`bool`,name:`disable`,expand:!1},quote:{type:`string`,name:`quote`},range:{type:`string`,name:`range`},"remote-time":{type:`bool`,name:`remote-time`},"no-remote-time":{type:`bool`,name:`remote-time`,expand:!1},silent:{type:`bool`,name:`silent`},"no-silent":{type:`bool`,name:`silent`,expand:!1},"show-error":{type:`bool`,name:`show-error`},"no-show-error":{type:`bool`,name:`show-error`,expand:!1},"telnet-option":{type:`string`,name:`telnet-option`},"upload-file":{type:`string`,name:`upload-file`},user:{type:`string`,name:`user`},"proxy-user":{type:`string`,name:`proxy-user`},verbose:{type:`bool`,name:`verbose`},"no-verbose":{type:`bool`,name:`verbose`,expand:!1},version:{type:`bool`,name:`version`},"no-version":{type:`bool`,name:`version`,expand:!1},"write-out":{type:`string`,name:`write-out`},proxy:{type:`string`,name:`proxy`},preproxy:{type:`string`,name:`preproxy`},request:{type:`string`,name:`request`},"speed-limit":{type:`string`,name:`speed-limit`},"speed-time":{type:`string`,name:`speed-time`},"time-cond":{type:`string`,name:`time-cond`},parallel:{type:`bool`,name:`parallel`},"no-parallel":{type:`bool`,name:`parallel`,expand:!1},"parallel-max":{type:`string`,name:`parallel-max`},"parallel-immediate":{type:`bool`,name:`parallel-immediate`},"no-parallel-immediate":{type:`bool`,name:`parallel-immediate`,expand:!1},"progress-bar":{type:`bool`,name:`progress-bar`},"no-progress-bar":{type:`bool`,name:`progress-bar`,expand:!1},"progress-meter":{type:`bool`,name:`progress-meter`},"no-progress-meter":{type:`bool`,name:`progress-meter`,expand:!1},next:{type:`bool`,name:`next`},port:{type:`string`,name:`port`,removed:`7.3`},"ftp-ascii":{type:`bool`,name:`use-ascii`,removed:`7.10.7`},"3p-url":{type:`string`,name:`3p-url`,removed:`7.16.0`},"3p-user":{type:`string`,name:`3p-user`,removed:`7.16.0`},"3p-quote":{type:`string`,name:`3p-quote`,removed:`7.16.0`},"http2.0":{type:`bool`,name:`http2`,removed:`7.36.0`},"no-http2.0":{type:`bool`,name:`http2`,removed:`7.36.0`},"telnet-options":{type:`string`,name:`telnet-option`,removed:`7.49.0`},"http-request":{type:`string`,name:`request`,removed:`7.49.0`},"capath ":{type:`string`,name:`capath`,removed:`7.49.0`},ftpport:{type:`string`,name:`ftp-port`,removed:`7.49.0`},environment:{type:`bool`,name:`environment`,removed:`7.54.1`},"no-tlsv1":{type:`bool`,name:`tlsv1`,removed:`7.54.1`},"no-tlsv1.2":{type:`bool`,name:`tlsv1.2`,removed:`7.54.1`},"no-http2-prior-knowledge":{type:`bool`,name:`http2-prior-knowledge`,removed:`7.54.1`},"no-ipv6":{type:`bool`,name:`ipv6`,removed:`7.54.1`},"no-ipv4":{type:`bool`,name:`ipv4`,removed:`7.54.1`},"no-sslv2":{type:`bool`,name:`sslv2`,removed:`7.54.1`},"no-tlsv1.0":{type:`bool`,name:`tlsv1.0`,removed:`7.54.1`},"no-tlsv1.1":{type:`bool`,name:`tlsv1.1`,removed:`7.54.1`},"no-sslv3":{type:`bool`,name:`sslv3`,removed:`7.54.1`},"no-http1.0":{type:`bool`,name:`http1.0`,removed:`7.54.1`},"no-next":{type:`bool`,name:`next`,removed:`7.54.1`},"no-tlsv1.3":{type:`bool`,name:`tlsv1.3`,removed:`7.54.1`},"no-environment":{type:`bool`,name:`environment`,removed:`7.54.1`},"no-http1.1":{type:`bool`,name:`http1.1`,removed:`7.54.1`},"no-proxy-tlsv1":{type:`bool`,name:`proxy-tlsv1`,removed:`7.54.1`},"no-http2":{type:`bool`,name:`http2`,removed:`7.54.1`}},curlLongOptsShortened={};for(let[opt,val]of Object.entries(curlLongOpts)){let expand=`expand`in val?val.expand:!0,removed=`removed`in val?val.removed:!1;if(expand&&!removed)for(let i=1;i<opt.length;i++){let shortenedOpt=opt.slice(0,i);Object.prototype.hasOwnProperty.call(curlLongOptsShortened,shortenedOpt)?curlLongOptsShortened[shortenedOpt]=null:Object.prototype.hasOwnProperty.call(curlLongOpts,shortenedOpt)||(curlLongOptsShortened[shortenedOpt]=val)}}const COMMON_SUPPORTED_ARGS=[`url`,`proto-default`,`globoff`,`disallow-username-in-url`,`request`,`get`,`head`,`no-head`,`header`,`user-agent`,`referer`,`range`,`time-cond`,`cookie`,`oauth2-bearer`,`user`,`basic`,`no-basic`,`data`,`data-raw`,`data-ascii`,`data-binary`,`data-urlencode`,`json`,`url-query`];function toBoolean(opt){return opt.startsWith(`no-disable-`)?!0:!(opt.startsWith(`disable-`)||opt.startsWith(`no-`))}const curlShortOpts={0:`http1.0`,1:`tlsv1`,2:`sslv2`,3:`sslv3`,4:`ipv4`,6:`ipv6`,a:`append`,A:`user-agent`,b:`cookie`,B:`use-ascii`,c:`cookie-jar`,C:`continue-at`,d:`data`,D:`dump-header`,e:`referer`,E:`cert`,f:`fail`,F:`form`,g:`globoff`,G:`get`,h:`help`,H:`header`,i:`include`,I:`head`,j:`junk-session-cookies`,J:`remote-header-name`,k:`insecure`,K:`config`,l:`list-only`,L:`location`,m:`max-time`,M:`manual`,n:`netrc`,N:`no-buffer`,o:`output`,O:`remote-name`,p:`proxytunnel`,P:`ftp-port`,q:`disable`,Q:`quote`,r:`range`,R:`remote-time`,s:`silent`,S:`show-error`,t:`telnet-option`,T:`upload-file`,u:`user`,U:`proxy-user`,v:`verbose`,V:`version`,w:`write-out`,x:`proxy`,X:`request`,Y:`speed-limit`,y:`speed-time`,z:`time-cond`,Z:`parallel`,"#":`progress-bar`,":":`next`},changedShortOpts={p:`used to be short for --port <port> (a since-deleted flag) until curl 7.3`,t:`used to be short for --upload (a since-deleted boolean flag) until curl 7.7`,c:`used to be short for --continue (a since-deleted boolean flag) until curl 7.9`,"@":`used to be short for --create-dirs until curl 7.10.7`,Z:`used to be short for --max-redirs <num> until curl 7.10.7`,9:`used to be short for --crlf until curl 7.10.8`,8:`used to be short for --stderr <file> until curl 7.10.8`,7:`used to be short for --interface <name> until curl 7.10.8`,6:`used to be short for --krb <level> (which itself used to be --krb4 <level>) until curl 7.10.8`,5:`used to be another way to specify the url until curl 7.10.8`,"*":`used to be another way to specify the url until curl 7.49.0`,"~":`used to be short for --xattr until curl 7.49.0`};var canBeList=new Set([`connect-to`,`cookie`,`data`,`form`,`header`,`hsts`,`mail-rcpt`,`output`,`proxy-header`,`quote`,`resolve`,`telnet-option`,`upload-file`,`url-query`,`url`]);function checkSupported(global_,lookup,longArg,supportedOpts){supportedOpts&&!supportedOpts.has(longArg.name)&&warnf(global_,[longArg.name,lookup+` is not a supported option`+(longArg.removed?`, it was removed in curl `+longArg.removed:``)])}function pushProp(obj,prop,value){return Object.prototype.hasOwnProperty.call(obj,prop)||(obj[prop]=[]),obj[prop].push(value),obj}function pushArgValue(global_,config,argName,value){switch(argName){case`data`:case`data-ascii`:return pushProp(config,`data`,[`data`,value]);case`data-binary`:return pushProp(config,`data`,[value.startsWith(`@`)?`binary`:`data`,value]);case`data-raw`:return pushProp(config,`data`,[value.startsWith(`@`)?`raw`:`data`,value]);case`data-urlencode`:return pushProp(config,`data`,[`urlencode`,value]);case`json`:return config.json=!0,pushProp(config,`data`,[`json`,value]);case`url-query`:return value.startsWith(`+`)?pushProp(config,`url-query`,[`raw`,value.slice(1)]):pushProp(config,`url-query`,[`urlencode`,value]);case`form`:return pushProp(config,`form`,{value,type:`form`});case`form-string`:return pushProp(config,`form`,{value,type:`string`});case`aws-sigv4`:config.authtype|=128;break;case`oauth2-bearer`:config.authtype|=64;break;case`unix-socket`:case`abstract-unix-socket`:pushProp(config,`unix-socket`,value);break;case`trace`:case`trace-ascii`:case`stderr`:case`libcurl`:case`config`:case`parallel-max`:global_[argName]=value;break;case`language`:global_[argName]=value.toString();return}return pushProp(config,argName,value)}function setArgValue(global_,config,argName,toggle){switch(argName){case`digest`:toggle?config.authtype|=2:config.authtype&=-3;break;case`proxy-digest`:toggle?config.proxyauthtype|=2:config.proxyauthtype&=-3;break;case`negotiate`:toggle?config.authtype|=4:config.authtype&=-5;break;case`proxy-negotiate`:toggle?config.proxyauthtype|=4:config.proxyauthtype&=-5;break;case`ntlm`:toggle?config.authtype|=8:config.authtype&=-9;break;case`proxy-ntlm`:toggle?config.proxyauthtype|=8:config.proxyauthtype&=-9;break;case`ntlm-wb`:toggle?config.authtype|=32:config.authtype&=-33;break;case`basic`:toggle?config.authtype|=1:config.authtype&=-2;break;case`proxy-basic`:toggle?config.proxyauthtype|=1:config.proxyauthtype&=-2;break;case`anyauth`:toggle&&(config.authtype=-17);break;case`proxy-anyauth`:toggle&&(config.proxyauthtype=-17);break;case`location`:config.location=toggle;break;case`location-trusted`:config.location=toggle,config[`location-trusted`]=toggle;break;case`http1.0`:config.httpVersion=`1.0`;break;case`http1.1`:config.httpVersion=`1.1`;break;case`http2`:config.httpVersion=`2`;break;case`http2-prior-knowledge`:config.httpVersion=`2-prior-knowledge`;break;case`http3`:config.httpVersion=`3`;break;case`http3-only`:config.httpVersion=`3-only`;break;case`tlsv1`:config.tlsVersion=`1`;break;case`tlsv1.0`:config.tlsVersion=`1.0`;break;case`tlsv1.1`:config.tlsVersion=`1.1`;break;case`tlsv1.2`:config.tlsVersion=`1.2`;break;case`tlsv1.3`:config.tlsVersion=`1.3`;break;case`verbose`:case`version`:case`trace-time`:case`test-event`:case`progress-bar`:case`progress-meter`:case`fail-early`:case`styled-output`:case`help`:case`silent`:case`show-error`:case`parallel`:case`parallel-immediate`:case`stdin`:global_[argName]=toggle;break;case`next`:toggle&&config.url&&config.url.length>0&&config.url.length>=(config[`upload-file`]||[]).length&&config.url.length>=(config.output||[]).length&&(config={authtype:1,proxyauthtype:1},global_.configs.push(config));break;default:config[argName]=toggle}return config}function parseArgs(args,longOpts=curlLongOpts,shortenedLongOpts=curlLongOptsShortened,shortOpts=curlShortOpts,supportedOpts,warnings=[]){let config={authtype:1,proxyauthtype:1},global_={configs:[config],warnings},seen=[];for(let i=1,stillflags=!0;i<args.length;i++){let arg=args[i];if(stillflags&&arg.startsWith(`-`))if(eq(arg,`--`))stillflags=!1;else if(arg.startsWith(`--`)){let shellToken=firstShellToken(arg);if(shellToken)throw new CCError(`this `+shellToken.type+` could `+(shellToken.type===`command`?`return`:`be`)+` anything
`+underlineNode(shellToken.syntaxNode));let argStr=arg.toString(),lookup=argStr.slice(2),longArg=shortenedLongOpts[lookup];if(longArg===void 0&&(longArg=longOpts[lookup]),longArg===null)throw new CCError(`option `+argStr+`: is ambiguous`);if(longArg===void 0)throw new CCError(`option `+argStr+`: is unknown`);if(longArg.type===`string`){if(i++,i>=args.length)throw new CCError(`option `+argStr+`: requires parameter`);pushArgValue(global_,config,longArg.name,args[i])}else config=setArgValue(global_,config,longArg.name,toBoolean(argStr.slice(2)));checkSupported(global_,argStr,longArg,supportedOpts),seen.push([longArg.name,argStr])}else{if(arg.length===1)if(Object.prototype.hasOwnProperty.call(shortOpts,``)){let shortFor=shortOpts[``],longArg=longOpts[shortFor];if(longArg===null)throw new CCError(`option -: is unknown`);config=setArgValue(global_,config,longArg.name,toBoolean(shortFor)),seen.push([longArg.name,`-`])}else throw new CCError(`option -: is unknown`);for(let j=1;j<arg.length;j++){let jthChar=arg.get(j);if(typeof jthChar!=`string`)throw new CCError(`this `+jthChar.type+` could `+(jthChar.type===`command`?`return`:`be`)+` anything
`+underlineNode(jthChar.syntaxNode));if(!has(shortOpts,jthChar))throw has(changedShortOpts,jthChar)?new CCError(`option `+arg+`: `+changedShortOpts[jthChar]):new CCError(`option `+arg+`: is unknown`);let lookup=jthChar,shortFor=shortOpts[lookup],longArg=longOpts[shortFor];if(longArg===null)throw new CCError(`ambiguous short option -`+jthChar);if(longArg.type===`string`){let val;if(j+1<arg.length)val=arg.slice(j+1),j=arg.length;else if(i+1<args.length)i++,val=args[i];else throw new CCError(`option `+arg.toString()+`: requires parameter`);pushArgValue(global_,config,longArg.name,val)}else config=setArgValue(global_,config,longArg.name,toBoolean(shortFor));lookup&&(checkSupported(global_,`-`+lookup,longArg,supportedOpts),seen.push([longArg.name,`-`+lookup]))}}else{if(typeof arg!=`string`&&arg.tokens.length&&typeof arg.tokens[0]!=`string`){let isOrBeginsWith=arg.tokens.length===1?`is`:`begins with`;warnings.push([`ambiguous argument`,`argument `+isOrBeginsWith+` a `+arg.tokens[0].type+`, assuming it's a URL
`+underlineNode(arg.tokens[0].syntaxNode)])}pushArgValue(global_,config,`url`,arg),seen.push([`url`,`--url`])}}for(let cfg of global_.configs)for(let[arg,values]of Object.entries(cfg))Array.isArray(values)&&!canBeList.has(arg)&&(cfg[arg]=values[values.length-1]);return[global_,seen]}var COMMA_SEPARATED=new Set([`A-IM`,`Accept`,`Accept-Charset`,`Accept-Encoding`,`Accept-Language`,`Access-Control-Request-Headers`,`Cache-Control`,`Connection`,`Content-Encoding`,`Expect`,`Forwarded`,`If-Match`,`If-None-Match`,`Range`,`TE`,`Trailer`,`Transfer-Encoding`,`Upgrade`,`Via`,`Warning`].map(h=>h.toLowerCase())),SEMICOLON_SEPARATED=new Set([`Content-Type`,`Cookie`,`Prefer`].map(h=>h.toLowerCase())),Headers=class{constructor(headerArgs,warnings=[],argName=`--header/H`){let headers=[];if(headerArgs)for(let header of headerArgs){if(header.startsWith(`@`)){warnings.push([`header-file`,`passing a file for `+argName+` is not supported: `+JSON.stringify(header.toString())]);continue}if(header.includes(`:`)){let[name,value]=header.split(`:`,2),headerValue=value&&(eq(name,`Host`)?value:value.trim()).toBool()?value.removeFirstChar(` `):null;headers.push([name,headerValue])}else if(header.includes(`;`)){let[name]=header.split(`;`,2);headers.push([name,new Word])}}this.lowercase=headers.length>0&&headers.every(h=>eq(h[0],h[0].toLowerCase()));let uniqueHeaders={};for(let[name,value]of headers){let lowerName=name.toLowerCase().toString();uniqueHeaders[lowerName]||(uniqueHeaders[lowerName]=[]),uniqueHeaders[lowerName].push([name,value])}headers=[];for(let[lowerName,repeatedHeaders]of Object.entries(uniqueHeaders)){if(repeatedHeaders.length===1){headers.push(repeatedHeaders[0]);continue}if(repeatedHeaders.every(h=>h[1]===null)){let lastRepeat=repeatedHeaders[repeatedHeaders.length-1];new Set(repeatedHeaders.map(h=>h[0])).size>1&&warnings.push([`repeated-header`,`"${lastRepeat[0]}" header unset ${repeatedHeaders.length} times`]),headers.push(lastRepeat);continue}let nonEmptyHeaders=repeatedHeaders.filter(h=>h[1]!==null);if(nonEmptyHeaders.length===1){headers.push(nonEmptyHeaders[0]);continue}let mergeChar=``;if(COMMA_SEPARATED.has(lowerName)?mergeChar=`, `:SEMICOLON_SEPARATED.has(lowerName)&&(mergeChar=`; `),mergeChar){let merged=joinWords(nonEmptyHeaders.map(h=>h[1]),mergeChar);warnings.push([`repeated-header`,`merged ${nonEmptyHeaders.length} "${nonEmptyHeaders[nonEmptyHeaders.length-1][0]}" headers together with "${mergeChar.trim()}"`]),headers.push([nonEmptyHeaders[0][0],merged]);continue}warnings.push([`repeated-header`,`found ${nonEmptyHeaders.length} "${nonEmptyHeaders[nonEmptyHeaders.length-1][0]}" headers, only the last one will be sent`]),headers=headers.concat(nonEmptyHeaders)}this.headers=headers}get length(){return this.headers.length}*[Symbol.iterator](){for(let h of this.headers)yield h}get(header){let lookup=header.toLowerCase();for(let[h,v]of this.headers)if(h.toLowerCase().toString()===lookup)return v}getContentType(){let contentTypeHeader=this.get(`content-type`);return contentTypeHeader&&contentTypeHeader.split(`;`)[0].trim().toString()}has(header){let lookup=header.toLowerCase();for(let h of this.headers)if(eq(h[0].toLowerCase(),lookup))return!0;return!1}setIfMissing(header,value){if(this.has(header))return!1;this.lowercase&&(header=header.toLowerCase());let k=typeof header==`string`?new Word(header):header,v=typeof value==`string`?new Word(value):value;return this.headers.push([k,v]),!0}prependIfMissing(header,value){if(this.has(header))return!1;this.lowercase&&(header=header.toLowerCase());let k=typeof header==`string`?new Word(header):header,v=typeof value==`string`?new Word(value):value;return this.headers.unshift([k,v]),!0}set(header,value){this.lowercase&&(header=header.toLowerCase());let k=typeof header==`string`?new Word(header):header,v=typeof value==`string`?new Word(value):value,searchHeader=k.toLowerCase().toString();for(let i=0;i<this.headers.length;i++)if(eq(this.headers[i][0].toLowerCase(),searchHeader)){this.headers[i][1]=v;return}this.headers.push([k,v])}delete(header){let lookup=header.toLowerCase();for(let i=this.headers.length-1;i>=0;i--)this.headers[i][0].toLowerCase().toString()===lookup&&this.headers.splice(i,1)}clearNulls(){for(let i=this.headers.length-1;i>=0;i--)this.headers[i][1]===null&&this.headers.splice(i,1)}count(header){let count=0,lookup=header.toLowerCase();for(let h of this.headers||[])h[0].toLowerCase().toString()===lookup&&(count+=1);return count}toBool(){return this.headers.length>0&&this.headers.some(h=>h[1]!==null)}};function parseCookiesStrict(cookieString){let cookies=[];for(let cookie of cookieString.split(`;`)){cookie=cookie.replace(/^ /,``);let[name,value]=cookie.split(`=`,2);if(value===void 0)return null;cookies.push([name,value])}return new Set(cookies.map(c=>c[0])).size===cookies.length?cookies:null}function parseCookies(cookieString){let cookies=[];for(let cookie of cookieString.split(`;`)){if(cookie=cookie.trim(),!cookie)continue;let[name,value]=cookie.split(`=`,2);cookies.push([name.trim(),(value||``).trim()])}return new Set(cookies.map(c=>c[0])).size===cookies.length?cookies:null}var MAX_IP6LEN=128;function isIpv6(glob){return glob.length>MAX_IP6LEN?!1:!glob.includes(`-`)}function warnAboutGlobs(global_,url){let prev=``;for(let i=0;i<url.length;i++){let cur=url[i];if(cur===`[`&&prev!==`\\`){let j=i+1;for(;j<url.length&&url[j]!==`]`;)j++;if(j<url.length&&url[j]===`]`){let glob=url.slice(i,j+1);isIpv6(glob)||warnf(global_,[`glob-in-url`,`globs in the URL are not supported:\n${url}\n`+` `.repeat(i)+`^`.repeat(glob.length)]),prev=``}else{warnf(global_,[`unbalanced-glob`,`bracket doesn't have a closing bracket:
${url}\n${` `.repeat(i)}^`]);return}}else if(cur===`{`&&prev!==`\\`){let j=i+1;for(;j<url.length&&url[j]!==`}`;)j++;if(j<url.length&&url[j]===`}`){let glob=url.slice(i,j+1);warnf(global_,[`glob-in-url`,`globs in the URL are not supported:\n${url}\n`+` `.repeat(i)+`^`.repeat(glob.length)]),prev=``}else{warnf(global_,[`unbalanced-glob`,`bracket doesn't have a closing bracket:
${url}\n${` `.repeat(i)}^`]);return}}prev=cur}}function parseurl(global_,config,url){var _a;let u={scheme:new Word,host:new Word,port:new Word,path:new Word,query:new Word,fragment:new Word};config.globoff||(url.isString()&&warnAboutGlobs(global_,url.toString()),url=url.replace(/\\([[\]{}])/g,`$1`));let schemeMatch=null;if(url.tokens.length&&typeof url.tokens[0]==`string`&&(schemeMatch=url.tokens[0].match(/^([a-zA-Z0-9+-.]*):\/\/*/)),schemeMatch){let[schemeAndSlashes,scheme]=schemeMatch;u.scheme=new Word(scheme.toLowerCase()),url=url.slice(schemeAndSlashes.length)}else u.scheme=config[`proto-default`]??new Word(`http`);!eq(u.scheme,`http`)&&!eq(u.scheme,`https`)&&warnf(global_,[`bad-scheme`,`Protocol "${u.scheme}" not supported`]);let hostMatch=url.indexOfFirstChar(`/?#`);if(hostMatch!==-1){u.host=url.slice(0,hostMatch),u.path=url.slice(hostMatch);let fragmentIndex=u.path.indexOf(`#`),queryIndex=u.path.indexOf(`?`);fragmentIndex===-1?queryIndex!==-1&&(u.query=u.path.slice(queryIndex),u.path=u.path.slice(0,queryIndex)):(u.fragment=u.path.slice(fragmentIndex),queryIndex!==-1&&queryIndex<fragmentIndex?(u.query=u.path.slice(queryIndex,fragmentIndex),u.path=u.path.slice(0,queryIndex)):u.path=u.path.slice(0,fragmentIndex))}else u.host=url;let authMatch=u.host.indexOf(`@`);if(authMatch!==-1){let auth=u.host.slice(0,authMatch);u.host=u.host.slice(authMatch+1),config[`disallow-username-in-url`]?warnf(global_,[`login-denied`,`Found auth in URL but --disallow-username-in-url was passed: ${auth.toString()}`]):(u.auth=auth,auth.includes(`:`)?[u.user,u.password]=auth.split(`:`,2):(u.user=auth,u.password=new Word))}return u}function _percentEncode(s){return[...UTF8encoder.encode(s)].map(b=>b>=65&&b<=90||b>=97&&b<=122||b>=48&&b<=57||b===45||b===46||b===95||b===126?String.fromCharCode(b):`%`+b.toString(16).toUpperCase().padStart(2,`0`)).join(``)}function percentEncode(s){let newTokens=[];for(let token of s.tokens)typeof token==`string`?newTokens.push(_percentEncode(token)):newTokens.push(token);return new Word(newTokens)}function percentEncodePlus(s){let newTokens=[];for(let token of s.tokens)typeof token==`string`?newTokens.push(_percentEncode(token).replace(/%20/g,`+`)):newTokens.push(token);return new Word(newTokens)}function wordDecodeURIComponent(s){let newTokens=[];for(let token of s.tokens)typeof token==`string`?newTokens.push(decodeURIComponent(token)):newTokens.push(token);return new Word(newTokens)}function parseQueryString(s){if(!s||s.isEmpty())return[null,null];let asList=[];for(let param of s.split(`&`)){if(!param.includes(`=`))return[null,null];let[key,val]=param.split(`=`,2),decodedKey,decodedVal;try{decodedKey=wordDecodeURIComponent(key.replace(/\+/g,` `)),decodedVal=wordDecodeURIComponent(val.replace(/\+/g,` `))}catch(e){if(e instanceof URIError)return[null,null];throw e}let roundTripKey=percentEncode(decodedKey),roundTripVal=percentEncode(decodedVal);if(!eq(roundTripKey,key)&&!eq(roundTripKey.replace(/%20/g,`+`),key)||!eq(roundTripVal,val)&&!eq(roundTripVal.replace(/%20/g,`+`),val))return[null,null];asList.push([decodedKey,decodedVal])}let keyWords={},uniqueKeys={},prevKey=null;for(let[key,val]of asList){let keyStr=key.toString();if(prevKey===keyStr)uniqueKeys[keyStr].push(val);else if(!Object.prototype.hasOwnProperty.call(uniqueKeys,keyStr))uniqueKeys[keyStr]=[val],keyWords[keyStr]=key;else return[asList,null];prevKey=keyStr}let asDict=[];for(let[keyStr,val]of Object.entries(uniqueKeys))asDict.push([keyWords[keyStr],val.length===1?val[0]:val]);return[asList,asDict]}function parseDetails(formParam,p,ptr,supported,warnings){for(;ptr<p.length&&p.charAt(ptr)===`;`;){for(ptr+=1;ptr<p.length&&isSpace(p.charAt(ptr));)ptr+=1;if(ptr>=p.length)return formParam;let value=p.slice(ptr);if(value.startsWith(`type=`))[formParam.contentType,ptr]=getParamWord(p,ptr+5,warnings);else if(value.startsWith(`filename=`)){let[filename,filenameEnd]=getParamWord(p,ptr+9,warnings);ptr=filenameEnd,supported.filename?formParam.filename=filename:warnings.push([`unsupported-form-detail`,`Field file name not allowed here: `+filename.toString()])}else if(value.startsWith(`encoder=`)){let[encoder,encoderEnd]=getParamWord(p,ptr+8,warnings);ptr=encoderEnd,supported.encoder?formParam.encoder=encoder:warnings.push([`unsupported-form-detail`,`Field encoder not allowed here: `+encoder.toString()])}else if(value.startsWith(`headers=`)){let[headers,headersEnd]=getParamWord(p,ptr+8,warnings);ptr=headersEnd,supported.headers?headers.startsWith(`@`)?(formParam.headerFiles===void 0&&(formParam.headerFiles=[]),formParam.headerFiles.push(headers.slice(1))):(formParam.headers===void 0&&(formParam.headers=[]),formParam.headers.push(headers)):warnings.push([`unsupported-form-detail`,`Field headers not allowed here: `+headers.toString()])}else ptr=getParamWord(p,ptr,warnings)[1],warnings.push([`unknown-form-detail`,`skip unknown form field: `+value.toString()])}return formParam}function isSpace(c){return typeof c==`string`&&(c===` `||c===`	`||c>=`
`&&c<=`\r`)}function getParamWord(p,start,warnings){let ptr=start;if(p.charAt(ptr)===`"`){ptr+=1;let parts=[];for(;ptr<p.length;){let curChar=p.charAt(ptr);if(curChar===`\\`){if(ptr+1<p.length){let nextChar=p.charAt(ptr+1);(nextChar===`"`||nextChar===`\\`)&&(ptr+=1,curChar=p.charAt(ptr))}}else if(curChar===`"`){ptr+=1;let trailingData=!1;for(;ptr<p.length&&p.charAt(ptr)!==`;`;)isSpace(p.charAt(ptr))||(trailingData=!0),ptr+=1;return trailingData&&warnings.push([`trailing-form-data`,`Trailing data after quoted form parameter`]),[new Word(parts),ptr]}parts.push(curChar),ptr+=1}}let sepIdx=p.indexOf(`;`,start);return sepIdx===-1&&(sepIdx=p.length),[p.slice(start,sepIdx),sepIdx]}function getParamPart(formParam,p,ptr,supported,warnings){for(;ptr<p.length&&isSpace(p.charAt(ptr));)ptr+=1;let[content,contentEnd]=getParamWord(p,ptr,warnings);return formParam.content=content,parseDetails(formParam,p,contentEnd,supported,warnings),formParam}function parseForm(form,warnings){let multipartUploads=[],depth=0;for(let multipartArgument of form){let isString$1=multipartArgument.type===`string`;if(!multipartArgument.value.includes(`=`))throw new CCError(`invalid value for --form/-F, missing "=": `+JSON.stringify(multipartArgument.value.toString()));let[name,value]=multipartArgument.value.split(`=`,2),formParam={name};if(!isString$1&&value.charAt(0)===`(`)depth+=1,warnings.push([`nested-form`,`Nested form data with "=(" is not supported, it will be flattened`]),getParamPart(formParam,value,1,{headers:!0},warnings);else if(!isString$1&&name.length===0&&eq(value,`)`)){if(--depth,depth<0)throw new CCError(`no multipart to terminate: `+JSON.stringify(multipartArgument.value.toString()))}else !isString$1&&value.charAt(0)===`@`?(getParamPart(formParam,value,1,{filename:!0,encoder:!0,headers:!0},warnings),formParam.contentFile=formParam.content,delete formParam.content,(formParam.filename===null||formParam.filename===void 0)&&(formParam.filename=formParam.contentFile),formParam.contentType===null||formParam.contentType):!isString$1&&value.charAt(0)===`<`?(getParamPart(formParam,value,1,{encoder:!0,headers:!0},warnings),formParam.contentFile=formParam.content,delete formParam.content,formParam.contentType===null||formParam.contentType):isString$1?formParam.content=value:getParamPart(formParam,value,0,{filename:!0,encoder:!0,headers:!0},warnings);multipartUploads.push(formParam)}return multipartUploads}function buildURL(global_,config,url,uploadFile,outputFile,stdin,stdinFile){let originalUrl=url,u=parseurl(global_,config,url);uploadFile&&(u.path.isEmpty()?u.path=uploadFile.prepend(`/`):u.path.endsWith(`/`)&&(u.path=u.path.add(uploadFile)),config.get&&warnf(global_,[`data-ignored`,`curl doesn't let you pass --get and --upload-file together`]));let urlWithOriginalQuery=mergeWords(u.scheme,`://`,u.host,u.path,u.query,u.fragment),urlQueryArray=null,queryArray=null,queryStrReadsFile=null;if(u.query.toBool()||config[`url-query`]&&config[`url-query`].length){let queryStr=null,queryParts=[];u.query.toBool()&&(queryParts.push([`raw`,u.query.slice(1)]),[queryArray,queryStr,queryStrReadsFile]=buildData(queryParts,stdin,stdinFile),urlQueryArray=queryArray),config[`url-query`]&&(queryParts=queryParts.concat(config[`url-query`]),[queryArray,queryStr,queryStrReadsFile]=buildData(queryParts,stdin,stdinFile)),u.query=new Word,queryStr&&queryStr.toBool()&&(u.query=queryStr.prepend(`?`))}let urlWithoutQueryArray=mergeWords(u.scheme,`://`,u.host,u.path,u.fragment);url=mergeWords(u.scheme,`://`,u.host,u.path,u.query,u.fragment);let urlWithoutQueryList=url,[queryList,queryDict]=parseQueryString(u.query.toBool()?u.query.slice(1):new Word);queryList&&queryList.length?urlWithoutQueryList=mergeWords(u.scheme,`://`,u.host,u.path,u.fragment):(queryList=null,queryDict=null);let method=new Word(`GET`);config.request&&!eq(config.request,`null`)?method=config.request:config.head?method=new Word(`HEAD`):uploadFile&&uploadFile.toBool()?method=new Word(`PUT`):!config.get&&(has(config,`data`)||has(config,`form`))&&(method=new Word(`POST`));let requestUrl={originalUrl,urlWithoutQueryList,url,urlObj:u,urlWithOriginalQuery,urlWithoutQueryArray,method};queryStrReadsFile&&(requestUrl.queryReadsFile=queryStrReadsFile),queryList&&(requestUrl.queryList=queryList,queryDict&&(requestUrl.queryDict=queryDict)),queryArray&&(requestUrl.queryArray=queryArray),urlQueryArray&&(requestUrl.urlQueryArray=urlQueryArray),uploadFile&&(eq(uploadFile,`-`)||eq(uploadFile,`.`)?stdinFile?requestUrl.uploadFile=stdinFile:(stdin&&warnf(global_,[`upload-file-with-stdin-content`,`--upload-file with stdin content is not supported`]),requestUrl.uploadFile=uploadFile):requestUrl.uploadFile=uploadFile),outputFile&&(requestUrl.output=outputFile);let auth=config.user||u.auth;if(auth){let[user,pass]=auth.split(`:`,2);requestUrl.auth=[user,pass||new Word]}return requestUrl}function buildData(configData,stdin,stdinFile){let data=[],dataStrState=new Word;for(let[i,x]of configData.entries()){let type=x[0],value=x[1],name=null;if(i>0&&type!==`json`&&(dataStrState=dataStrState.append(`&`)),type===`urlencode`){let splitOn=value.includes(`=`)||!value.includes(`@`)?`=`:`@`;if((value.includes(`@`)||value.includes(`=`))&&([name,value]=value.split(splitOn,2)),splitOn===`=`){name&&name.toBool()&&(dataStrState=dataStrState.add(name).append(`=`)),dataStrState=dataStrState.add(percentEncodePlus(value));continue}name=name&&name.toBool()?name:null,value=value.prepend(`@`)}let filename=null;if(type!==`raw`&&value.startsWith(`@`)&&(filename=value.slice(1),eq(filename,`-`)))if(stdin!==void 0){switch(type){case`binary`:case`json`:value=stdin;break;case`urlencode`:value=mergeWords(name&&name.length?name.append(`=`):new Word,percentEncodePlus(stdin));break;default:value=stdin.replace(/[\n\r]/g,``)}filename=null}else stdinFile!==void 0&&(filename=stdinFile);if(filename!==null){dataStrState.toBool()&&(data.push(dataStrState),dataStrState=new Word);let dataParam={filetype:type,filename};name&&(dataParam.name=name),data.push(dataParam)}else dataStrState=dataStrState.add(value)}dataStrState.toBool()&&data.push(dataStrState);let dataStrReadsFile=null;return[data,mergeWords(...data.map(d=>d instanceof Word?d:(dataStrReadsFile||=d.filename.toString(),d.name?mergeWords(d.name,`=@`,d.filename):d.filename.prepend(`@`)))),dataStrReadsFile]}function parseContentType(string){if(!string.includes(`;`))return[string,[]];let semi=string.indexOf(`;`),type=string.slice(0,semi),rest=string.slice(semi),params=rest.match(/;\s*([^;=]+)=(?:("[^"]*")|([^()<>@,;:\\"/[\]?.=]*))/g);if(rest.trim()&&!params)return null;let parsedParams=[];for(let param of params||[]){let parsedParam=param.match(/;\s*([^;=]+)=(?:("[^"]*")|([^()<>@,;:\\"/[\]?.=]*))/);if(!parsedParam)return null;let name=parsedParam[1],value=parsedParam[3]||parsedParam[2].slice(1,-1);parsedParams.push([name,value])}return[type,parsedParams]}function parseBoundary(string){let header=parseContentType(string);if(!header)return null;for(let[name,value]of header[1])if(name===`boundary`)return value;return null}function parseRawForm(data,boundary){let endBoundary=`\r
--`+boundary+`--\r
`;if(!data.endsWith(endBoundary)||(data=data.slice(0,-endBoundary.length),boundary=`--`+boundary+`\r
`,data&&!data.startsWith(boundary)))return null;data=data.slice(boundary.length);let parts=data.split(`\r
`+boundary),form=[],roundtrips=!0;for(let part of parts){let lines=part.split(`\r
`);if(lines.length<2)return null;let formParam={name:new Word,content:new Word},seenContentDisposition=!1,headers=[],i=0;for(;i<lines.length&&lines[i].length!==0;i++){let[name,value]=lines[i].split(`: `,2);if(name===void 0||value===void 0)return null;if(name.toLowerCase()===`content-disposition`){if(seenContentDisposition)return null;let contentDisposition=parseContentType(value);if(!contentDisposition)return null;let[type,params]=contentDisposition;if(type!==`form-data`)return null;let extra=0;for(let[paramName,paramValue]of params)switch(paramName){case`name`:formParam.name=new Word(paramValue);break;case`filename`:formParam.filename=new Word(paramValue);break;default:extra++;break}extra&&(roundtrips=!1),seenContentDisposition=!0}else name.toLowerCase()===`content-type`?formParam.contentType=new Word(value):headers.push(new Word(lines[i]))}if(headers.length&&(formParam.headers=headers),!seenContentDisposition||i===lines.length||formParam.name.isEmpty())return null;formParam.content=new Word(lines.slice(i+1).join(`
`)),form.push(formParam)}return[form,roundtrips]}function buildRequest(global_,config,stdin,stdinFile){var _a,_b;if(!config.url||!config.url.length)throw new CCError(`no URL specified!`);let headers=new Headers(config.header,global_.warnings),proxyHeaders=new Headers(config[`proxy-header`],global_.warnings,`--proxy-header`),cookies,cookieFiles=[],cookieHeader=headers.get(`cookie`);if(cookieHeader){let parsedCookies=parseCookiesStrict(cookieHeader);parsedCookies&&(cookies=parsedCookies)}else if(cookieHeader===void 0&&config.cookie){let cookieStrings=[];for(let c of config.cookie)c.includes(`=`)?cookieStrings.push(c):cookieFiles.push(c);if(cookieStrings.length){let cookieString=joinWords(config.cookie,`; `);headers.setIfMissing(`Cookie`,cookieString);let parsedCookies=parseCookies(cookieString);parsedCookies&&(cookies=parsedCookies)}}let refererAuto=!1;if(config[`user-agent`]&&headers.setIfMissing(`User-Agent`,config[`user-agent`]),config.referer){config.referer.includes(`;auto`)&&(refererAuto=!0);let referer=config.referer.replace(/;auto$/,``);referer.length&&headers.setIfMissing(`Referer`,referer)}if(config.range){let range=config.range.prepend(`bytes=`);range.includes(`-`)||(range=range.append(`-`)),headers.setIfMissing(`Range`,range)}if(config[`time-cond`]){let timecond=config[`time-cond`],header=`If-Modified-Since`;switch(timecond.charAt(0)){case`+`:timecond=timecond.slice(1);break;case`-`:timecond=timecond.slice(1),header=`If-Unmodified-Since`;break;case`=`:timecond=timecond.slice(1),header=`Last-Modified`;break}headers.setIfMissing(header,timecond)}let data,dataStr,dataStrReadsFile,queryArray;config.data&&config.data.length&&(config.get?(config[`url-query`]=config.data,delete config.data):[data,dataStr,dataStrReadsFile]=buildData(config.data,stdin,stdinFile)),config[`url-query`]&&([queryArray]=buildData(config[`url-query`],stdin,stdinFile));let urls=[],uploadFiles=config[`upload-file`]||[],outputFiles=config.output||[];for(let[i,url]of config.url.entries())urls.push(buildURL(global_,config,url,uploadFiles[i],outputFiles[i],stdin,stdinFile));config.get&&config.data&&delete config.data,(config[`upload-file`]||[]).length>config.url.length&&warnf(global_,[`too-many-upload-files`,`Got more --upload-file/-T options than URLs: `+config[`upload-file`]?.map(f=>JSON.stringify(f.toString())).join(`, `)]),(config.output||[]).length>config.url.length&&warnf(global_,[`too-many-output-files`,`Got more --output/-o options than URLs: `+config.output?.map(f=>JSON.stringify(f.toString())).join(`, `)]);let request={urls,authType:pickAuth(config.authtype),proxyAuthType:pickAuth(config.proxyauthtype),headers,proxyHeaders};stdin&&(request.stdin=stdin),stdinFile&&(request.stdinFile=stdinFile),Object.prototype.hasOwnProperty.call(config,`globoff`)&&(request.globoff=config.globoff),Object.prototype.hasOwnProperty.call(config,`disallow-username-in-url`)&&(request.disallowUsernameInUrl=config[`disallow-username-in-url`]),Object.prototype.hasOwnProperty.call(config,`path-as-is`)&&(request.pathAsIs=config[`path-as-is`]),refererAuto&&(request.refererAuto=!0),cookies&&(request.cookies=cookies),cookieFiles.length&&(request.cookieFiles=cookieFiles),config[`cookie-jar`]&&(request.cookieJar=config[`cookie-jar`]),Object.prototype.hasOwnProperty.call(config,`junk-session-cookies`)&&(request.junkSessionCookies=config[`junk-session-cookies`]),Object.prototype.hasOwnProperty.call(config,`compressed`)&&(request.compressed=config.compressed),Object.prototype.hasOwnProperty.call(config,`tr-encoding`)&&(request.transferEncoding=config[`tr-encoding`]),config.include&&(request.include=!0),config.json?(headers.setIfMissing(`Content-Type`,`application/json`),headers.setIfMissing(`Accept`,`application/json`)):config.data?headers.setIfMissing(`Content-Type`,`application/x-www-form-urlencoded`):config.form&&(request.multipartUploads=parseForm(config.form,global_.warnings));let contentType=headers.getContentType(),exactContentType=headers.get(`Content-Type`);if(config.data&&!dataStrReadsFile&&dataStr&&dataStr.isString()&&!config.form&&!request.multipartUploads&&contentType===`multipart/form-data`&&exactContentType&&exactContentType.isString()){let boundary=parseBoundary(exactContentType.toString());if(boundary){let form=parseRawForm(dataStr.toString(),boundary);if(form){let[parsedForm,roundtrip]=form;request.multipartUploads=parsedForm,roundtrip||(request.multipartUploadsDoesntRoundtrip=!0)}}}if(Object.prototype.hasOwnProperty.call(config,`form-escape`)&&(request.formEscape=config[`form-escape`]),config[`aws-sigv4`]&&(request.authType=`aws-sigv4`,request.awsSigV4=config[`aws-sigv4`]),request.authType===`bearer`&&config[`oauth2-bearer`]){let bearer=config[`oauth2-bearer`].prepend(`Bearer `);headers.setIfMissing(`Authorization`,bearer),request.oauth2Bearer=config[`oauth2-bearer`]}if(config.delegation&&(request.delegation=config.delegation),config.krb&&(request.krb=config.krb),config[`sasl-authzid`]&&(request.saslAuthzid=config[`sasl-authzid`]),Object.prototype.hasOwnProperty.call(config,`sasl-ir`)&&(request.saslIr=config[`sasl-ir`]),config.negotiate&&(request.authType=`negotiate`),config[`service-name`]&&(request.serviceName=config[`service-name`]),headers.clearNulls(),config.data&&config.data.length&&(request.data=dataStr,dataStrReadsFile&&(request.dataReadsFile=dataStrReadsFile),request.dataArray=data,request.isDataRaw=!1,request.isDataBinary=(data||[]).some(d=>!(d instanceof Word)&&d.filetype===`binary`)),queryArray&&(request.queryArray=queryArray),Object.prototype.hasOwnProperty.call(config,`ipv4`)&&(request.ipv4=config.ipv4),Object.prototype.hasOwnProperty.call(config,`ipv6`)&&(request.ipv6=config.ipv6),config.proto&&(request.proto=config.proto),config[`proto-redir`]&&(request.protoRedir=config[`proto-redir`]),config[`proto-default`]&&(request.protoDefault=config[`proto-default`]),config[`tcp-fastopen`]&&(request.tcpFastopen=config[`tcp-fastopen`]),config[`local-port`]){let[start,end]=config[`local-port`].split(`-`,1);end&&end.toBool()?request.localPort=[start,end]:request.localPort=[config[`local-port`],null]}if(Object.prototype.hasOwnProperty.call(config,`ignore-content-length`)&&(request.ignoreContentLength=config[`ignore-content-length`]),config.interface&&(request.interface=config.interface),config.ciphers&&(request.ciphers=config.ciphers),config.curves&&(request.curves=config.curves),config.insecure&&(request.insecure=!0),Object.prototype.hasOwnProperty.call(config,`cert-status`)&&(request.certStatus=config[`cert-status`]),config.cert)if(config.cert.startsWith(`pkcs11:`)||!config.cert.match(/[:\\]/))request.cert=[config.cert,null];else{let colon=-1;try{colon=config.cert.search(/(?<!\\)(?:\\\\)*:/)}catch{colon=config.cert.search(/:/)}if(colon===-1)request.cert=[config.cert,null];else{let cert=config.cert.slice(0,colon),password=config.cert.slice(colon+1);password.toBool()?request.cert=[cert,password]:request.cert=[cert,null]}}if(config[`cert-type`]){let certType=config[`cert-type`];request.certType=certType,certType.isString()&&![`PEM`,`DER`,`ENG`,`P12`].includes(certType.toString().toUpperCase())&&warnf(global_,[`cert-type-unknown`,`not supported file type `+JSON.stringify(certType.toString())+` for certificate`])}return config.key&&(request.key=config.key),config[`key-type`]&&(request.keyType=config[`key-type`]),config.pass&&(request.pass=config.pass),config.cacert&&(request.cacert=config.cacert),Object.prototype.hasOwnProperty.call(config,`ca-native`)&&(request.caNative=config[`ca-native`]),Object.prototype.hasOwnProperty.call(config,`ssl-allow-beast`)&&(request.sslAllowBeast=config[`ssl-allow-beast`]),config.capath&&(request.capath=config.capath),config.crlfile&&(request.crlfile=config.crlfile),config.pinnedpubkey&&(request.pinnedpubkey=config.pinnedpubkey),config[`random-file`]&&(request.randomFile=config[`random-file`]),config[`egd-file`]&&(request.egdFile=config[`egd-file`]),config.hsts&&(request.hsts=config.hsts),Object.prototype.hasOwnProperty.call(config,`alpn`)&&(request.alpn=config.alpn),config.tlsVersion&&(request.tlsVersion=config.tlsVersion),config[`tls-max`]&&(request.tlsMax=config[`tls-max`]),config[`tls13-ciphers`]&&(request.tls13Ciphers=config[`tls13-ciphers`]),config.tlsauthtype&&(request.tlsauthtype=config.tlsauthtype),config.tlspassword&&(request.tlspassword=config.tlspassword),config.tlsuser&&(request.tlsuser=config.tlsuser),Object.prototype.hasOwnProperty.call(config,`ssl-allow-beast`)&&(request.sslAllowBeast=config[`ssl-allow-beast`]),Object.prototype.hasOwnProperty.call(config,`ssl-auto-client-cert`)&&(request.sslAutoClientCert=config[`ssl-auto-client-cert`]),Object.prototype.hasOwnProperty.call(config,`ssl-no-revoke`)&&(request.sslNoRevoke=config[`ssl-no-revoke`]),Object.prototype.hasOwnProperty.call(config,`ssl-reqd`)&&(request.sslReqd=config[`ssl-reqd`]),Object.prototype.hasOwnProperty.call(config,`ssl-revoke-best-effort`)&&(request.sslRevokeBestEffort=config[`ssl-revoke-best-effort`]),Object.prototype.hasOwnProperty.call(config,`ssl`)&&(request.ssl=config.ssl),Object.prototype.hasOwnProperty.call(config,`sslv2`)&&(request.sslv2=config.sslv2),Object.prototype.hasOwnProperty.call(config,`sslv3`)&&(request.sslv3=config.sslv3),config[`doh-url`]&&(request.dohUrl=config[`doh-url`]),Object.prototype.hasOwnProperty.call(config,`doh-insecure`)&&(request.dohInsecure=config[`doh-insecure`]),Object.prototype.hasOwnProperty.call(config,`doh-cert-status`)&&(request.dohCertStatus=config[`doh-cert-status`]),config.proxy&&(request.proxy=config.proxy,request.proxyType&&request.proxyType!==`http2`&&delete request.proxyType,config[`proxy-user`]&&(request.proxyAuth=config[`proxy-user`])),Object.prototype.hasOwnProperty.call(config,`proxytunnel`)&&(request.proxytunnel=config.proxytunnel),config.noproxy&&(request.noproxy=config.noproxy),config.preproxy&&(request.preproxy=config.preproxy),Object.prototype.hasOwnProperty.call(config,`proxy-anyauth`)&&(request.proxyAnyauth=config[`proxy-anyauth`]),Object.prototype.hasOwnProperty.call(config,`proxy-basic`)&&(request.proxyBasic=config[`proxy-basic`]),Object.prototype.hasOwnProperty.call(config,`proxy-digest`)&&(request.proxyDigest=config[`proxy-digest`]),Object.prototype.hasOwnProperty.call(config,`proxy-negotiate`)&&(request.proxyNegotiate=config[`proxy-negotiate`]),Object.prototype.hasOwnProperty.call(config,`proxy-ntlm`)&&(request.proxyNtlm=config[`proxy-ntlm`]),Object.prototype.hasOwnProperty.call(config,`proxy-ca-native`)&&(request.proxyCaNative=config[`proxy-ca-native`]),config[`proxy-cacert`]&&(request.proxyCacert=config[`proxy-cacert`]),config[`proxy-capath`]&&(request.proxyCapath=config[`proxy-capath`]),config[`proxy-cert-type`]&&(request.proxyCertType=config[`proxy-cert-type`]),config[`proxy-cert`]&&(request.proxyCert=config[`proxy-cert`]),config[`proxy-ciphers`]&&(request.proxyCiphers=config[`proxy-ciphers`]),config[`proxy-crlfile`]&&(request.proxyCrlfile=config[`proxy-crlfile`]),config[`proxy-http2`]&&(request.proxyType=`http2`),config[`proxy1.0`]&&(request.proxy=config[`proxy1.0`],request.proxyType=`http1`),Object.prototype.hasOwnProperty.call(config,`proxy-insecure`)&&(request.proxyInsecure=config[`proxy-insecure`]),config[`proxy-key`]&&(request.proxyKey=config[`proxy-key`]),config[`proxy-key-type`]&&(request.proxyKeyType=config[`proxy-key-type`]),config[`proxy-pass`]&&(request.proxyPass=config[`proxy-pass`]),config[`proxy-pinnedpubkey`]&&(request.proxyPinnedpubkey=config[`proxy-pinnedpubkey`]),config[`proxy-pinnedpubkey`]&&(request.proxyPinnedpubkey=config[`proxy-pinnedpubkey`]),config[`proxy-service-name`]&&(request.proxyServiceName=config[`proxy-service-name`]),Object.prototype.hasOwnProperty.call(config,`proxy-ssl-allow-beast`)&&(request.proxySslAllowBeast=config[`proxy-ssl-allow-beast`]),Object.prototype.hasOwnProperty.call(config,`proxy-ssl-auto-client-cert`)&&(request.proxySslAutoClientCert=config[`proxy-ssl-auto-client-cert`]),config[`proxy-tls13-ciphers`]&&(request.proxyTls13Ciphers=config[`proxy-tls13-ciphers`]),config[`proxy-tlsauthtype`]&&(request.proxyTlsauthtype=config[`proxy-tlsauthtype`],request.proxyTlsauthtype.isString()&&!eq(request.proxyTlsauthtype,`SRP`)&&warnf(global_,[`proxy-tlsauthtype`,`proxy-tlsauthtype is not supported: `+request.proxyTlsauthtype])),config[`proxy-tlspassword`]&&(request.proxyTlspassword=config[`proxy-tlspassword`]),config[`proxy-tlsuser`]&&(request.proxyTlsuser=config[`proxy-tlsuser`]),Object.prototype.hasOwnProperty.call(config,`proxy-tlsv1`)&&(request.proxyTlsv1=config[`proxy-tlsv1`]),config[`proxy-user`]&&(request.proxyUser=config[`proxy-user`]),Object.prototype.hasOwnProperty.call(config,`proxytunnel`)&&(request.proxytunnel=config.proxytunnel),config.socks4&&(request.proxy=config.socks4,request.proxyType=`socks4`),config.socks4a&&(request.proxy=config.socks4a,request.proxyType=`socks4a`),config.socks5&&(request.proxy=config.socks5,request.proxyType=`socks5`),config[`socks5-hostname`]&&(request.proxy=config[`socks5-hostname`],request.proxyType=`socks5-hostname`),Object.prototype.hasOwnProperty.call(config,`socks5-basic`)&&(request.socks5Basic=config[`socks5-basic`]),Object.prototype.hasOwnProperty.call(config,`socks5-gssapi-nec`)&&(request.socks5GssapiNec=config[`socks5-gssapi-nec`]),config[`socks5-gssapi-service`]&&(request.socks5GssapiService=config[`socks5-gssapi-service`]),Object.prototype.hasOwnProperty.call(config,`socks5-gssapi`)&&(request.socks5Gssapi=config[`socks5-gssapi`]),config[`haproxy-clientip`]&&(request.haproxyClientIp=config[`haproxy-clientip`]),Object.prototype.hasOwnProperty.call(config,`haproxy-protocol`)&&(request.haproxyProtocol=config[`haproxy-protocol`]),config[`max-time`]&&(request.timeout=config[`max-time`],config[`max-time`].isString()&&isNaN(parseFloat(config[`max-time`].toString()))&&warnf(global_,[`max-time-not-number`,`option --max-time: expected a proper numerical parameter: `+JSON.stringify(config[`max-time`].toString())])),config[`connect-timeout`]&&(request.connectTimeout=config[`connect-timeout`],config[`connect-timeout`].isString()&&isNaN(parseFloat(config[`connect-timeout`].toString()))&&warnf(global_,[`connect-timeout-not-number`,`option --connect-timeout: expected a proper numerical parameter: `+JSON.stringify(config[`connect-timeout`].toString())])),config[`expect100-timeout`]&&(request.expect100Timeout=config[`expect100-timeout`],config[`expect100-timeout`].isString()&&isNaN(parseFloat(config[`expect100-timeout`].toString()))&&warnf(global_,[`expect100-timeout-not-number`,`option --expect100-timeout: expected a proper numerical parameter: `+JSON.stringify(config[`expect100-timeout`].toString())])),config[`happy-eyeballs-timeout-ms`]&&(request.happyEyeballsTimeoutMs=config[`happy-eyeballs-timeout-ms`]),config[`speed-limit`]&&(request.speedLimit=config[`speed-limit`]),config[`speed-time`]&&(request.speedTime=config[`speed-time`]),config[`limit-rate`]&&(request.limitRate=config[`limit-rate`]),config[`max-filesize`]&&(request.maxFilesize=config[`max-filesize`]),Object.prototype.hasOwnProperty.call(config,`keepalive`)&&(request.keepAlive=config.keepalive),config[`keepalive-time`]&&(request.keepAliveTime=config[`keepalive-time`]),config[`alt-svc`]&&(request.altSvc=config[`alt-svc`]),Object.prototype.hasOwnProperty.call(config,`location`)&&(request.followRedirects=config.location),config[`location-trusted`]&&(request.followRedirectsTrusted=config[`location-trusted`]),config[`max-redirs`]&&(request.maxRedirects=config[`max-redirs`].trim(),config[`max-redirs`].isString()&&!isInt(config[`max-redirs`].toString())&&warnf(global_,[`max-redirs-not-int`,`option --max-redirs: expected a proper numerical parameter: `+JSON.stringify(config[`max-redirs`].toString())])),Object.prototype.hasOwnProperty.call(config,`post301`)&&(request.post301=config.post301),Object.prototype.hasOwnProperty.call(config,`post302`)&&(request.post302=config.post302),Object.prototype.hasOwnProperty.call(config,`post303`)&&(request.post303=config.post303),config.fail&&(request.fail=config.fail),config.retry&&(request.retry=config.retry),config[`retry-max-time`]&&(request.retryMaxTime=config[`retry-max-time`]),Object.prototype.hasOwnProperty.call(config,`ftp-skip-pasv-ip`)&&(request.ftpSkipPasvIp=config[`ftp-skip-pasv-ip`]),config.httpVersion&&((config.httpVersion===`2`||config.httpVersion===`2-prior-knowledge`)&&(request.http2=!0),(config.httpVersion===`3`||config.httpVersion===`3-only`)&&(request.http3=!0),request.httpVersion=config.httpVersion),Object.prototype.hasOwnProperty.call(config,`http0.9`)&&(request.http0_9=config[`http0.9`]),config.resolve&&config.resolve.length&&(request.resolve=config.resolve),config[`connect-to`]&&config[`connect-to`].length&&(request.connectTo=config[`connect-to`]),config[`unix-socket`]&&(request.unixSocket=config[`unix-socket`]),config[`abstract-unix-socket`]&&(request.abstractUnixSocket=config[`abstract-unix-socket`]),config[`netrc-optional`]?request.netrc=`optional`:config.netrc||config[`netrc-file`]?request.netrc=`required`:config.netrc===!1&&(request.netrc=`ignored`),config[`netrc-file`]&&(request.netrcFile=config[`netrc-file`]),config[`use-ascii`]&&(request.useAscii=config[`use-ascii`]),config[`continue-at`]&&(request.continueAt=config[`continue-at`]),Object.prototype.hasOwnProperty.call(config,`crlf`)&&(request.crlf=config.crlf),Object.prototype.hasOwnProperty.call(config,`clobber`)&&(request.clobber=config.clobber),Object.prototype.hasOwnProperty.call(config,`remote-time`)&&(request.remoteTime=config[`remote-time`]),Object.prototype.hasOwnProperty.call(global_,`verbose`)&&(request.verbose=global_.verbose),Object.prototype.hasOwnProperty.call(global_,`silent`)&&(request.silent=global_.silent),request}function buildRequests(global_,stdin,stdinFile){return global_.configs.length||warnf(global_,[`no-configs`,`got empty config object`]),global_.configs.map(config=>buildRequest(global_,config,stdin,stdinFile))}function getFirst(requests,warnings,support){requests.length>1&&warnings.push([`next`,`got `+requests.length+` curl requests, only converting the first one`]);let request=requests[0];return warnIfPartsIgnored(request,warnings,support),request}function clip(s,maxLength=30){return s.length>maxLength?s.slice(0,maxLength-3)+`...`:s}function findCommands(curlCommand,warnings){if(typeof curlCommand==`string`)return tokenize(curlCommand,warnings);if(curlCommand.length===0)throw new CCError(`no arguments provided`);if(curlCommand[0].trim()!==`curl`)throw new CCError(`command should begin with "curl" but instead begins with `+JSON.stringify(clip(curlCommand[0])));return[[curlCommand.map(arg=>new Word(arg)),void 0,void 0]]}function parse(command,supportedArgs$44,warnings=[]){let requests=[],curlCommands=findCommands(command,warnings);for(let[argv,stdin,stdinFile]of curlCommands){let[globalConfig]=parseArgs(argv,curlLongOpts,curlLongOptsShortened,curlShortOpts,supportedArgs$44,warnings);requests=requests.concat(buildRequests(globalConfig,stdin,stdinFile))}return requests}var require_Pattern=__commonJSMin(((exports,module)=>{module.exports=(function(){Pattern$6.prototype.regex=null,Pattern$6.prototype.rawRegex=null,Pattern$6.prototype.cleanedRegex=null,Pattern$6.prototype.mapping=null;function Pattern$6(rawRegex,modifiers){var _char,capturingBracketNumber,cleanedRegex,i,len,mapping,name,part,subChar;for(modifiers??=``,cleanedRegex=``,len=rawRegex.length,mapping=null,capturingBracketNumber=0,i=0;i<len;){if(_char=rawRegex.charAt(i),_char===`\\`)cleanedRegex+=rawRegex.slice(i,+(i+1)+1||9e9),i++;else if(_char===`(`)if(i<len-2)if(part=rawRegex.slice(i,+(i+2)+1||9e9),part===`(?:`)i+=2,cleanedRegex+=part;else if(part===`(?<`)for(capturingBracketNumber++,i+=2,name=``;i+1<len;){if(subChar=rawRegex.charAt(i+1),subChar===`>`){cleanedRegex+=`(`,i++,name.length>0&&(mapping??={},mapping[name]=capturingBracketNumber);break}else name+=subChar;i++}else cleanedRegex+=_char,capturingBracketNumber++;else cleanedRegex+=_char;else cleanedRegex+=_char;i++}this.rawRegex=rawRegex,this.cleanedRegex=cleanedRegex,this.regex=new RegExp(this.cleanedRegex,`g`+modifiers.replace(`g`,``)),this.mapping=mapping}return Pattern$6.prototype.exec=function(str){var index,matches,name,ref;if(this.regex.lastIndex=0,matches=this.regex.exec(str),matches==null)return null;if(this.mapping!=null)for(name in ref=this.mapping,ref)index=ref[name],matches[name]=matches[index];return matches},Pattern$6.prototype.test=function(str){return this.regex.lastIndex=0,this.regex.test(str)},Pattern$6.prototype.replace=function(str,replacement){return this.regex.lastIndex=0,str.replace(this.regex,replacement)},Pattern$6.prototype.replaceAll=function(str,replacement,limit){var count;for(limit??=0,this.regex.lastIndex=0,count=0;this.regex.test(str)&&(limit===0||count<limit);)this.regex.lastIndex=0,str=str.replace(this.regex,replacement),count++;return[str,count]},Pattern$6})()})),require_Utils=__commonJSMin(((exports,module)=>{var Pattern$4,Utils$5,hasProp$3={}.hasOwnProperty;Pattern$4=require_Pattern(),Utils$5=(function(){function Utils$6(){}return Utils$6.REGEX_LEFT_TRIM_BY_CHAR={},Utils$6.REGEX_RIGHT_TRIM_BY_CHAR={},Utils$6.REGEX_SPACES=/\s+/g,Utils$6.REGEX_DIGITS=/^\d+$/,Utils$6.REGEX_OCTAL=/[^0-7]/gi,Utils$6.REGEX_HEXADECIMAL=/[^a-f0-9]/gi,Utils$6.PATTERN_DATE=new Pattern$4(`^(?<year>[0-9][0-9][0-9][0-9])-(?<month>[0-9][0-9]?)-(?<day>[0-9][0-9]?)(?:(?:[Tt]|[ 	]+)(?<hour>[0-9][0-9]?):(?<minute>[0-9][0-9]):(?<second>[0-9][0-9])(?:.(?<fraction>[0-9]*))?(?:[ 	]*(?<tz>Z|(?<tz_sign>[-+])(?<tz_hour>[0-9][0-9]?)(?::(?<tz_minute>[0-9][0-9]))?))?)?$`,`i`),Utils$6.LOCAL_TIMEZONE_OFFSET=new Date().getTimezoneOffset()*60*1e3,Utils$6.trim=function(str,_char){var regexLeft,regexRight;return _char??=`\\s`,regexLeft=this.REGEX_LEFT_TRIM_BY_CHAR[_char],regexLeft??(this.REGEX_LEFT_TRIM_BY_CHAR[_char]=regexLeft=RegExp(`^`+_char+_char+`*`)),regexLeft.lastIndex=0,regexRight=this.REGEX_RIGHT_TRIM_BY_CHAR[_char],regexRight??(this.REGEX_RIGHT_TRIM_BY_CHAR[_char]=regexRight=RegExp(_char+``+_char+`*$`)),regexRight.lastIndex=0,str.replace(regexLeft,``).replace(regexRight,``)},Utils$6.ltrim=function(str,_char){var regexLeft;return _char??=`\\s`,regexLeft=this.REGEX_LEFT_TRIM_BY_CHAR[_char],regexLeft??(this.REGEX_LEFT_TRIM_BY_CHAR[_char]=regexLeft=RegExp(`^`+_char+_char+`*`)),regexLeft.lastIndex=0,str.replace(regexLeft,``)},Utils$6.rtrim=function(str,_char){var regexRight;return _char??=`\\s`,regexRight=this.REGEX_RIGHT_TRIM_BY_CHAR[_char],regexRight??(this.REGEX_RIGHT_TRIM_BY_CHAR[_char]=regexRight=RegExp(_char+``+_char+`*$`)),regexRight.lastIndex=0,str.replace(regexRight,``)},Utils$6.isEmpty=function(value){return!value||value===``||value===`0`||value instanceof Array&&value.length===0||this.isEmptyObject(value)},Utils$6.isEmptyObject=function(value){var k;return value instanceof Object&&(function(){var results=[];for(k in value)hasProp$3.call(value,k)&&results.push(k);return results})().length===0},Utils$6.subStrCount=function(string,subString,start,length){var c=0,i,j,len,ref,sublen;for(string=``+string,subString=``+subString,start!=null&&(string=string.slice(start)),length!=null&&(string=string.slice(0,length)),len=string.length,sublen=subString.length,i=j=0,ref=len;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j)subString===string.slice(i,sublen)&&(c++,i+=sublen-1);return c},Utils$6.isDigits=function(input){return this.REGEX_DIGITS.lastIndex=0,this.REGEX_DIGITS.test(input)},Utils$6.octDec=function(input){return this.REGEX_OCTAL.lastIndex=0,parseInt((input+``).replace(this.REGEX_OCTAL,``),8)},Utils$6.hexDec=function(input){return this.REGEX_HEXADECIMAL.lastIndex=0,input=this.trim(input),(input+``).slice(0,2)===`0x`&&(input=(input+``).slice(2)),parseInt((input+``).replace(this.REGEX_HEXADECIMAL,``),16)},Utils$6.utf8chr=function(c){var ch=String.fromCharCode;return 128>(c%=2097152)?ch(c):2048>c?ch(192|c>>6)+ch(128|c&63):65536>c?ch(224|c>>12)+ch(128|c>>6&63)+ch(128|c&63):ch(240|c>>18)+ch(128|c>>12&63)+ch(128|c>>6&63)+ch(128|c&63)},Utils$6.parseBoolean=function(input,strict){var lowerInput;return strict??=!0,typeof input==`string`?(lowerInput=input.toLowerCase(),!(!strict&&lowerInput===`no`||lowerInput===`0`||lowerInput===`false`||lowerInput===``)):!!input},Utils$6.isNumeric=function(input){return this.REGEX_SPACES.lastIndex=0,typeof input==`number`||typeof input==`string`&&!isNaN(input)&&input.replace(this.REGEX_SPACES,``)!==``},Utils$6.stringToDate=function(str){var date,day,fraction,hour,info,minute,month,second,tz_hour,tz_minute,tz_offset,year;if(!str?.length||(info=this.PATTERN_DATE.exec(str),!info))return null;if(year=parseInt(info.year,10),month=parseInt(info.month,10)-1,day=parseInt(info.day,10),info.hour==null)return date=new Date(Date.UTC(year,month,day)),date;if(hour=parseInt(info.hour,10),minute=parseInt(info.minute,10),second=parseInt(info.second,10),info.fraction!=null){for(fraction=info.fraction.slice(0,3);fraction.length<3;)fraction+=`0`;fraction=parseInt(fraction,10)}else fraction=0;return info.tz!=null&&(tz_hour=parseInt(info.tz_hour,10),tz_minute=info.tz_minute==null?0:parseInt(info.tz_minute,10),tz_offset=(tz_hour*60+tz_minute)*6e4,info.tz_sign===`-`&&(tz_offset*=-1)),date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction)),tz_offset&&date.setTime(date.getTime()-tz_offset),date},Utils$6.strRepeat=function(str,number){var i,res=``;for(i=0;i<number;)res+=str,i++;return res},Utils$6.getStringFromFile=function(path,callback){var data,fs,j,len1,name,ref,req,xhr;if(callback??=null,xhr=null,typeof window<`u`&&window!==null){if(window.XMLHttpRequest)xhr=new XMLHttpRequest;else if(window.ActiveXObject)for(ref=[`Msxml2.XMLHTTP.6.0`,`Msxml2.XMLHTTP.3.0`,`Msxml2.XMLHTTP`,`Microsoft.XMLHTTP`],j=0,len1=ref.length;j<len1;j++){name=ref[j];try{xhr=new ActiveXObject(name)}catch{}}}return xhr==null?(req=__require,fs=req(`fs`),callback==null?(data=fs.readFileSync(path),data==null?null:String(data)):fs.readFile(path,function(err,data$1){return callback(err?null:String(data$1))})):callback==null?(xhr.open(`GET`,path,!1),xhr.send(null),xhr.status===200||xhr.status===0?xhr.responseText:null):(xhr.onreadystatechange=function(){if(xhr.readyState===4)return xhr.status===200||xhr.status===0?callback(xhr.responseText):callback(null)},xhr.open(`GET`,path,!0),xhr.send(null))},Utils$6})(),module.exports=Utils$5})),require_Unescaper=__commonJSMin(((exports,module)=>{var Pattern$3,Unescaper$1,Utils$4=require_Utils();Pattern$3=require_Pattern(),Unescaper$1=(function(){function Unescaper$2(){}return Unescaper$2.PATTERN_ESCAPED_CHARACTER=new Pattern$3(`\\\\([0abt	nvfre "\\/\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})`),Unescaper$2.unescapeSingleQuotedString=function(value){return value.replace(/\'\'/g,`'`)},Unescaper$2.unescapeDoubleQuotedString=function(value){return this._unescapeCallback??=(function(_this){return function(str){return _this.unescapeCharacter(str)}})(this),this.PATTERN_ESCAPED_CHARACTER.replace(value,this._unescapeCallback)},Unescaper$2.unescapeCharacter=function(value){var ch=String.fromCharCode;switch(value.charAt(1)){case`0`:return ch(0);case`a`:return ch(7);case`b`:return ch(8);case`t`:return`	`;case`	`:return`	`;case`n`:return`
`;case`v`:return ch(11);case`f`:return ch(12);case`r`:return ch(13);case`e`:return ch(27);case` `:return` `;case`"`:return`"`;case`/`:return`/`;case`\\`:return`\\`;case`N`:return ch(133);case`_`:return ch(160);case`L`:return ch(8232);case`P`:return ch(8233);case`x`:return Utils$4.utf8chr(Utils$4.hexDec(value.substr(2,2)));case`u`:return Utils$4.utf8chr(Utils$4.hexDec(value.substr(2,4)));case`U`:return Utils$4.utf8chr(Utils$4.hexDec(value.substr(2,8)));default:return``}},Unescaper$2})(),module.exports=Unescaper$1})),require_Escaper=__commonJSMin(((exports,module)=>{var Escaper$1,Pattern$2=require_Pattern();Escaper$1=(function(){var ch;function Escaper$2(){}return Escaper$2.LIST_ESCAPEES=[`\\`,`\\\\`,`\\"`,`"`,`\0`,``,``,``,``,``,``,`\x07`,`\b`,`	`,`
`,`\v`,`\f`,`\r`,``,``,``,``,``,``,``,``,``,``,``,``,``,`\x1B`,``,``,``,``,(ch=String.fromCharCode)(133),ch(160),ch(8232),ch(8233)],Escaper$2.LIST_ESCAPED=`\\\\.\\".\\".\\".\\0.\\x01.\\x02.\\x03.\\x04.\\x05.\\x06.\\a.\\b.\\t.\\n.\\v.\\f.\\r.\\x0e.\\x0f.\\x10.\\x11.\\x12.\\x13.\\x14.\\x15.\\x16.\\x17.\\x18.\\x19.\\x1a.\\e.\\x1c.\\x1d.\\x1e.\\x1f.\\N.\\_.\\L.\\P`.split(`.`),Escaper$2.MAPPING_ESCAPEES_TO_ESCAPED=(function(){var i,j,mapping={},ref;for(i=j=0,ref=Escaper$2.LIST_ESCAPEES.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j)mapping[Escaper$2.LIST_ESCAPEES[i]]=Escaper$2.LIST_ESCAPED[i];return mapping})(),Escaper$2.PATTERN_CHARACTERS_TO_ESCAPE=new Pattern$2(`[\\x00-\\x1f]||\xA0||`),Escaper$2.PATTERN_MAPPING_ESCAPEES=new Pattern$2(Escaper$2.LIST_ESCAPEES.join(`|`).split(`\\`).join(`\\\\`)),Escaper$2.PATTERN_SINGLE_QUOTING=new Pattern$2(`[\\s'":{}[\\],&*#?]|^[-?|<>=!%@\`]`),Escaper$2.requiresDoubleQuoting=function(value){return this.PATTERN_CHARACTERS_TO_ESCAPE.test(value)},Escaper$2.escapeWithDoubleQuotes=function(value){return`"`+this.PATTERN_MAPPING_ESCAPEES.replace(value,(function(_this){return function(str){return _this.MAPPING_ESCAPEES_TO_ESCAPED[str]}})(this))+`"`},Escaper$2.requiresSingleQuoting=function(value){return this.PATTERN_SINGLE_QUOTING.test(value)},Escaper$2.escapeWithSingleQuotes=function(value){return`'`+value.replace(/'/g,`''`)+`'`},Escaper$2})(),module.exports=Escaper$1})),require_ParseException=__commonJSMin(((exports,module)=>{var ParseException$2,extend$3=function(child,parent){for(var key in parent)hasProp$2.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp$2={}.hasOwnProperty;ParseException$2=(function(superClass){extend$3(ParseException$3,superClass);function ParseException$3(message,parsedLine,snippet){this.message=message,this.parsedLine=parsedLine,this.snippet=snippet}return ParseException$3.prototype.toString=function(){return this.parsedLine!=null&&this.snippet!=null?`<ParseException> `+this.message+` (line `+this.parsedLine+`: '`+this.snippet+`')`:`<ParseException> `+this.message},ParseException$3})(Error),module.exports=ParseException$2})),require_ParseMore=__commonJSMin(((exports,module)=>{var ParseMore$2,extend$2=function(child,parent){for(var key in parent)hasProp$1.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp$1={}.hasOwnProperty;ParseMore$2=(function(superClass){extend$2(ParseMore$3,superClass);function ParseMore$3(message,parsedLine,snippet){this.message=message,this.parsedLine=parsedLine,this.snippet=snippet}return ParseMore$3.prototype.toString=function(){return this.parsedLine!=null&&this.snippet!=null?`<ParseMore> `+this.message+` (line `+this.parsedLine+`: '`+this.snippet+`')`:`<ParseMore> `+this.message},ParseMore$3})(Error),module.exports=ParseMore$2})),require_DumpException=__commonJSMin(((exports,module)=>{var DumpException,extend$1=function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;DumpException=(function(superClass){extend$1(DumpException$1,superClass);function DumpException$1(message,parsedLine,snippet){this.message=message,this.parsedLine=parsedLine,this.snippet=snippet}return DumpException$1.prototype.toString=function(){return this.parsedLine!=null&&this.snippet!=null?`<DumpException> `+this.message+` (line `+this.parsedLine+`: '`+this.snippet+`')`:`<DumpException> `+this.message},DumpException$1})(Error),module.exports=DumpException})),require_Inline=__commonJSMin(((exports,module)=>{var Escaper,Inline$2,ParseException$1,ParseMore$1,Pattern$1,Unescaper,Utils$3,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};Pattern$1=require_Pattern(),Unescaper=require_Unescaper(),Escaper=require_Escaper(),Utils$3=require_Utils(),ParseException$1=require_ParseException(),ParseMore$1=require_ParseMore(),require_DumpException(),Inline$2=(function(){function Inline$3(){}return Inline$3.REGEX_QUOTED_STRING=`(?:"(?:[^"\\\\]*(?:\\\\.[^"\\\\]*)*)"|'(?:[^']*(?:''[^']*)*)')`,Inline$3.PATTERN_TRAILING_COMMENTS=new Pattern$1(`^\\s*#.*$`),Inline$3.PATTERN_QUOTED_SCALAR=new Pattern$1(`^`+Inline$3.REGEX_QUOTED_STRING),Inline$3.PATTERN_THOUSAND_NUMERIC_SCALAR=new Pattern$1(`^(-|\\+)?[0-9,]+(\\.[0-9]+)?$`),Inline$3.PATTERN_SCALAR_BY_DELIMITERS={},Inline$3.settings={},Inline$3.configure=function(exceptionOnInvalidType,objectDecoder){exceptionOnInvalidType??=null,objectDecoder??=null,this.settings.exceptionOnInvalidType=exceptionOnInvalidType,this.settings.objectDecoder=objectDecoder},Inline$3.parse=function(value,exceptionOnInvalidType,objectDecoder){var context,result;if(exceptionOnInvalidType??=!1,objectDecoder??=null,this.settings.exceptionOnInvalidType=exceptionOnInvalidType,this.settings.objectDecoder=objectDecoder,value==null||(value=Utils$3.trim(value),value.length===0))return``;switch(context={exceptionOnInvalidType,objectDecoder,i:0},value.charAt(0)){case`[`:result=this.parseSequence(value,context),++context.i;break;case`{`:result=this.parseMapping(value,context),++context.i;break;default:result=this.parseScalar(value,null,[`"`,`'`],context)}if(this.PATTERN_TRAILING_COMMENTS.replace(value.slice(context.i),``)!==``)throw new ParseException$1(`Unexpected characters near "`+value.slice(context.i)+`".`);return result},Inline$3.dump=function(value,exceptionOnInvalidType,objectEncoder){var ref,result,type;return exceptionOnInvalidType??=!1,objectEncoder??=null,value==null?`null`:(type=typeof value,type===`object`?value instanceof Date?value.toISOString():objectEncoder!=null&&(result=objectEncoder(value),typeof result==`string`||result!=null)?result:this.dumpObject(value):type===`boolean`?value?`true`:`false`:Utils$3.isDigits(value)?type===`string`?`'`+value+`'`:String(parseInt(value)):Utils$3.isNumeric(value)?type===`string`?`'`+value+`'`:String(parseFloat(value)):type===`number`?value===1/0?`.Inf`:value===-1/0?`-.Inf`:isNaN(value)?`.NaN`:value:Escaper.requiresDoubleQuoting(value)?Escaper.escapeWithDoubleQuotes(value):Escaper.requiresSingleQuoting(value)?Escaper.escapeWithSingleQuotes(value):value===``?`""`:Utils$3.PATTERN_DATE.test(value)||(ref=value.toLowerCase())===`null`||ref===`~`||ref===`true`||ref===`false`?`'`+value+`'`:value)},Inline$3.dumpObject=function(value,exceptionOnInvalidType,objectSupport){var j,key,len1,output,val;if(objectSupport??=null,value instanceof Array){for(output=[],j=0,len1=value.length;j<len1;j++)val=value[j],output.push(this.dump(val));return`[`+output.join(`, `)+`]`}else{for(key in output=[],value)val=value[key],output.push(this.dump(key)+`: `+this.dump(val));return`{`+output.join(`, `)+`}`}},Inline$3.parseScalar=function(scalar,delimiters,stringDelimiters,context,evaluate){var i,joinedDelimiters,match,output,pattern,ref,ref1,strpos,tmp;if(delimiters??=null,stringDelimiters??=[`"`,`'`],context??=null,evaluate??=!0,context??={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0},i=context.i,ref=scalar.charAt(i),indexOf.call(stringDelimiters,ref)>=0){if(output=this.parseQuotedScalar(scalar,context),i=context.i,delimiters!=null&&(tmp=Utils$3.ltrim(scalar.slice(i),` `),ref1=tmp.charAt(0),!(indexOf.call(delimiters,ref1)>=0)))throw new ParseException$1(`Unexpected characters (`+scalar.slice(i)+`).`)}else{if(!delimiters)output=scalar.slice(i),i+=output.length,strpos=output.indexOf(` #`),strpos!==-1&&(output=Utils$3.rtrim(output.slice(0,strpos)));else if(joinedDelimiters=delimiters.join(`|`),pattern=this.PATTERN_SCALAR_BY_DELIMITERS[joinedDelimiters],pattern??(pattern=new Pattern$1(`^(.+?)(`+joinedDelimiters+`)`),this.PATTERN_SCALAR_BY_DELIMITERS[joinedDelimiters]=pattern),match=pattern.exec(scalar.slice(i)))output=match[1],i+=output.length;else throw new ParseException$1(`Malformed inline YAML string (`+scalar+`).`);evaluate&&(output=this.evaluateScalar(output,context))}return context.i=i,output},Inline$3.parseQuotedScalar=function(scalar,context){var i=context.i,match,output;if(!(match=this.PATTERN_QUOTED_SCALAR.exec(scalar.slice(i))))throw new ParseMore$1(`Malformed inline YAML string (`+scalar.slice(i)+`).`);return output=match[0].substr(1,match[0].length-2),output=scalar.charAt(i)===`"`?Unescaper.unescapeDoubleQuotedString(output):Unescaper.unescapeSingleQuotedString(output),i+=match[0].length,context.i=i,output},Inline$3.parseSequence=function(sequence,context){var i,isQuoted,len,output=[],ref,value;for(len=sequence.length,i=context.i,i+=1;i<len;){switch(context.i=i,sequence.charAt(i)){case`[`:output.push(this.parseSequence(sequence,context)),i=context.i;break;case`{`:output.push(this.parseMapping(sequence,context)),i=context.i;break;case`]`:return output;case`,`:case` `:case`
`:break;default:if(isQuoted=(ref=sequence.charAt(i))===`"`||ref===`'`,value=this.parseScalar(sequence,[`,`,`]`],[`"`,`'`],context),i=context.i,!isQuoted&&typeof value==`string`&&(value.indexOf(`: `)!==-1||value.indexOf(`:
`)!==-1))try{value=this.parseMapping(`{`+value+`}`)}catch{}output.push(value),--i}++i}throw new ParseMore$1(`Malformed inline YAML string `+sequence)},Inline$3.parseMapping=function(mapping,context){var done,i,key,len,output={},shouldContinueWhileLoop,value;for(len=mapping.length,i=context.i,i+=1,shouldContinueWhileLoop=!1;i<len;){switch(context.i=i,mapping.charAt(i)){case` `:case`,`:case`
`:++i,context.i=i,shouldContinueWhileLoop=!0;break;case`}`:return output}if(shouldContinueWhileLoop){shouldContinueWhileLoop=!1;continue}for(key=this.parseScalar(mapping,[`:`,` `,`
`],[`"`,`'`],context,!1),i=context.i,done=!1;i<len;){switch(context.i=i,mapping.charAt(i)){case`[`:value=this.parseSequence(mapping,context),i=context.i,output[key]===void 0&&(output[key]=value),done=!0;break;case`{`:value=this.parseMapping(mapping,context),i=context.i,output[key]===void 0&&(output[key]=value),done=!0;break;case`:`:case` `:case`
`:break;default:value=this.parseScalar(mapping,[`,`,`}`],[`"`,`'`],context),i=context.i,output[key]===void 0&&(output[key]=value),done=!0,--i}if(++i,done)break}}throw new ParseMore$1(`Malformed inline YAML string `+mapping)},Inline$3.evaluateScalar=function(scalar,context){var cast,date,exceptionOnInvalidType,firstChar,firstSpace,firstWord,objectDecoder,raw,scalarLower,subValue,trimmedScalar;switch(scalar=Utils$3.trim(scalar),scalarLower=scalar.toLowerCase(),scalarLower){case`null`:case``:case`~`:return null;case`true`:return!0;case`false`:return!1;case`.inf`:return 1/0;case`.nan`:return NaN;case`-.inf`:return 1/0;default:switch(firstChar=scalarLower.charAt(0),firstChar){case`!`:switch(firstSpace=scalar.indexOf(` `),firstWord=firstSpace===-1?scalarLower:scalarLower.slice(0,firstSpace),firstWord){case`!`:return firstSpace===-1?null:parseInt(this.parseScalar(scalar.slice(2)));case`!str`:return Utils$3.ltrim(scalar.slice(4));case`!!str`:return Utils$3.ltrim(scalar.slice(5));case`!!int`:return parseInt(this.parseScalar(scalar.slice(5)));case`!!bool`:return Utils$3.parseBoolean(this.parseScalar(scalar.slice(6)),!1);case`!!float`:return parseFloat(this.parseScalar(scalar.slice(7)));case`!!timestamp`:return Utils$3.stringToDate(Utils$3.ltrim(scalar.slice(11)));default:if(context??={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0},objectDecoder=context.objectDecoder,exceptionOnInvalidType=context.exceptionOnInvalidType,objectDecoder)return trimmedScalar=Utils$3.rtrim(scalar),firstSpace=trimmedScalar.indexOf(` `),firstSpace===-1?objectDecoder(trimmedScalar,null):(subValue=Utils$3.ltrim(trimmedScalar.slice(firstSpace+1)),subValue.length>0||(subValue=null),objectDecoder(trimmedScalar.slice(0,firstSpace),subValue));if(exceptionOnInvalidType)throw new ParseException$1(`Custom object support when parsing a YAML file has been disabled.`);return null}break;case`0`:return scalar.slice(0,2)===`0x`?Utils$3.hexDec(scalar):Utils$3.isDigits(scalar)?Utils$3.octDec(scalar):Utils$3.isNumeric(scalar)?parseFloat(scalar):scalar;case`+`:return Utils$3.isDigits(scalar)?(raw=scalar,cast=parseInt(raw),raw===String(cast)?cast:raw):Utils$3.isNumeric(scalar)?parseFloat(scalar):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)?parseFloat(scalar.replace(`,`,``)):scalar;case`-`:return Utils$3.isDigits(scalar.slice(1))?scalar.charAt(1)===`0`?-Utils$3.octDec(scalar.slice(1)):(raw=scalar.slice(1),cast=parseInt(raw),raw===String(cast)?-cast:-raw):Utils$3.isNumeric(scalar)?parseFloat(scalar):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)?parseFloat(scalar.replace(`,`,``)):scalar;default:return(date=Utils$3.stringToDate(scalar))?date:Utils$3.isNumeric(scalar)?parseFloat(scalar):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)?parseFloat(scalar.replace(`,`,``)):scalar}}},Inline$3})(),module.exports=Inline$2})),require_Parser=__commonJSMin(((exports,module)=>{var Inline$1=require_Inline(),ParseException,ParseMore,Parser$1,Pattern=require_Pattern(),Utils$2=require_Utils();ParseException=require_ParseException(),ParseMore=require_ParseMore(),Parser$1=(function(){Parser$3.prototype.PATTERN_FOLDED_SCALAR_ALL=new Pattern(`^(?:(?<type>![^\\|>]*)\\s+)?(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$`),Parser$3.prototype.PATTERN_FOLDED_SCALAR_END=new Pattern(`(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$`),Parser$3.prototype.PATTERN_SEQUENCE_ITEM=new Pattern(`^\\-((?<leadspaces>\\s+)(?<value>.+?))?\\s*$`),Parser$3.prototype.PATTERN_ANCHOR_VALUE=new Pattern(`^&(?<ref>[^ ]+) *(?<value>.*)`),Parser$3.prototype.PATTERN_COMPACT_NOTATION=new Pattern(`^(?<key>`+Inline$1.REGEX_QUOTED_STRING+`|[^ '"\\{\\[].*?) *\\:(\\s+(?<value>.+?))?\\s*$`),Parser$3.prototype.PATTERN_MAPPING_ITEM=new Pattern(`^(?<key>`+Inline$1.REGEX_QUOTED_STRING+`|[^ '"\\[\\{].*?) *\\:(\\s+(?<value>.+?))?\\s*$`),Parser$3.prototype.PATTERN_DECIMAL=new Pattern(`\\d+`),Parser$3.prototype.PATTERN_INDENT_SPACES=new Pattern(`^ +`),Parser$3.prototype.PATTERN_TRAILING_LINES=new Pattern(`(
*)$`),Parser$3.prototype.PATTERN_YAML_HEADER=new Pattern(`^\\%YAML[: ][\\d\\.]+.*
`,`m`),Parser$3.prototype.PATTERN_LEADING_COMMENTS=new Pattern(`^(\\#.*?
)+`,`m`),Parser$3.prototype.PATTERN_DOCUMENT_MARKER_START=new Pattern(`^\\-\\-\\-.*?
`,`m`),Parser$3.prototype.PATTERN_DOCUMENT_MARKER_END=new Pattern(`^\\.\\.\\.\\s*$`,`m`),Parser$3.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION={},Parser$3.prototype.CONTEXT_NONE=0,Parser$3.prototype.CONTEXT_SEQUENCE=1,Parser$3.prototype.CONTEXT_MAPPING=2;function Parser$3(offset){this.offset=offset??0,this.lines=[],this.currentLineNb=-1,this.currentLine=``,this.refs={}}return Parser$3.prototype.parse=function(value,exceptionOnInvalidType,objectDecoder){var alias,allowOverwrite,block,c,context,data,e,first,i,indent,isRef,j,k,key,l,lastKey,len,len1,len2,len3,lineCount,m,matches,mergeNode,n,name,parsed,parsedItem,parser$1,ref,ref1,ref2,refName,refValue,val,values;for(exceptionOnInvalidType??=!1,objectDecoder??=null,this.currentLineNb=-1,this.currentLine=``,this.lines=this.cleanup(value).split(`
`),data=null,context=this.CONTEXT_NONE,allowOverwrite=!1;this.moveToNextLine();)if(!this.isCurrentLineEmpty()){if(this.currentLine[0]===`	`)throw new ParseException(`A YAML file cannot contain tabs as indentation.`,this.getRealCurrentLineNb()+1,this.currentLine);if(isRef=mergeNode=!1,values=this.PATTERN_SEQUENCE_ITEM.exec(this.currentLine)){if(this.CONTEXT_MAPPING===context)throw new ParseException(`You cannot define a sequence item when in a mapping`);context=this.CONTEXT_SEQUENCE,data??=[],values.value!=null&&(matches=this.PATTERN_ANCHOR_VALUE.exec(values.value))&&(isRef=matches.ref,values.value=matches.value),values.value==null||Utils$2.trim(values.value,` `)===``||Utils$2.ltrim(values.value,` `).indexOf(`#`)===0?this.currentLineNb<this.lines.length-1&&!this.isNextLineUnIndentedCollection()?(c=this.getRealCurrentLineNb()+1,parser$1=new Parser$3(c),parser$1.refs=this.refs,data.push(parser$1.parse(this.getNextEmbedBlock(null,!0),exceptionOnInvalidType,objectDecoder))):data.push(null):values.leadspaces?.length&&(matches=this.PATTERN_COMPACT_NOTATION.exec(values.value))?(c=this.getRealCurrentLineNb(),parser$1=new Parser$3(c),parser$1.refs=this.refs,block=values.value,indent=this.getCurrentLineIndentation(),this.isNextLineIndented(!1)&&(block+=`
`+this.getNextEmbedBlock(indent+values.leadspaces.length+1,!0)),data.push(parser$1.parse(block,exceptionOnInvalidType,objectDecoder))):data.push(this.parseValue(values.value,exceptionOnInvalidType,objectDecoder))}else if((values=this.PATTERN_MAPPING_ITEM.exec(this.currentLine))&&values.key.indexOf(` #`)===-1){if(this.CONTEXT_SEQUENCE===context)throw new ParseException(`You cannot define a mapping item when in a sequence`);context=this.CONTEXT_MAPPING,data??={},Inline$1.configure(exceptionOnInvalidType,objectDecoder);try{key=Inline$1.parseScalar(values.key)}catch(error){throw e=error,e.parsedLine=this.getRealCurrentLineNb()+1,e.snippet=this.currentLine,e}if(key===`<<`)if(mergeNode=!0,allowOverwrite=!0,values.value?.indexOf(`*`)===0){if(refName=values.value.slice(1),this.refs[refName]==null)throw new ParseException(`Reference "`+refName+`" does not exist.`,this.getRealCurrentLineNb()+1,this.currentLine);if(refValue=this.refs[refName],typeof refValue!=`object`)throw new ParseException(`YAML merge keys used with a scalar value instead of an object.`,this.getRealCurrentLineNb()+1,this.currentLine);if(refValue instanceof Array)for(i=j=0,len=refValue.length;j<len;i=++j)value=refValue[i],data[name=String(i)]??(data[name]=value);else for(key in refValue)value=refValue[key],data[key]??(data[key]=value)}else{if(value=values.value!=null&&values.value!==``?values.value:this.getNextEmbedBlock(),c=this.getRealCurrentLineNb()+1,parser$1=new Parser$3(c),parser$1.refs=this.refs,parsed=parser$1.parse(value,exceptionOnInvalidType),typeof parsed!=`object`)throw new ParseException(`YAML merge keys used with a scalar value instead of an object.`,this.getRealCurrentLineNb()+1,this.currentLine);if(parsed instanceof Array)for(l=0,len1=parsed.length;l<len1;l++){if(parsedItem=parsed[l],typeof parsedItem!=`object`)throw new ParseException(`Merge items must be objects.`,this.getRealCurrentLineNb()+1,parsedItem);if(parsedItem instanceof Array)for(i=m=0,len2=parsedItem.length;m<len2;i=++m)value=parsedItem[i],k=String(i),data.hasOwnProperty(k)||(data[k]=value);else for(key in parsedItem)value=parsedItem[key],data.hasOwnProperty(key)||(data[key]=value)}else for(key in parsed)value=parsed[key],data.hasOwnProperty(key)||(data[key]=value)}else values.value!=null&&(matches=this.PATTERN_ANCHOR_VALUE.exec(values.value))&&(isRef=matches.ref,values.value=matches.value);mergeNode||(values.value==null||Utils$2.trim(values.value,` `)===``||Utils$2.ltrim(values.value,` `).indexOf(`#`)===0?!this.isNextLineIndented()&&!this.isNextLineUnIndentedCollection()?(allowOverwrite||data[key]===void 0)&&(data[key]=null):(c=this.getRealCurrentLineNb()+1,parser$1=new Parser$3(c),parser$1.refs=this.refs,val=parser$1.parse(this.getNextEmbedBlock(),exceptionOnInvalidType,objectDecoder),(allowOverwrite||data[key]===void 0)&&(data[key]=val)):(val=this.parseValue(values.value,exceptionOnInvalidType,objectDecoder),(allowOverwrite||data[key]===void 0)&&(data[key]=val)))}else{if(lineCount=this.lines.length,lineCount===1||lineCount===2&&Utils$2.isEmpty(this.lines[1])){try{value=Inline$1.parse(this.lines[0],exceptionOnInvalidType,objectDecoder)}catch(error){throw e=error,e.parsedLine=this.getRealCurrentLineNb()+1,e.snippet=this.currentLine,e}if(typeof value==`object`){if(value instanceof Array)first=value[0];else for(key in value){first=value[key];break}if(typeof first==`string`&&first.indexOf(`*`)===0){for(data=[],n=0,len3=value.length;n<len3;n++)alias=value[n],data.push(this.refs[alias.slice(1)]);value=data}}return value}else if((ref2=Utils$2.ltrim(value).charAt(0))===`[`||ref2===`{`)try{return Inline$1.parse(value,exceptionOnInvalidType,objectDecoder)}catch(error){throw e=error,e.parsedLine=this.getRealCurrentLineNb()+1,e.snippet=this.currentLine,e}throw new ParseException(`Unable to parse.`,this.getRealCurrentLineNb()+1,this.currentLine)}if(isRef)if(data instanceof Array)this.refs[isRef]=data[data.length-1];else{for(key in lastKey=null,data)lastKey=key;this.refs[isRef]=data[lastKey]}}return Utils$2.isEmpty(data)?null:data},Parser$3.prototype.getRealCurrentLineNb=function(){return this.currentLineNb+this.offset},Parser$3.prototype.getCurrentLineIndentation=function(){return this.currentLine.length-Utils$2.ltrim(this.currentLine,` `).length},Parser$3.prototype.getNextEmbedBlock=function(indentation,includeUnindentedCollection){var data,indent,isItUnindentedCollection,newIndent,removeComments,removeCommentsPattern,unindentedEmbedBlock;if(indentation??=null,includeUnindentedCollection??=!1,this.moveToNextLine(),indentation==null){if(newIndent=this.getCurrentLineIndentation(),unindentedEmbedBlock=this.isStringUnIndentedCollectionItem(this.currentLine),!this.isCurrentLineEmpty()&&newIndent===0&&!unindentedEmbedBlock)throw new ParseException(`Indentation problem.`,this.getRealCurrentLineNb()+1,this.currentLine)}else newIndent=indentation;for(data=[this.currentLine.slice(newIndent)],includeUnindentedCollection||(isItUnindentedCollection=this.isStringUnIndentedCollectionItem(this.currentLine)),removeCommentsPattern=this.PATTERN_FOLDED_SCALAR_END,removeComments=!removeCommentsPattern.test(this.currentLine);this.moveToNextLine();)if(indent=this.getCurrentLineIndentation(),indent===newIndent&&(removeComments=!removeCommentsPattern.test(this.currentLine)),!(removeComments&&this.isCurrentLineComment())){if(this.isCurrentLineBlank()){data.push(this.currentLine.slice(newIndent));continue}if(isItUnindentedCollection&&!this.isStringUnIndentedCollectionItem(this.currentLine)&&indent===newIndent){this.moveToPreviousLine();break}if(indent>=newIndent)data.push(this.currentLine.slice(newIndent));else if(Utils$2.ltrim(this.currentLine).charAt(0)!==`#`)if(indent===0){this.moveToPreviousLine();break}else throw new ParseException(`Indentation problem.`,this.getRealCurrentLineNb()+1,this.currentLine)}return data.join(`
`)},Parser$3.prototype.moveToNextLine=function(){return this.currentLineNb>=this.lines.length-1?!1:(this.currentLine=this.lines[++this.currentLineNb],!0)},Parser$3.prototype.moveToPreviousLine=function(){this.currentLine=this.lines[--this.currentLineNb]},Parser$3.prototype.parseValue=function(value,exceptionOnInvalidType,objectDecoder){var e,foldedIndent,matches,modifiers,pos,ref,ref1,val;if(value.indexOf(`*`)===0){if(pos=value.indexOf(`#`),value=pos===-1?value.slice(1):value.substr(1,pos-2),this.refs[value]===void 0)throw new ParseException(`Reference "`+value+`" does not exist.`,this.currentLine);return this.refs[value]}if(matches=this.PATTERN_FOLDED_SCALAR_ALL.exec(value))return modifiers=matches.modifiers??``,foldedIndent=Math.abs(parseInt(modifiers)),isNaN(foldedIndent)&&(foldedIndent=0),val=this.parseFoldedScalar(matches.separator,this.PATTERN_DECIMAL.replace(modifiers,``),foldedIndent),matches.type==null?val:(Inline$1.configure(exceptionOnInvalidType,objectDecoder),Inline$1.parseScalar(matches.type+` `+val));if((ref1=value.charAt(0))===`[`||ref1===`{`||ref1===`"`||ref1===`'`)for(;;)try{return Inline$1.parse(value,exceptionOnInvalidType,objectDecoder)}catch(error){if(e=error,e instanceof ParseMore&&this.moveToNextLine())value+=`
`+Utils$2.trim(this.currentLine,` `);else throw e.parsedLine=this.getRealCurrentLineNb()+1,e.snippet=this.currentLine,e}else return this.isNextLineIndented()&&(value+=`
`+this.getNextEmbedBlock()),Inline$1.parse(value,exceptionOnInvalidType,objectDecoder)},Parser$3.prototype.parseFoldedScalar=function(separator,indicator,indentation){var isCurrentLineBlank,j,len,line,matches,newText,notEOF,pattern,ref,text;if(indicator??=``,indentation??=0,notEOF=this.moveToNextLine(),!notEOF)return``;for(isCurrentLineBlank=this.isCurrentLineBlank(),text=``;notEOF&&isCurrentLineBlank;)(notEOF=this.moveToNextLine())&&(text+=`
`,isCurrentLineBlank=this.isCurrentLineBlank());if(indentation===0&&(matches=this.PATTERN_INDENT_SPACES.exec(this.currentLine))&&(indentation=matches[0].length),indentation>0)for(pattern=this.PATTERN_FOLDED_SCALAR_BY_INDENTATION[indentation],pattern??(pattern=new Pattern(`^ {`+indentation+`}(.*)$`),Parser$3.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION[indentation]=pattern);notEOF&&(isCurrentLineBlank||(matches=pattern.exec(this.currentLine)));)isCurrentLineBlank?text+=this.currentLine.slice(indentation):text+=matches[1],(notEOF=this.moveToNextLine())&&(text+=`
`,isCurrentLineBlank=this.isCurrentLineBlank());else notEOF&&(text+=`
`);if(notEOF&&this.moveToPreviousLine(),separator===`>`){for(newText=``,ref=text.split(`
`),j=0,len=ref.length;j<len;j++)line=ref[j],line.length===0||line.charAt(0)===` `?newText=Utils$2.rtrim(newText,` `)+line+`
`:newText+=line+` `;text=newText}return indicator!==`+`&&(text=Utils$2.rtrim(text)),indicator===``?text=this.PATTERN_TRAILING_LINES.replace(text,`
`):indicator===`-`&&(text=this.PATTERN_TRAILING_LINES.replace(text,``)),text},Parser$3.prototype.isNextLineIndented=function(ignoreComments){var EOF,currentIndentation,ret;if(ignoreComments??=!0,currentIndentation=this.getCurrentLineIndentation(),EOF=!this.moveToNextLine(),ignoreComments)for(;!EOF&&this.isCurrentLineEmpty();)EOF=!this.moveToNextLine();else for(;!EOF&&this.isCurrentLineBlank();)EOF=!this.moveToNextLine();return EOF?!1:(ret=!1,this.getCurrentLineIndentation()>currentIndentation&&(ret=!0),this.moveToPreviousLine(),ret)},Parser$3.prototype.isCurrentLineEmpty=function(){var trimmedLine=Utils$2.trim(this.currentLine,` `);return trimmedLine.length===0||trimmedLine.charAt(0)===`#`},Parser$3.prototype.isCurrentLineBlank=function(){return Utils$2.trim(this.currentLine,` `)===``},Parser$3.prototype.isCurrentLineComment=function(){return Utils$2.ltrim(this.currentLine,` `).charAt(0)===`#`},Parser$3.prototype.cleanup=function(value){var count,i,indent,j,l,len,len1,line,lines,ref,ref1,ref2,smallestIndent,trimmedValue;for(value.indexOf(`\r`)!==-1&&(value=value.split(`\r
`).join(`
`).split(`\r`).join(`
`)),count=0,ref=this.PATTERN_YAML_HEADER.replaceAll(value,``),value=ref[0],count=ref[1],this.offset+=count,ref1=this.PATTERN_LEADING_COMMENTS.replaceAll(value,``,1),trimmedValue=ref1[0],count=ref1[1],count===1&&(this.offset+=Utils$2.subStrCount(value,`
`)-Utils$2.subStrCount(trimmedValue,`
`),value=trimmedValue),ref2=this.PATTERN_DOCUMENT_MARKER_START.replaceAll(value,``,1),trimmedValue=ref2[0],count=ref2[1],count===1&&(this.offset+=Utils$2.subStrCount(value,`
`)-Utils$2.subStrCount(trimmedValue,`
`),value=trimmedValue,value=this.PATTERN_DOCUMENT_MARKER_END.replace(value,``)),lines=value.split(`
`),smallestIndent=-1,j=0,len=lines.length;j<len;j++)line=lines[j],Utils$2.trim(line,` `).length!==0&&(indent=line.length-Utils$2.ltrim(line).length,(smallestIndent===-1||indent<smallestIndent)&&(smallestIndent=indent));if(smallestIndent>0){for(i=l=0,len1=lines.length;l<len1;i=++l)line=lines[i],lines[i]=line.slice(smallestIndent);value=lines.join(`
`)}return value},Parser$3.prototype.isNextLineUnIndentedCollection=function(currentIndentation){var notEOF,ret;for(currentIndentation??=null,currentIndentation??=this.getCurrentLineIndentation(),notEOF=this.moveToNextLine();notEOF&&this.isCurrentLineEmpty();)notEOF=this.moveToNextLine();return!1===notEOF?!1:(ret=!1,this.getCurrentLineIndentation()===currentIndentation&&this.isStringUnIndentedCollectionItem(this.currentLine)&&(ret=!0),this.moveToPreviousLine(),ret)},Parser$3.prototype.isStringUnIndentedCollectionItem=function(){return this.currentLine===`-`||this.currentLine.slice(0,2)===`- `},Parser$3})(),module.exports=Parser$1})),require_Dumper=__commonJSMin(((exports,module)=>{var Dumper$1,Inline,Utils$1=require_Utils();Inline=require_Inline(),Dumper$1=(function(){function Dumper$2(){}return Dumper$2.indentation=4,Dumper$2.prototype.dump=function(input,inline,indent,exceptionOnInvalidType,objectEncoder){var i,key,len,output,prefix,value,willBeInlined;if(inline??=0,indent??=0,exceptionOnInvalidType??=!1,objectEncoder??=null,output=``,prefix=indent?Utils$1.strRepeat(` `,indent):``,inline<=0||typeof input!=`object`||input instanceof Date||Utils$1.isEmpty(input))output+=prefix+Inline.dump(input,exceptionOnInvalidType,objectEncoder);else if(input instanceof Array)for(i=0,len=input.length;i<len;i++)value=input[i],willBeInlined=inline-1<=0||typeof value!=`object`||Utils$1.isEmpty(value),output+=prefix+`-`+(willBeInlined?` `:`
`)+this.dump(value,inline-1,willBeInlined?0:indent+this.indentation,exceptionOnInvalidType,objectEncoder)+(willBeInlined?`
`:``);else for(key in input)value=input[key],willBeInlined=inline-1<=0||typeof value!=`object`||Utils$1.isEmpty(value),output+=prefix+Inline.dump(key,exceptionOnInvalidType,objectEncoder)+`:`+(willBeInlined?` `:`
`)+this.dump(value,inline-1,willBeInlined?0:indent+this.indentation,exceptionOnInvalidType,objectEncoder)+(willBeInlined?`
`:``);return output},Dumper$2})(),module.exports=Dumper$1})),require_Yaml=__commonJSMin(((exports,module)=>{var Dumper,Parser=require_Parser(),Utils,Yaml;Dumper=require_Dumper(),Utils=require_Utils(),Yaml=(function(){function Yaml$1(){}return Yaml$1.parse=function(input,exceptionOnInvalidType,objectDecoder){return exceptionOnInvalidType??=!1,objectDecoder??=null,new Parser().parse(input,exceptionOnInvalidType,objectDecoder)},Yaml$1.parseFile=function(path,callback,exceptionOnInvalidType,objectDecoder){var input;return callback??=null,exceptionOnInvalidType??=!1,objectDecoder??=null,callback==null?(input=Utils.getStringFromFile(path),input==null?null:this.parse(input,exceptionOnInvalidType,objectDecoder)):Utils.getStringFromFile(path,(function(_this){return function(input$1){var result=null;input$1!=null&&(result=_this.parse(input$1,exceptionOnInvalidType,objectDecoder)),callback(result)}})(this))},Yaml$1.dump=function(input,inline,indent,exceptionOnInvalidType,objectEncoder){var yaml$1;return inline??=2,indent??=4,exceptionOnInvalidType??=!1,objectEncoder??=null,yaml$1=new Dumper,yaml$1.indentation=indent,yaml$1.dump(input,inline,0,exceptionOnInvalidType,objectEncoder)},Yaml$1.stringify=function(input,inline,indent,exceptionOnInvalidType,objectEncoder){return this.dump(input,inline,indent,exceptionOnInvalidType,objectEncoder)},Yaml$1.load=function(path,callback,exceptionOnInvalidType,objectDecoder){return this.parseFile(path,callback,exceptionOnInvalidType,objectDecoder)},Yaml$1})(),typeof window<`u`&&window!==null&&(window.YAML=Yaml),(typeof window>`u`||window===null)&&(exports.YAML=Yaml),module.exports=Yaml})),import_Yaml=__toESM(require_Yaml(),1);const supportedArgs$43=new Set([...COMMON_SUPPORTED_ARGS,`compressed`,`no-compressed`,`netrc`,`netrc-optional`,`no-netrc`,`no-netrc-optional`,`cacert`,`cert`,`key`,`ciphers`,`insecure`,`no-insecure`,`anyauth`,`no-anyauth`,`digest`,`no-digest`,`aws-sigv4`,`negotiate`,`no-negotiate`,`ntlm`,`no-ntlm`,`ntlm-wb`,`no-ntlm-wb`,`unix-socket`,`abstract-unix-socket`,`max-time`,`location`,`no-location`,`location-trusted`,`no-location-trusted`,`upload-file`,`output`,`form`,`form-string`]),supportedArgs$42=new Set([...COMMON_SUPPORTED_ARGS,`disallow-username-in-url`,`path-as-is`,`alt-svc`,`unix-socket`,`abstract-unix-socket`,`compressed`,`no-compressed`,`verbose`,`no-verbose`,`proxy`,`proxy-user`,`proxytunnel`,`noproxy`,`preproxy`,`proxy-anyauth`,`proxy-basic`,`proxy-digest`,`proxy-negotiate`,`proxy-ntlm`,`proxy-ca-native`,`proxy-cacert`,`proxy-capath`,`proxy-cert-type`,`proxy-cert`,`proxy-ciphers`,`proxy-crlfile`,`proxy-header`,`proxy-http2`,`proxy-insecure`,`proxy-key`,`proxy-key-type`,`proxy-pass`,`proxy-pinnedpubkey`,`proxy-service-name`,`proxy-ssl-allow-beast`,`proxy-ssl-auto-client-cert`,`proxy-tls13-ciphers`,`proxy-tlsuser`,`proxy-tlspassword`,`proxy-tlsauthtype`,`proxy-tlsv1`,`socks4`,`socks4a`,`socks5`,`socks5-hostname`,`socks5-basic`,`socks5-gssapi`,`socks5-gssapi-nec`,`socks5-gssapi-service`,`haproxy-clientip`,`haproxy-protocol`,`interface`,`netrc`,`netrc-file`,`netrc-optional`,`digest`,`no-digest`,`negotiate`,`no-negotiate`,`service-name`,`ntlm`,`no-ntlm`,`ntlm-wb`,`no-ntlm-wb`,`aws-sigv4`,`delegation`,`oauth2-bearer`,`ipv4`,`ipv6`,`local-port`,`ftp-skip-pasv-ip`,`sasl-authzid`,`sasl-ir`,`tr-encoding`,`tcp-fastopen`,`proto-default`,`ignore-content-length`,`no-ignore-content-length`,`remote-time`,`fail`,`continue-at`,`speed-limit`,`speed-time`,`limit-rate`,`max-filesize`,`http0.9`,`http1.0`,`http1.1`,`http2`,`http2-prior-knowledge`,`http3`,`http3-only`,`cookie-jar`,`junk-session-cookies`,`crlf`,`no-crlf`,`use-ascii`,`pass`,`cacert`,`capath`,`crlfile`,`pinnedpubkey`,`curves`,`cert`,`cert-status`,`cert-type`,`key`,`key-type`,`ca-native`,`ssl-allow-beast`,`ciphers`,`tls13-ciphers`,`tlsuser`,`tlspassword`,`tlsauthtype`,`ssl`,`ssl-auto-client-cert`,`ssl-no-revoke`,`ssl-reqd`,`ssl-revoke-best-effort`,`tlsv1`,`tlsv1.0`,`tlsv1.1`,`tlsv1.2`,`tlsv1.3`,`tls-max`,`hsts`,`alpn`,`no-alpn`,`form`,`form-string`,`form-escape`,`no-form-escape`,`doh-url`,`doh-cert-status`,`location`,`no-location`,`location-trusted`,`no-location-trusted`,`max-redirs`,`post301`,`post302`,`post303`,`max-time`,`connect-timeout`,`expect100-timeout`,`happy-eyeballs-timeout-ms`,`resolve`,`connect-to`,`keepalive`,`no-keepalive`,`keepalive-time`,`insecure`,`no-insecure`]);var require_jsesc=__commonJSMin(((exports,module)=>{var object={},hasOwnProperty=object.hasOwnProperty,forOwn=(object$1,callback)=>{for(let key in object$1)hasOwnProperty.call(object$1,key)&&callback(key,object$1[key])},extend=(destination,source)=>(source&&forOwn(source,(key,value)=>{destination[key]=value}),destination),forEach=(array,callback)=>{let length=array.length,index=-1;for(;++index<length;)callback(array[index])},fourHexEscape=hex=>`\\u`+(`0000`+hex).slice(-4),hexadecimal=(code,lowercase)=>{let hexadecimal$1=code.toString(16);return lowercase?hexadecimal$1:hexadecimal$1.toUpperCase()},toString=object.toString,isArray=Array.isArray,isBuffer=value=>typeof Buffer==`function`&&Buffer.isBuffer(value),isObject=value=>toString.call(value)==`[object Object]`,isString=value=>typeof value==`string`||toString.call(value)==`[object String]`,isNumber=value=>typeof value==`number`||toString.call(value)==`[object Number]`,isFunction=value=>typeof value==`function`,isMap=value=>toString.call(value)==`[object Map]`,isSet=value=>toString.call(value)==`[object Set]`,singleEscapes={"\\":`\\\\`,"\b":`\\b`,"\f":`\\f`,"\n":`\\n`,"\r":`\\r`,"	":`\\t`},regexSingleEscape=/[\\\b\f\n\r\t]/,regexDigit=/[0-9]/,regexWhitespace=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,escapeEverythingRegex=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,escapeNonAsciiRegex=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,jsesc=(argument,options)=>{let increaseIndentation=()=>{oldIndent=indent,++options.indentLevel,indent=options.indent.repeat(options.indentLevel)},defaults={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:`single`,wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:`decimal`,indent:`	`,indentLevel:0,__inline1__:!1,__inline2__:!1},json=options&&options.json;json&&(defaults.quotes=`double`,defaults.wrap=!0),options=extend(defaults,options),options.quotes!=`single`&&options.quotes!=`double`&&options.quotes!=`backtick`&&(options.quotes=`single`);let quote=options.quotes==`double`?`"`:options.quotes==`backtick`?"`":`'`,compact=options.compact,lowercaseHex=options.lowercaseHex,indent=options.indent.repeat(options.indentLevel),oldIndent=``,inline1=options.__inline1__,inline2=options.__inline2__,newLine=compact?``:`
`,result,isEmpty=!0,useBinNumbers=options.numbers==`binary`,useOctNumbers=options.numbers==`octal`,useDecNumbers=options.numbers==`decimal`,useHexNumbers=options.numbers==`hexadecimal`;if(json&&argument&&isFunction(argument.toJSON)&&(argument=argument.toJSON()),!isString(argument)){if(isMap(argument))return argument.size==0?`new Map()`:(compact||(options.__inline1__=!0,options.__inline2__=!1),`new Map(`+jsesc(Array.from(argument),options)+`)`);if(isSet(argument))return argument.size==0?`new Set()`:`new Set(`+jsesc(Array.from(argument),options)+`)`;if(isBuffer(argument))return argument.length==0?`Buffer.from([])`:`Buffer.from(`+jsesc(Array.from(argument),options)+`)`;if(isArray(argument))return result=[],options.wrap=!0,inline1&&(options.__inline1__=!1,options.__inline2__=!0),inline2||increaseIndentation(),forEach(argument,value=>{isEmpty=!1,inline2&&(options.__inline2__=!1),result.push((compact||inline2?``:indent)+jsesc(value,options))}),isEmpty?`[]`:inline2?`[`+result.join(`, `)+`]`:`[`+newLine+result.join(`,`+newLine)+newLine+(compact?``:oldIndent)+`]`;if(isNumber(argument)){if(json)return JSON.stringify(argument);if(useDecNumbers)return String(argument);if(useHexNumbers){let hexadecimal$1=argument.toString(16);return lowercaseHex||(hexadecimal$1=hexadecimal$1.toUpperCase()),`0x`+hexadecimal$1}if(useBinNumbers)return`0b`+argument.toString(2);if(useOctNumbers)return`0o`+argument.toString(8)}else if(isObject(argument))return result=[],options.wrap=!0,increaseIndentation(),forOwn(argument,(key,value)=>{isEmpty=!1,result.push((compact?``:indent)+jsesc(key,options)+`:`+(compact?``:` `)+jsesc(value,options))}),isEmpty?`{}`:`{`+newLine+result.join(`,`+newLine)+newLine+(compact?``:oldIndent)+`}`;else return json?JSON.stringify(argument)||`null`:String(argument)}let regex=options.escapeEverything?escapeEverythingRegex:escapeNonAsciiRegex;return result=argument.replace(regex,(char,pair,lone,quoteChar,index,string)=>{if(pair){if(options.minimal)return pair;let first=pair.charCodeAt(0),second=pair.charCodeAt(1);return options.es6?`\\u{`+hexadecimal((first-55296)*1024+second-56320+65536,lowercaseHex)+`}`:fourHexEscape(hexadecimal(first,lowercaseHex))+fourHexEscape(hexadecimal(second,lowercaseHex))}if(lone)return fourHexEscape(hexadecimal(lone.charCodeAt(0),lowercaseHex));if(char==`\0`&&!json&&!regexDigit.test(string.charAt(index+1)))return`\\0`;if(quoteChar)return quoteChar==quote||options.escapeEverything?`\\`+quoteChar:quoteChar;if(regexSingleEscape.test(char))return singleEscapes[char];if(options.minimal&&!regexWhitespace.test(char))return char;let hex=hexadecimal(char.charCodeAt(0),lowercaseHex);return json||hex.length>2?fourHexEscape(hex):`\\x`+(`00`+hex).slice(-2)}),quote=="`"&&(result=result.replace(/\$\{/g,"\\${")),options.isScriptContext&&(result=result.replace(/<\/(script|style)/gi,`<\\/$1`).replace(/<!--/g,json?`\\u003C!--`:`\\x3C!--`)),options.wrap&&(result=quote+result+quote),result};jsesc.version=`3.0.2`,module.exports=jsesc})),import_jsesc=__toESM(require_jsesc(),1);const javaScriptSupportedArgs=new Set([...COMMON_SUPPORTED_ARGS,`upload-file`,`form`,`form-string`,`digest`,`no-digest`,`next`,`compressed`]),nodeSupportedArgs=new Set([...javaScriptSupportedArgs,`proxy`]),FORBIDDEN_HEADERS=[`Accept-Charset`,`Accept-Encoding`,`Access-Control-Request-Headers`,`Access-Control-Request-Method`,`Connection`,`Content-Length`,`Cookie`,`Cookie2`,`Date`,`DNT`,`Expect`,`Host`,`Keep-Alive`,`Origin`,`Referer`,`Set-Cookie`,`TE`,`Trailer`,`Transfer-Encoding`,`Upgrade`,`Via`].map(h=>h.toLowerCase()),supportedArgs$41=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`max-time`,`proxy`,`proxy-user`]),supportedArgs$40=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`connect-timeout`,`location`,`upload-file`,`http2`]),supportedArgs$39=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`insecure`,`no-insecure`,`compressed`,`no-compressed`,`max-time`,`connect-timeout`,`max-redirs`,`location`,`no-location`,`location-trusted`,`no-location-trusted`,`digest`,`no-digest`,`ntlm`,`no-ntlm`,`ntlm-wb`,`no-ntlm-wb`]),supportedArgs$38=new Set([...COMMON_SUPPORTED_ARGS,`compressed`,`form`,`form-string`,`http0.9`,`http1.0`,`http1.1`,`insecure`,`no-compressed`,`no-digest`,`no-http0.9`,`no-insecure`,`proxy`,`upload-file`]),supportedArgs$37=new Set([...COMMON_SUPPORTED_ARGS,`compressed`,`form`,`form-string`,`no-compressed`]),supportedArgs$36=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`insecure`,`no-insecure`,`next`]),supportedArgs$35=new Set([...COMMON_SUPPORTED_ARGS,`compressed`,`digest`,`no-digest`,`aws-sigv4`,`negotiate`,`no-negotiate`,`delegation`,`ntlm`,`no-ntlm`,`ntlm-wb`,`no-ntlm-wb`,`http1.1`,`http2`,`http2-prior-knowledge`,`http3`,`http3-only`,`cookie-jar`,`cert`,`cacert`,`key`,`capath`,`form`,`form-string`,`location`,`no-location`,`location-trusted`,`no-location-trusted`,`max-redirs`,`max-time`,`connect-timeout`,`insecure`,`no-insecure`,`output`,`upload-file`,`next`,`proxy`,`proxy-user`]),supportedArgs$34=new Set([...COMMON_SUPPORTED_ARGS,`insecure`,`no-insecure`,`compressed`,`no-compressed`,`max-time`,`form`,`form-string`]),supportedArgs$33=new Set([...COMMON_SUPPORTED_ARGS,`anyauth`,`no-anyauth`,`http1.1`,`http2`,`http2-prior-knowledge`,`http3`,`http3-only`]),supportedArgs$32=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`http0.9`,`http1.0`,`http1.1`,`http2`,`http2-prior-knowledge`,`http3`,`http3-only`,`no-http0.9`,`compressed`,`no-compressed`,`upload-file`]),supportedArgs$31=new Set([...COMMON_SUPPORTED_ARGS,`cookie-jar`,`ipv4`,`no-ipv4`,`ipv6`,`no-ipv6`,`form`,`form-string`,`ciphers`,`insecure`,`cert`,`cert-type`,`key`,`key-type`,`cacert`,`capath`,`crlfile`,`pinnedpubkey`,`random-file`,`egd-file`,`hsts`,`noproxy`,`proxy`,`proxy-user`,`globoff`,`no-globoff`,`netrc`,`netrc-optional`,`timeout`,`connect-timeout`,`limit-rate`,`compressed`,`no-compressed`,`anyauth`,`no-anyauth`,`digest`,`no-digest`,`aws-sigv4`,`negotiate`,`no-negotiate`,`delegation`,`ntlm`,`no-ntlm`,`ntlm-wb`,`no-ntlm-wb`,`no-digest`,`output`,`upload-file`,`continue-at`,`clobber`,`remote-time`,`keep-alive`,`silent`,`verbose`,`next`]),supportedArgs$30=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`location`,`no-location`,`location-trusted`,`no-location-trusted`,`max-redirs`,`ciphers`,`insecure`,`cert`,`key`,`cacert`,`capath`,`proxy`,`noproxy`,`timeout`,`connect-timeout`,`anyauth`,`no-anyauth`,`digest`,`no-digest`,`negotiate`,`no-negotiate`,`delegation`,`ntlm`,`no-ntlm`,`ntlm-wb`,`no-ntlm-wb`,`no-netrc`,`verbose`,`silent`,`upload-file`,`next`]),supportedArgs$29=new Set([...COMMON_SUPPORTED_ARGS]),supportedArgs$28=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`max-time`]),supportedArgs$27=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`connect-timeout`,`location`,`location-trusted`,`upload-file`,`form`,`form-string`]),supportedArgs$26=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`max-time`]),supportedArgs$25=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`max-time`]),supportedArgs$24=new Set([...COMMON_SUPPORTED_ARGS,`insecure`,`no-insecure`,`form`,`form-string`,`compressed`,`location`,`no-location`,`location-trusted`,`no-location-trusted`,`max-redirs`,`output`,`include`,`proxy`,`max-time`,`connect-timeout`,`anyauth`,`no-anyauth`,`digest`,`no-digest`,`aws-sigv4`,`negotiate`,`no-negotiate`,`delegation`,`ntlm`,`no-ntlm`,`ntlm-wb`,`no-ntlm-wb`]);function getDataString(request){if(!request.data)return{};let contentType=request.headers.getContentType();if(contentType===`application/json`)try{return JSON.parse(request.data.toString())}catch{}if(contentType===`application/x-www-form-urlencoded`){let[parsedQuery,parsedQueryDict]=parseQueryString(request.data);if(parsedQueryDict)return Object.fromEntries(parsedQueryDict.map(param=>[param[0].toString(),Array.isArray(param[1])?param[1].map(v=>v.toString()):param[1].toString()]));if(parsedQuery)return Object.fromEntries(parsedQuery.map(param=>[param[0].toString(),param[1].toString()]))}return request.data.toString()}function getFilesString(request){if(!request.multipartUploads)return;let data={files:{},data:{}};for(let m of request.multipartUploads)`contentFile`in m?data.files[m.name.toString()]=m.contentFile.toString():data.data[m.name.toString()]=m.content.toString();return{files:Object.keys(data.files).length?data.files:void 0,data:Object.keys(data.data).length?data.data:void 0}}function _toJsonObject(requests,warnings=[]){let request=getFirst(requests,warnings),requestUrl=request.urls[0],requestJson={url:(requestUrl.queryDict?requestUrl.urlWithoutQueryList:requestUrl.url).toString().replace(/\/$/,``),raw_url:requestUrl.url.toString(),method:requestUrl.method.toLowerCase().toString()};if(request.cookies&&(requestJson.cookies=Object.fromEntries(request.cookies.map(c=>[c[0].toString(),c[1].toString()]))),request.headers.length){let headers=request.headers.headers.filter(h=>h[1]!==null).map(h=>[h[0].toString(),h[1].toString()]);requestJson.headers=Object.fromEntries(headers)}if(requestUrl.queryDict&&(requestJson.queries=Object.fromEntries(requestUrl.queryDict.map(q=>[q[0].toString(),Array.isArray(q[1])?q[1].map(qq=>qq.toString()):q[1].toString()]))),request.data?requestJson.data=getDataString(request):request.multipartUploads&&Object.assign(requestJson,getFilesString(request)),request.compressed&&(requestJson.compressed=!0),request.insecure&&(requestJson.insecure=!1),request.include&&(requestJson.include=!0),requestUrl.auth){let[user,password]=requestUrl.auth;requestJson.auth={user:user.toString(),password:password.toString()},request.authType&&(requestJson.auth_type=request.authType)}return request.awsSigV4&&(requestJson.aws_sigv4=request.awsSigV4.toString()),request.delegation&&(requestJson.delegation=request.delegation.toString()),Object.prototype.hasOwnProperty.call(request,`followRedirects`)&&(requestJson.follow_redirects=request.followRedirects,request.maxRedirects&&(requestJson.max_redirects=parseInt(request.maxRedirects.toString(),10))),request.proxy&&(requestJson.proxy=request.proxy.toString()),request.timeout&&(requestJson.timeout=parseFloat(request.timeout.toString())),request.connectTimeout&&(requestJson.connect_timeout=parseFloat(request.connectTimeout.toString())),requestUrl.output&&(requestJson.output=requestUrl.output.toString()),requestJson}function toJsonObjectWarn(curlCommand,warnings=[]){return[_toJsonObject(parse(curlCommand,supportedArgs$24,warnings),warnings),warnings]}function toJsonObject(curlCommand){return toJsonObjectWarn(curlCommand)[0]}const supportedArgs$23=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`no-compressed`,`insecure`,`no-insecure`,`upload-file`,`connect-timeout`,`timeout`,`retry`,`location`,`max-redirs`,`form`,`form-string`]),supportedArgs$22=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`connect-timeout`,`location`,`location-trusted`,`upload-file`,`form`,`form-string`]),supportedArgs$21=new Set([...COMMON_SUPPORTED_ARGS]),supportedArgs$20=new Set([...COMMON_SUPPORTED_ARGS,`insecure`,`no-insecure`,`form`,`form-string`]),supportedArgs$19=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`form`,`form-string`,`proxy`,`proxy-user`]),supportedArgs$18=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`connect-timeout`,`location`,`no-location`,`location-trusted`,`no-location-trusted`,`max-redirs`,`compressed`,`insecure`,`http2`,`http2-prior-knowledge`,`form`,`form-string`]),supportedArgs$17=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`max-time`]),supportedArgs$16=new Set([...COMMON_SUPPORTED_ARGS,`upload-file`,`form`,`form-string`,`next`,`compressed`,`upload-file`,`retry`,`max-time`]),supportedArgs$15=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`max-time`,`connect-timeout`,`location`,`max-redirs`,`retry`,`insecure`,`cert`,`key`,`cacert`,`http2`]),supportedArgs$14=new Set([...COMMON_SUPPORTED_ARGS,`next`]),supportedArgs$13=new Set([...COMMON_SUPPORTED_ARGS,`max-time`]);var reservedHeaders=[`Content-Length`,`Authorization`,`Connection`,`Host`,`Proxy-Authenticate`,`Proxy-Authorization`,`WWW-Authenticate`].map(h=>h.toLowerCase());const supportedArgs$12=new Set([...COMMON_SUPPORTED_ARGS]),supportedArgs$11=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`insecure`,`no-insecure`,`upload-file`,`max-redirs`,`max-time`,`form`,`form-string`]),supportedArgs$10=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`insecure`,`no-insecure`,`compressed`,`no-compressed`,`digest`,`no-digest`,`location`,`no-location`,`form`,`form-string`,`proxy`,`proxy-user`,`unix-socket`]),supportedArgs$9=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`digest`,`no-digest`,`ntlm`,`no-ntlm`,`ntlm-wb`,`no-ntlm-wb`,`http3`,`http3-only`,`http2`,`http2-prior-knowledge`,`max-time`,`connect-timeout`,`insecure`,`no-insecure`,`cacert`,`capath`,`cert`,`key`,`compressed`,`no-compressed`,`location`,`no-location`,`proxy`,`noproxy`]),supportedArgs$8=new Set([...COMMON_SUPPORTED_ARGS]),supportedArgs$7=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`upload-file`,`output`,`location`,`location-trusted`,`max-redirs`,`proxy`,`insecure`,`max-time`,`keepalive`,`http2`,`http3`]),supportedArgs$6=new Set([...COMMON_SUPPORTED_ARGS,`max-time`,`insecure`,`no-insecure`,`upload-file`]),supportedArgs$5=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`insecure`,`no-insecure`]),supportedArgs$4=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`insecure`,`no-insecure`,`oauth2-bearer`,`max-redirs`,`max-time`,`connect-timeout`,`retry`,`retry-max-time`]),supportedArgs$3=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`http0.9`,`http1.0`,`http1.1`,`insecure`,`no-digest`,`no-http0.9`,`no-insecure`,`output`,`proxy`,`proxy-user`,`upload-file`,`next`]),supportedArgs$2=new Set([...COMMON_SUPPORTED_ARGS,`digest`,`no-digest`,`form`,`form-string`,`http0.9`,`http1.0`,`http1.1`,`insecure`,`output`,`upload-file`,`next`]),supportedArgs$1=new Set([...COMMON_SUPPORTED_ARGS,`form`,`form-string`,`max-redirs`,`location`,`no-location`]);var INDENTATION=` `.repeat(4);const supportedArgs=new Set([...COMMON_SUPPORTED_ARGS,`max-time`]);var SUPPORTED_CONTENT_TYPES=[`application/json`,`application/x-www-form-urlencoded`,`multipart/form-data`],CONTENT_TYPE_KEY=`content-type`,getContentTypeHeader=headers=>(0,import_get.default)(headers,CONTENT_TYPE_KEY)??void 0,isContentType=(headers,contentType)=>getContentTypeHeader(headers)===contentType,isJsonRequest=curlJson=>{if(isContentType(curlJson.headers,`application/json`))return!0;if(curlJson.data&&!getContentTypeHeader(curlJson.headers)){let bodyKey=Object.keys(curlJson.data)[0];try{return JSON.parse(bodyKey),!0}catch{return!1}}return!1},isFormUrlEncodedRequest=curlJson=>!!(isContentType(curlJson.headers,`application/x-www-form-urlencoded`)||!getContentTypeHeader(curlJson.headers)&&curlJson.data&&!curlJson.files),isMultipartRequest=curlJson=>!!(isContentType(curlJson.headers,`multipart/form-data`)||curlJson.files),isBinaryRequest=curlJson=>{if(curlJson?.headers?.[CONTENT_TYPE_KEY]){let contentType=curlJson?.headers?.[CONTENT_TYPE_KEY];return[`image`,`video`,`audio`].some(d=>contentType.includes(d))}return!1},toKeyValueArray=([key,value])=>({name:key,value:value?.toString()??``}),extractHeaders=(headers={})=>{let emptyHeaders=!Object.keys(headers).length,onlyContentTypeHeaderDefined=Object.keys(headers).length===1&&headers[CONTENT_TYPE_KEY]!==void 0;return emptyHeaders||onlyContentTypeHeaderDefined?{sendHeaders:!1}:{sendHeaders:!0,headerParameters:{parameters:Object.entries(headers).map(toKeyValueArray).filter(parameter=>parameter.name!==CONTENT_TYPE_KEY)}}},extractQueries=(queries={})=>Object.keys(queries).length?{sendQuery:!0,queryParameters:{parameters:Object.entries(queries).map(toKeyValueArray)}}:{sendQuery:!1},keyValueBodyToNodeParameters=(body={})=>Object.entries(body).map(toKeyValueArray),jsonBodyToNodeParameters=(body={})=>typeof body==`string`?[...new URLSearchParams(body).entries()].map(parameter=>toKeyValueArray(parameter)):keyValueBodyToNodeParameters(body),multipartToNodeParameters=(body={},files={})=>[...Object.entries(body).map(toKeyValueArray).map(e=>({parameterType:`formData`,...e})),...Object.entries(files).map(toKeyValueArray).map(e=>({parameterType:`formBinaryData`,...e}))],lowerCaseContentTypeKey=obj=>{if(!obj)return;let regex=new RegExp(CONTENT_TYPE_KEY,`gi`),contentTypeKey=Object.keys(obj).find(key=>!!Array.from(key.matchAll(regex)).length);if(!contentTypeKey)return;let value=obj[contentTypeKey];delete obj[contentTypeKey],obj[CONTENT_TYPE_KEY]=value},encodeBasicAuthentication=(username,password)=>btoa(`${username}:${password}`),jsonHasNestedObjects=json=>Object.values(json).some(e=>typeof e==`object`),mapCookies=cookies=>{if(!cookies)return{};let cookiesValues=Object.entries(cookies).reduce((accumulator,entry)=>(accumulator+=`${entry[0]}=${entry[1]};`,accumulator),``);return cookiesValues?{cookie:cookiesValues}:{}};const flattenObject=(obj,prefix=``)=>Object.keys(obj).reduce((acc,k)=>{let pre=prefix.length?prefix+`.`:``;return typeof obj[k]==`object`?Object.assign(acc,flattenObject(obj[k],pre+k)):acc[pre+k]=obj[k],acc},{});function sanitizeCurlUrlPlaceholders(curlCommand){let CURL_URL_REGEX=/curl\s+(['"]?)(https?:\/\/[^\s'"]+)\1/,PLACEHOLDER_REGEX=/<([A-Za-z0-9_-]+)>/g,urlMatch=curlCommand.match(CURL_URL_REGEX);if(!urlMatch||!urlMatch[2])return curlCommand;let originalUrl=urlMatch[2],sanitizedUrl=originalUrl.replaceAll(PLACEHOLDER_REGEX,`{$1}`);return curlCommand.replace(originalUrl,sanitizedUrl)}const toHttpNodeParameters=curlCommand=>{let curlJson=toJsonObject(sanitizeCurlUrlPlaceholders(curlCommand)),headers=curlJson.headers??{};if(lowerCaseContentTypeKey(headers),curlJson.auth){let{user,password:pass}=curlJson.auth;headers.authorization=`Basic ${encodeBasicAuthentication(user,pass)}`}let url=new URL(curlJson.url),queries=curlJson.queries??{};for(let[key,value]of url.searchParams)queries[key]=value;url.search=``;let httpNodeParameters={url:url.pathname===`/`?url.href.slice(0,-1):url.href,authentication:`none`,method:curlJson.method.toUpperCase(),...extractHeaders({...headers,...mapCookies(curlJson.cookies)}),...extractQueries(queries),options:{redirect:{redirect:{}},response:{response:{}}}};curlJson.follow_redirects&&(httpNodeParameters.options.redirect.redirect.followRedirects=!0,curlJson.max_redirects&&(httpNodeParameters.options.redirect.redirect.maxRedirects=curlJson.max_redirects)),curlJson.proxy&&(httpNodeParameters.options.proxy=curlJson.proxy),curlJson.connect_timeout!==void 0&&(httpNodeParameters.options.timeout=Math.floor(curlJson.connect_timeout*1e3)),curlJson.output&&(httpNodeParameters.options.response.response={responseFormat:`file`,outputPropertyName:curlJson.output??`data`}),curlJson.insecure!==void 0&&(httpNodeParameters.options.allowUnauthorizedCerts=!0),curlJson.include&&(httpNodeParameters.options.response.response.fullResponse=!0,httpNodeParameters.options.response.response.responseFormat=`autodetect`);let contentType=curlJson?.headers?.[CONTENT_TYPE_KEY];if(isBinaryRequest(curlJson))return Object.assign(httpNodeParameters,{contentType:`binaryData`,sendBody:!0});if(contentType&&!SUPPORTED_CONTENT_TYPES.includes(contentType)){let data=curlJson?.data;return Object.assign(httpNodeParameters,{sendBody:!0,contentType:`raw`,rawContentType:contentType,body:data?typeof data==`string`?data:JSON.stringify(data):void 0})}if(isJsonRequest(curlJson)){if(Object.assign(httpNodeParameters,{contentType:`json`,sendBody:!0}),curlJson.data){let json=curlJson.data;jsonHasNestedObjects(json)?Object.assign(httpNodeParameters,{specifyBody:`json`,jsonBody:JSON.stringify(json,null,2)}):Object.assign(httpNodeParameters,{specifyBody:`keypair`,bodyParameters:{parameters:jsonBodyToNodeParameters(curlJson.data)}})}}else isFormUrlEncodedRequest(curlJson)?Object.assign(httpNodeParameters,{contentType:`form-urlencoded`,sendBody:!0,specifyBody:`keypair`,bodyParameters:{parameters:jsonBodyToNodeParameters(curlJson.data)}}):isMultipartRequest(curlJson)?Object.assign(httpNodeParameters,{contentType:`multipart-form-data`,sendBody:!0,bodyParameters:{parameters:multipartToNodeParameters(curlJson.data,curlJson.files)}}):Object.assign(httpNodeParameters,{sendBody:!1});return Object.keys(httpNodeParameters.options?.redirect.redirect).length||delete httpNodeParameters.options.redirect,Object.keys(httpNodeParameters.options.response.response).length||delete httpNodeParameters.options.response,httpNodeParameters};function useImportCurlCommand(options){let toast=useToast(),i18n=useI18n(),translationStrings={invalidCurCommand:{title:`importCurlParameter.showError.invalidCurlCommand.title`,message:`importCurlParameter.showError.invalidCurlCommand.message`},...options?.i18n};function importCurlCommand(curlCommandRef){let curlCommand=unref(curlCommandRef);if(curlCommand!==``)try{let parameters=flattenObject(toHttpNodeParameters(curlCommand),`parameters`);assert(typeof parameters[`parameters.url`]==`string`,`parameters.url has to be string`);let url=parameters[`parameters.url`].replaceAll(`%7B`,`{`).replaceAll(`%7D`,`}`),invalidProtocol=CURL_IMPORT_NOT_SUPPORTED_PROTOCOLS.find(p=>url.includes(`${p}://`));if(invalidProtocol)if(CURL_IMPORT_NODES_PROTOCOLS[invalidProtocol]){let useNode=CURL_IMPORT_NODES_PROTOCOLS[invalidProtocol];showProtocolErrorWithSupportedNode(invalidProtocol,useNode)}else showProtocolError(invalidProtocol);else{parameters[`parameters.url`]=url,importCurlEventBus.emit(`setHttpNodeParameters`,parameters),options?.onImportSuccess?.();return}options?.onImportFailure?.({invalidProtocol:!0,protocol:invalidProtocol})}catch{showInvalidcURLCommandError(),options?.onImportFailure?.({invalidProtocol:!1})}finally{options?.onAfterImport?.()}}function showProtocolErrorWithSupportedNode(protocol,node){toast.showToast({title:i18n.baseText(`importCurlParameter.showError.invalidProtocol1.title`,{interpolate:{node}}),message:i18n.baseText(`importCurlParameter.showError.invalidProtocol.message`,{interpolate:{protocol:protocol.toUpperCase()}}),type:`error`,duration:0})}function showProtocolError(protocol){toast.showToast({title:i18n.baseText(`importCurlParameter.showError.invalidProtocol2.title`),message:i18n.baseText(`importCurlParameter.showError.invalidProtocol.message`,{interpolate:{protocol}}),type:`error`,duration:0})}function showInvalidcURLCommandError(){toast.showToast({title:i18n.baseText(translationStrings.invalidCurCommand.title),message:i18n.baseText(translationStrings.invalidCurCommand.message),type:`error`,duration:0})}return{importCurlCommand}}export{useImportCurlCommand};
//# sourceMappingURL=useImportCurlCommand-CVAkvAV3.js.map