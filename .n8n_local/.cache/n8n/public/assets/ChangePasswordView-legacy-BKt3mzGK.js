!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./sso.store-legacy-B2e5Mjw4.js","./AuthView-legacy-CpjlvZ0I.js"],(function(e,a){var t,s,n,r,o,u,i,l,d,c,f,w,g;return{setters:[function(e){t=e.E,s=e.It,n=e.P,r=e.T,o=e.Z,u=e.et},function(e){i=e.yt},function(e){l=e.wi},function(e){},function(e){d=e.t,c=e.yr},function(e){f=e.rs,e.ul},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){w=e.t}],execute:function(){try{a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(p=(new a.Error).stack)&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[p]="e443398a-904b-4be3-a640-adf0d3307ef3",a._sentryDebugIdIdentifier="sentry-dbid-e443398a-904b-4be3-a640-adf0d3307ef3")}catch(a){}var a,p;g=n({__name:"ChangePasswordView",setup(e){const n=d(),g=i(),p=c(),h=l(),y=s(""),b=s(!1),m=s(null),T=e=>"string"==typeof e&&e!==y.value&&{messageKey:"auth.changePassword.passwordsMustMatchError"},v=()=>h.currentRoute.value.query.token&&"string"==typeof h.currentRoute.value.query.token?h.currentRoute.value.query.token:null,P=async e=>{try{b.value=!0;const a=v();if(a){const t={token:a,password:y.value,...e.mfaCode&&{mfaCode:e.mfaCode}};await n.changePassword(t),p.showMessage({type:"success",title:g.baseText("auth.changePassword.passwordUpdated"),message:g.baseText("auth.changePassword.passwordUpdatedMessage")}),await h.push({name:f.SIGNIN})}else p.showError(new Error(g.baseText("auth.validation.missingParameters")),g.baseText("auth.changePassword.error"))}catch(a){p.showError(a,g.baseText("auth.changePassword.error"))}b.value=!1},x=e=>{"password"===e.name&&"string"==typeof e.value&&(y.value=e.value)};return o((async()=>{const e={title:g.baseText("auth.changePassword"),buttonText:g.baseText("auth.changePassword"),redirectText:g.baseText("auth.signin"),redirectLink:"/signin",inputs:[{name:"password",properties:{label:g.baseText("auth.newPassword"),type:"password",required:!0,validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],infoText:g.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"password2",properties:{label:g.baseText("auth.changePassword.reenterNewPassword"),type:"password",required:!0,validators:{TWO_PASSWORDS_MATCH:{validate:T}},validationRules:[{name:"TWO_PASSWORDS_MATCH"}],autocomplete:"new-password",capitalize:!0}}]},t=v();h.currentRoute.value.query.mfaEnabled&&"true"===h.currentRoute.value.query.mfaEnabled&&e.inputs.push({name:"mfaCode",initialValue:"",properties:{required:!0,label:g.baseText("mfa.code.input.label"),placeholder:g.baseText("mfa.code.input.placeholder"),maxlength:6,capitalize:!0,validateOnBlur:!0}}),m.value=e;try{if(!t)throw new Error(g.baseText("auth.changePassword.missingTokenError"));await n.validatePasswordToken({token:t})}catch(a){p.showError(a,g.baseText("auth.changePassword.tokenValidationError")),h.replace({name:f.SIGNIN})}})),(e,a)=>m.value?(u(),r(w,{key:0,form:m.value,"form-loading":b.value,onSubmit:P,onUpdate:x},null,8,["form","form-loading"])):t("",!0)}}),e("default",g)}}}));
//# sourceMappingURL=ChangePasswordView-legacy-BKt3mzGK.js.map