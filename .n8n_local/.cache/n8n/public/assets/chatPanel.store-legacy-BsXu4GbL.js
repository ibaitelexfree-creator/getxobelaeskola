!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./src-legacy-kcwUfEuS.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./_baseOrderBy-legacy-BnyL5wLN.js","./assistant.store-legacy-5vR0xJ8p.js"],(function(e,n){var i,s,t,a,o,d,r,c,u,f,l,h,p;function w(e,n){return"string"==typeof e&&n.includes(e)}return{setters:[function(e){i=e.C,s=e._t},function(e){t=e.Ci},function(e){a=e.Ir,o=e.Lr,d=e.Wc,r=e.jr,c=e.r,u=e.un,f=e.ws},function(e){e.bl,l=e.ts},function(e){h=e.j},function(e){p=e.t}],execute:function(){try{n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(m=(new n.Error).stack)&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[m]="924c3f88-91c7-4585-94bb-4d044af60bcf",n._sentryDebugIdIdentifier="sentry-dbid-924c3f88-91c7-4585-94bb-4d044af60bcf")}catch(n){}var n,m;e("t",h(d.CHAT_PANEL,(()=>{const e=c(),n=t(),d=r(),h=f(),m=i((()=>"assistant"===d.activeMode)),y=i((()=>"builder"===d.activeMode)),g=i((()=>h.isAiAssistantOrBuilderEnabled&&l.includes(n.name)));async function b(i){const s=i?.mode,t=i?.showCoachmark??!0;s&&(d.activeMode=s),d.showCoachmark=t;const r="assistant"===d.activeMode?a:o,c=n?.name;if(w(c,r)){if(d.isOpen=!0,"builder"===d.activeMode){const e=u();e.streaming||(e.fetchBuilderCredits(),e.loadSessions())}else if("assistant"===d.activeMode){const e=p();e.chatMessages=e.chatMessages.map((e=>({...e,read:!0})))}e.appGridDimensions={...e.appGridDimensions,width:window.innerWidth-d.width}}else M()}function M(){d.isOpen=!1,d.showCoachmark=!1,setTimeout((()=>{e.appGridDimensions={...e.appGridDimensions,width:window.innerWidth};const n=p();n.isSessionEnded&&n.resetAssistantChat()}),250)}return s((()=>n?.name),(e=>{if(!e)return;const n=u();!d.isOpen&&n.streaming&&w(e,o)?b({mode:"builder"}):d.isOpen&&(w(e,"assistant"===d.activeMode?a:o)?w(e,o)&&!n.streaming&&n.resetBuilderChat():M())})),{isOpen:i((()=>d.isOpen)),width:i((()=>d.width)),activeMode:i((()=>d.activeMode)),showCoachmark:i((()=>d.showCoachmark)),isAssistantModeActive:m,isBuilderModeActive:y,canShowAiButtonOnCanvas:g,open:b,close:M,toggle:async function(e){d.isOpen?M():await b(e)},switchMode:function(e){const i="assistant"===e?a:o,s=n?.name;w(s,i)?(d.activeMode=e,d.showCoachmark=!1):M()},updateWidth:function(n){const i=Math.min(Math.max(n,380),425);d.width=i,d.isOpen&&(e.appGridDimensions={...e.appGridDimensions,width:window.innerWidth-i})},openWithCredHelp:async function(e){await p().initCredHelp(e),await b({mode:"assistant"})},openWithErrorHelper:async function(e){await p().initErrorHelper(e),await b({mode:"assistant"})},DEFAULT_CHAT_WIDTH:400,MIN_CHAT_WIDTH:380,MAX_CHAT_WIDTH:425}})))}}}));
//# sourceMappingURL=chatPanel.store-legacy-BsXu4GbL.js.map