!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"n8n@2.9.4"}}catch(e){}}(),System.register(["./chunk-legacy-BCpDjeTS.js","./vue.runtime.esm-bundler-legacy-BquwEXRp.js","./_MapCache-legacy-BR_CVmoL.js","./src-legacy-kcwUfEuS.js","./_plugin-vue_export-helper-legacy-DtDV0xrP.js","./sanitize-html-legacy-rns0ELH_.js","./users.store-legacy-B-bVJKl3.js","./constants-legacy-DVkAm8xO.js","./merge-legacy-C4nCP5az.js","./_baseOrderBy-legacy-BnyL5wLN.js","./banners.store-legacy-B3TV_6lC.js","./dateformat-legacy-BvMRGS_P.js","./useDebounce-legacy-BSzeAS4U.js","./executions.store-legacy-OEeCPZk_.js","./assistant.store-legacy-5vR0xJ8p.js","./semver-legacy-BKbx4Ujl.js","./usePinnedData-legacy-B5CI71uf.js","./nodeIcon-legacy-KJSlWBN7.js","./canvas.utils-legacy-BQnUeqx3.js","./nodeCreator.store-legacy-i0crt2uh.js","./useCanvasOperations-legacy-CEMGNuuE.js","./folders.store-legacy-BDfX2wrH.js","./useRunWorkflow-legacy-4stFR283.js","./pushConnection.store-legacy-C36NF7Lj.js","./readyToRun.store-legacy-CKgcGLoh.js","./aiTemplatesStarterCollection.store-legacy-Ch_qppxf.js","./usePushConnection-legacy-OU2Q923F.js"],(function(e,a){var t,n,i,l,s,o,c,d,r,u,g,y,m,_,p,f,b,k,v,C,h,x,w,j,N,T,P,z,I,$,E,S,A,L,U,V,D,B,M,R,O,W,H,J,Y,q,F,G,Z,K,Q,X,ee;return{setters:[function(e){t=e.o},function(e){n=e.C,i=e.Cn,l=e.D,s=e.E,o=e.Gt,c=e.It,d=e.J,r=e.M,u=e.P,g=e.T,y=e.Z,m=e._,_=e._t,p=e.bt,f=e.et,b=e.it,k=e.j,v=e.q,C=e.vn,h=e.w},function(e){x=e.yt},function(e){w=e.Et,j=e.Hi,N=e.Oi,T=e.Pi,P=e.Tt,z=e.Ui,I=e.Vi,$=e.wi,E=e.zi},function(e){S=e.t},function(e){},function(e){A=e.Aa,L=e.C,U=e.Ea,V=e.Lt,D=e.fn,B=e.ka,M=e.r,R=e.ws,O=e.xr,W=e.yr},function(e){H=e.x},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){J=e.n,Y=e.t},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){q=e.t},function(e){},function(e){},function(e){F=e.t}],execute:function(){(G=document.createElement("style")).textContent="._cardContainer_wz5jy_125{padding:var(--spacing--sm);border:var(--border-width)var(--border-style)var(--color--info--tint-1);border-radius:var(--radius--lg);background-color:var(--color--background--light-3);display:flex}._packageCard_wz5jy_133,._cardSkeleton_wz5jy_134{flex-basis:100%;justify-content:space-between;display:flex}._packageCard_wz5jy_133{align-items:center}._cardSkeleton_wz5jy_134{flex-direction:column}._loader_wz5jy_148{width:50%;transform:scaleY(-1)}._loader_wz5jy_148:last-child{width:70%}._loader_wz5jy_148:last-child div{margin:0}._cardInfoContainer_wz5jy_159{flex-wrap:wrap;display:flex}._cardTitle_wz5jy_164{flex-basis:100%}._cardTitle_wz5jy_164 span{line-height:1}._cardSubtitle_wz5jy_171{padding-right:var(--spacing--md);margin-top:2px}._cardControlsContainer_wz5jy_176{align-items:center;gap:var(--spacing--3xs);display:flex}._cardActions_wz5jy_182{padding-left:var(--spacing--3xs)}._container_rpbd6_125{height:100%;padding-right:var(--spacing--2xs)}._container_rpbd6_125>*{margin-bottom:var(--spacing--2xl)}._headingContainer_rpbd6_133{justify-content:space-between;display:flex}._loadingContainer_rpbd6_138{gap:var(--spacing--xs);display:flex}._actionBoxContainer_rpbd6_143{text-align:center}._cardsContainer_rpbd6_147{gap:var(--spacing--2xs);flex-direction:column;display:flex}\n/*$vite$:1*/",document.head.appendChild(G);try{a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},(ae=(new a.Error).stack)&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[ae]="de1c3556-6d08-420b-8efe-fd269d9d5474",a._sentryDebugIdIdentifier="sentry-dbid-de1c3556-6d08-420b-8efe-fd269d9d5474")}catch(a){}var a,ae;Z=t(Y(),1),K={key:0},Q=u({__name:"CommunityPackageCard",props:{communityPackage:{default:null},loading:{type:Boolean,default:!1}},setup(e){const a=e,{openCommunityPackageUpdateConfirmModal:t,openCommunityPackageUninstallConfirmModal:d}=M(),u=x(),y=V(),v=R(),T=L(),$=c(),E=n((()=>a.communityPackage?.installedVersion||"")),S=n((()=>v.isUnverifiedPackagesEnabled&&a.communityPackage?.updateAvailable)),U=n((()=>{const e=$.value&&Z.default.gt($.value||"",E.value);return v.isCommunityNodesFeatureEnabled&&e})),D=[{label:u.baseText("settings.communityNodes.viewDocsAction.label"),value:A.VIEW_DOCS,type:"external-link"},{label:u.baseText("settings.communityNodes.uninstallAction.label"),value:A.UNINSTALL}];async function B(e){if(a.communityPackage)switch(e){case A.VIEW_DOCS:y.track("user clicked to browse the cnr package documentation",{package_name:a.communityPackage.packageName,package_version:a.communityPackage.installedVersion}),window.open(`${H}${a.communityPackage.packageName}`,"_blank");break;case A.UNINSTALL:d(a.communityPackage.packageName)}}function O(){a.communityPackage&&t(a.communityPackage.packageName,"instance settings")}return _((()=>a.communityPackage?.packageName),(async e=>{if(e){await T.loadNodeTypesIfNotLoaded();const a=T.visibleNodeTypes.find((a=>a.name.includes(e))),t=await T.getCommunityNodeAttributes(a?.name||"");t?.npmVersion&&($.value=t.npmVersion)}}),{immediate:!0}),(a,t)=>(f(),l("div",{class:C(a.$style.cardContainer),"data-test-id":"community-package-card"},[e.loading?(f(),l("div",{key:0,class:C(a.$style.cardSkeleton)},[r(o(w),{class:C(a.$style.loader),variant:"p",rows:1},null,8,["class"]),r(o(w),{class:C(a.$style.loader),variant:"p",rows:1},null,8,["class"])],2)):e.communityPackage?(f(),l("div",{key:1,class:C(a.$style.packageCard)},[h("div",{class:C(a.$style.cardInfoContainer)},[h("div",{class:C(a.$style.cardTitle)},[r(o(I),{bold:!0,size:"large"},{default:p((()=>[k(i(e.communityPackage.packageName),1)])),_:1})],2),h("div",{class:C(a.$style.cardSubtitle)},[r(o(I),{bold:!0,size:"small",color:"text-light"},{default:p((()=>[k(i(o(u).baseText("settings.communityNodes.packageNodes.label",{adjustToNumber:e.communityPackage.installedNodes.length}))+":Â  ",1)])),_:1}),r(o(I),{size:"small",color:"text-light"},{default:p((()=>[(f(!0),l(m,null,b(e.communityPackage.installedNodes,((a,t)=>(f(),l("span",{key:a.name},[k(i(a.name),1),t!=e.communityPackage.installedNodes.length-1?(f(),l("span",K,",")):s("",!0)])))),128))])),_:1})],2)],2),h("div",{class:C(a.$style.cardControlsContainer)},[r(o(I),{bold:!0,size:"large",color:"text-light"},{default:p((()=>[k(" v"+i(e.communityPackage.installedVersion),1)])),_:1}),!0===e.communityPackage.failedLoading?(f(),g(o(N),{key:0,placement:"top"},{content:p((()=>[h("div",null,i(o(u).baseText("settings.communityNodes.failedToLoad.tooltip")),1)])),default:p((()=>[r(o(z),{icon:"triangle-alert",color:"danger",size:"large"})])),_:1})):S.value||U.value?(f(),g(o(N),{key:1,placement:"top"},{content:p((()=>[h("div",null,i(o(u).baseText("settings.communityNodes.updateAvailable.tooltip")),1)])),default:p((()=>[r(o(j),{variant:"outline",label:"Update",onClick:O})])),_:1})):(f(),g(o(N),{key:2,placement:"top"},{content:p((()=>[h("div",null,i(o(u).baseText("settings.communityNodes.upToDate.tooltip")),1)])),default:p((()=>[r(o(z),{icon:"circle-check",color:"text-light",size:"large"})])),_:1})),h("div",{class:C(a.$style.cardActions)},[r(o(P),{actions:D,onAction:B})],2)],2)],2)):s("",!0)],2))}}),X=S(Q,[["__cssModules",{$style:{cardContainer:"_cardContainer_wz5jy_125",packageCard:"_packageCard_wz5jy_133",cardSkeleton:"_cardSkeleton_wz5jy_134",loader:"_loader_wz5jy_148",cardInfoContainer:"_cardInfoContainer_wz5jy_159",cardTitle:"_cardTitle_wz5jy_164",cardSubtitle:"_cardSubtitle_wz5jy_171",cardControlsContainer:"_cardControlsContainer_wz5jy_176",cardActions:"_cardActions_wz5jy_182"}}]]),ee=u({__name:"SettingsCommunityNodesView",setup(e){const a=c(!1),t=F({router:$()}),u=q(),_=O(),w=x(),N=V(),P=W(),z=D(),I=J(),S=M(),A=R(),L=n((()=>A.isUnverifiedPackagesEnabled?w.baseText("settings.communityNodes.empty.title"):w.baseText("settings.communityNodes.empty.verified.only.title"))),H=n((()=>{if(!A.isUnverifiedPackagesEnabled)return w.baseText("settings.communityNodes.empty.verified.only.description");const e=I.availablePackageCount;return e<31?w.baseText("settings.communityNodes.empty.description.no-packages",{interpolate:{docURL:U}}):w.baseText("settings.communityNodes.empty.description",{interpolate:{docURL:U,count:(10*Math.floor(e/10)).toString()}})})),Y=n((()=>A.isUnverifiedPackagesEnabled?w.baseText("settings.communityNodes.empty.installPackageLabel"):"")),G=n((()=>({calloutText:"",calloutTheme:void 0,hideButton:!1}))),Z=()=>{K()},K=()=>{const e={is_empty_state:0===I.getInstalledPackages.length};N.track("user clicked cnr install button",e),_.run("settingsCommunityNodesView.openInstallModal",e),S.openModal(B)};return v((()=>{t.initialize(),u.pushConnect()})),y((async()=>{z.set(w.baseText("settings.communityNodes"));try{a.value=!0,await I.fetchInstalledPackages();const e=I.getInstalledPackages,t=e.filter((e=>e.updateAvailable));N.track("user viewed cnr settings page",{num_of_packages_installed:e.length,installed_packages:e.map((e=>({package_name:e.packageName,package_version:e.installedVersion,package_nodes:e.installedNodes.map((e=>`${e.name}-v${e.latestVersion}`)),is_update_available:void 0!==e.updateAvailable}))),packages_to_update:t.map((e=>({package_name:e.packageName,package_version_current:e.installedVersion,package_version_available:e.updateAvailable}))),number_of_updates_available:t.length})}catch(e){P.showError(e,w.baseText("settings.communityNodes.fetchError.title"),w.baseText("settings.communityNodes.fetchError.message"))}finally{a.value=!1}try{await I.fetchAvailableCommunityPackageCount()}finally{a.value=!1}})),d((()=>{u.pushDisconnect(),t.terminate()})),(e,t)=>(f(),l("div",{class:C(e.$style.container)},[h("div",{class:C(e.$style.headingContainer)},[r(o(E),{size:"2xlarge"},{default:p((()=>[k(i(o(w).baseText("settings.communityNodes")),1)])),_:1}),o(A).isUnverifiedPackagesEnabled&&o(I).getInstalledPackages.length>0&&!a.value?(f(),g(o(j),{key:0,label:o(w).baseText("settings.communityNodes.installModal.installButton.label"),size:"large",onClick:K},null,8,["label"])):s("",!0)],2),a.value?(f(),l("div",{key:0,class:C(e.$style.cardsContainer)},[(f(),l(m,null,b(2,(e=>r(X,{key:"index-"+e,loading:!0}))),64))],2)):0===o(I).getInstalledPackages.length?(f(),l("div",{key:1,class:C(e.$style.actionBoxContainer)},[r(o(T),{heading:L.value,description:H.value,"button-text":Y.value,"button-disabled":!o(A).isUnverifiedPackagesEnabled,"callout-text":G.value.calloutText,"callout-theme":G.value.calloutTheme,"onClick:button":Z},null,8,["heading","description","button-text","button-disabled","callout-text","callout-theme"])],2)):(f(),l("div",{key:2,class:C(e.$style.cardsContainer)},[(f(!0),l(m,null,b(o(I).getInstalledPackages,(e=>(f(),g(X,{key:e.packageName,"community-package":e},null,8,["community-package"])))),128))],2))],2))}}),e("default",S(ee,[["__cssModules",{$style:{container:"_container_rpbd6_125",headingContainer:"_headingContainer_rpbd6_133",loadingContainer:"_loadingContainer_rpbd6_138",actionBoxContainer:"_actionBoxContainer_rpbd6_143",cardsContainer:"_cardsContainer_rpbd6_147"}}]]))}}}));
//# sourceMappingURL=SettingsCommunityNodesView-legacy-B8lq6X9J.js.map