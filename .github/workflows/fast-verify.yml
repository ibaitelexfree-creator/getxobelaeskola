<<<<<<< HEAD
name: "âš¡ Fast Lane: Parallel Verification"

on:
    push:
        branches: [main, "feature/**", "fix/**"]
    pull_request:
        branches: [main]

jobs:
    fast-scan:
        name: "ðŸš€ Parallel Scan (<30s)"
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4

            - name: "Setup Runtime"
              uses: actions/setup-node@v4
              with:
                  node-version: 22

            - name: "âš¡ Parallel Execution: Lint & Logic"
              run: |
                  # 1. Install ultra-fast tools (binaries, no full npm install)
                  npm install -g oxlint@latest @biomejs/biome@latest --no-progress --loglevel=error

                  # 2. RUN PARALLEL JOBS
                  # Grouping everything to stay within the "1-minute" billable window
                  echo "ðŸ Starting parallel scans..."

                  (oxlint ./src --quiet && echo "âœ… Oxlint Passed") &
                  (biome check ./src --diagnostic-level=error && echo "âœ… Biome Passed") &

                  # Wait for all background jobs
                  wait

                  echo "âœ¨ All fast scans completed successfully!"

    heavy-compute:
        name: "ðŸ—ï¸ Heavy CI (Conditional)"
        needs: fast-scan
        if: github.ref == 'refs/heads/main'
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - name: "Full Build & Test"
              run: |
                  echo "ðŸ› ï¸ Starting heavy compute tasks..."
                  # AquÃ­ irÃ­a el npm install y next build real
                  # Solo se lanza si el Fast Scan pasa y estamos en main
                  echo "âœ… Full CI completed"
=======
name: "âš¡ Fast Lane: Parallel Verification"

on:
    push:
        branches: [main, "feature/**", "fix/**"]
    pull_request:
        branches: [main]

jobs:
    fast-scan:
        name: "ðŸš€ Parallel Scan (<30s)"
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4

            - name: "Setup Runtime"
              uses: actions/setup-node@v4
              with:
                  node-version: 22

            - name: "âš¡ Parallel Execution: Lint & Logic"
              run: |
                  # 1. Install ultra-fast tools (binaries, no full npm install)
                  npm install -g oxlint@latest @biomejs/biome@latest --no-progress --loglevel=error

                  # 2. RUN PARALLEL JOBS
                  # Grouping everything to stay within the "1-minute" billable window
                  echo "ðŸ Starting parallel scans..."

                  (oxlint ./src --quiet && echo "âœ… Oxlint Passed") &
                  (biome check ./src --diagnostic-level=error && echo "âœ… Biome Passed") &

                  # Wait for all background jobs
                  wait

                  echo "âœ¨ All fast scans completed successfully!"

    heavy-compute:
        name: "ðŸ—ï¸ Heavy CI (Conditional)"
        needs: fast-scan
        if: github.ref == 'refs/heads/main'
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - name: "Full Build & Test"
              run: |
                  echo "ðŸ› ï¸ Starting heavy compute tasks..."
                  # AquÃ­ irÃ­a el npm install y next build real
                  # Solo se lanza si el Fast Scan pasa y estamos en main
                  echo "âœ… Full CI completed"
>>>>>>> pr-286
